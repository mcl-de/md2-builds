{"version":3,"file":"angular-md2.js.map","sources":["ng://angular-md2/lib/core/compatibility/compatibility.ts","ng://angular-md2/lib/core/common-behaviors/common-module.ts","ng://angular-md2/lib/core/line/line.ts","ng://angular-md2/lib/core/rtl/dir.ts","ng://angular-md2/lib/core/observe-content/observe-content.ts","ng://angular-md2/lib/core/ripple/ripple-ref.ts","ng://angular-md2/lib/core/ripple/ripple-renderer.ts","ng://angular-md2/lib/core/platform/platform.ts","ng://angular-md2/lib/core/platform/features.ts","ng://angular-md2/lib/core/platform/index.ts","ng://angular-md2/lib/core/overlay/scroll/scroll-dispatcher.ts","ng://angular-md2/lib/core/overlay/position/viewport-ruler.ts","ng://angular-md2/lib/core/ripple/ripple.ts","ng://angular-md2/lib/core/overlay/scroll/scrollable.ts","ng://angular-md2/lib/core/overlay/scroll/scroll-strategy.ts","ng://angular-md2/lib/core/overlay/scroll/close-scroll-strategy.ts","ng://angular-md2/lib/core/overlay/scroll/noop-scroll-strategy.ts","ng://angular-md2/lib/core/overlay/scroll/block-scroll-strategy.ts","ng://angular-md2/lib/core/overlay/scroll/reposition-scroll-strategy.ts","ng://angular-md2/lib/core/overlay/scroll/scroll-strategy-options.ts","ng://angular-md2/lib/core/overlay/scroll/index.ts","ng://angular-md2/lib/core/ripple/index.ts","ng://angular-md2/lib/core/common-behaviors/color.ts","ng://angular-md2/lib/core/selection/pseudo-checkbox/pseudo-checkbox.ts","ng://angular-md2/lib/core/selection/index.ts","ng://angular-md2/lib/core/keyboard/keycodes.ts","ng://angular-md2/lib/core/coercion/boolean-property.ts","ng://angular-md2/lib/core/common-behaviors/disabled.ts","ng://angular-md2/lib/core/option/optgroup.ts","ng://angular-md2/lib/core/option/option.ts","ng://angular-md2/lib/core/option/index.ts","ng://angular-md2/lib/core/portal/portal-errors.ts","ng://angular-md2/lib/core/portal/portal.ts","ng://angular-md2/lib/core/portal/portal-directives.ts","ng://angular-md2/lib/core/overlay/overlay-state.ts","ng://angular-md2/lib/core/portal/dom-portal-host.ts","ng://angular-md2/lib/core/overlay/overlay-ref.ts","ng://angular-md2/lib/core/overlay/position/connected-position.ts","ng://angular-md2/lib/core/overlay/position/connected-position-strategy.ts","ng://angular-md2/lib/core/overlay/position/global-position-strategy.ts","ng://angular-md2/lib/core/overlay/position/overlay-position-builder.ts","ng://angular-md2/lib/core/overlay/overlay-container.ts","ng://angular-md2/lib/core/overlay/overlay.ts","ng://angular-md2/lib/core/overlay/overlay-directives.ts","ng://angular-md2/lib/core/a11y/interactivity-checker.ts","ng://angular-md2/lib/core/a11y/focus-trap.ts","ng://angular-md2/lib/core/a11y/live-announcer.ts","ng://angular-md2/lib/core/a11y/index.ts","ng://angular-md2/lib/core/overlay/fullscreen-overlay-container.ts","ng://angular-md2/lib/core/gestures/gesture-config.ts","ng://angular-md2/lib/core/selection/selection.ts","ng://angular-md2/lib/core/a11y/fake-mousedown.ts","ng://angular-md2/lib/core/coordination/unique-selection-dispatcher.ts","ng://angular-md2/lib/core/style/focus-origin-monitor.ts","ng://angular-md2/lib/core/style/apply-transform.ts","ng://angular-md2/lib/core/style/index.ts","ng://angular-md2/lib/core/animation/animation.ts","ng://angular-md2/lib/core/coercion/number-property.ts","ng://angular-md2/lib/core/datetime/date-adapter.ts","ng://angular-md2/lib/core/datetime/native-date-adapter.ts","ng://angular-md2/lib/core/datetime/date-formats.ts","ng://angular-md2/lib/core/datetime/native-date-formats.ts","ng://angular-md2/lib/core/datetime/index.ts","ng://angular-md2/lib/core/placeholder/placeholder-options.ts","ng://angular-md2/lib/core/core.ts","ng://angular-md2/lib/accordion/accordion.ts","ng://angular-md2/lib/accordion/accordiontab.ts","ng://angular-md2/lib/accordion/index.ts","ng://angular-md2/lib/autocomplete/autocomplete-pipe.ts","ng://angular-md2/lib/autocomplete/autocomplete.ts","ng://angular-md2/lib/autocomplete/index.ts","ng://angular-md2/lib/chips/chips.ts","ng://angular-md2/lib/collapse/collapse.ts","ng://angular-md2/lib/collapse/index.ts","ng://angular-md2/lib/colorpicker/color-util.ts","ng://angular-md2/lib/colorpicker/colorpicker.ts","ng://angular-md2/lib/colorpicker/index.ts","ng://angular-md2/lib/select/optgroup.ts","ng://angular-md2/lib/select/option.ts","ng://angular-md2/lib/core/a11y/list-key-manager.ts","ng://angular-md2/lib/core/a11y/focus-key-manager.ts","ng://angular-md2/lib/select/select-animations.ts","ng://angular-md2/lib/select/select-errors.ts","ng://angular-md2/lib/select/select.ts","ng://angular-md2/lib/select/select-header.ts","ng://angular-md2/lib/select/index.ts","ng://angular-md2/lib/data-table/data-table.ts","ng://angular-md2/lib/datepicker/date-locale.ts","ng://angular-md2/lib/datepicker/date-util.ts","ng://angular-md2/lib/datepicker/datepicker-animations.ts","ng://angular-md2/lib/datepicker/calendar.ts","ng://angular-md2/lib/datepicker/datepicker.ts","ng://angular-md2/lib/datepicker/datepicker-toggle.ts","ng://angular-md2/lib/datepicker/calendar-body.ts","ng://angular-md2/lib/datepicker/month-view.ts","ng://angular-md2/lib/datepicker/year-view.ts","ng://angular-md2/lib/datepicker/clock.ts","ng://angular-md2/lib/datepicker/index.ts","ng://angular-md2/lib/core/util/object-extend.ts","ng://angular-md2/lib/dialog/dialog.ts","ng://angular-md2/lib/dialog/index.ts","ng://angular-md2/lib/menu/menu-content.ts","ng://angular-md2/lib/menu/menu-item.ts","ng://angular-md2/lib/menu/menu-trigger.ts","ng://angular-md2/lib/menu/menu.ts","ng://angular-md2/lib/tabs/tabs.ts","ng://angular-md2/lib/tags/tags.ts","ng://angular-md2/lib/tags/index.ts","ng://angular-md2/lib/toast/toast.ts","ng://angular-md2/lib/toast/index.ts","ng://angular-md2/lib/tooltip/tooltip.ts","ng://angular-md2/lib/tooltip/index.ts","ng://angular-md2/lib/md.module.ts"],"sourcesContent":["import {NgModule, Directive, Inject, Optional, ElementRef, InjectionToken} from '@angular/core';\n\nexport const MATERIAL_COMPATIBILITY_MODE = new InjectionToken<boolean>('md-compatibility-mode');\n\n/**\n * Returns an exception to be thrown if the consumer has used\n * an invalid Material prefix on a component.\n * @docs-private\n */\nexport function getMdCompatibilityInvalidPrefixError(prefix: string, nodeName: string) {\n  return Error(`The \"${prefix}-\" prefix cannot be used in ng-material v1 compatibility mode. ` +\n                   `It was used on an \"${nodeName.toLowerCase()}\" element.`);\n}\n\n/** Selector that matches all elements that may have style collisions with AngularJS Material. */\nexport const MAT_ELEMENTS_SELECTOR = `\n  [mat-button],\n  [mat-fab],\n  [mat-icon-button],\n  [mat-mini-fab],\n  [mat-raised-button],\n  [matCardSubtitle],\n  [matCardTitle],\n  [matDialogActions],\n  [matDialogClose],\n  [matDialogContent],\n  [matDialogTitle],\n  [matLine],\n  [matTabLabel],\n  [matTabLink],\n  [matTabNav],\n  [matTooltip],\n  mat-autocomplete,\n  mat-button-toggle,\n  mat-button-toggle,\n  mat-button-toggle-group,\n  mat-card,\n  mat-card-actions,\n  mat-card-content,\n  mat-card-footer,\n  mat-card-header,\n  mat-card-subtitle,\n  mat-card-title,\n  mat-card-title-group,\n  mat-checkbox,\n  mat-chip,\n  mat-dialog-actions,\n  mat-dialog-container,\n  mat-dialog-content,\n  mat-divider,\n  mat-error,\n  mat-grid-list,\n  mat-grid-tile,\n  mat-grid-tile-footer,\n  mat-grid-tile-header,\n  mat-hint,\n  mat-icon,\n  mat-list,\n  mat-list-item,\n  mat-menu,\n  mat-nav-list,\n  mat-option,\n  mat-placeholder,\n  mat-progress-bar,\n  mat-pseudo-checkbox,\n  mat-radio-button,\n  mat-radio-group,\n  mat-select,\n  mat-sidenav,\n  mat-sidenav-container,\n  mat-slider,\n  mat-spinner,\n  mat-tab,\n  mat-tab-group,\n  mat-toolbar`;\n\n/** Selector that matches all elements that may have style collisions with AngularJS Material. */\nexport const MD_ELEMENTS_SELECTOR = `\n  [md-button],\n  [md-fab],\n  [md-icon-button],\n  [md-mini-fab],\n  [md-raised-button],\n  [mdCardSubtitle],\n  [mdCardTitle],\n  [mdDialogActions],\n  [mdDialogClose],\n  [mdDialogContent],\n  [mdDialogTitle],\n  [mdLine],\n  [mdTabLabel],\n  [mdTabLink],\n  [mdTabNav],\n  [mdTooltip],\n  md-autocomplete,\n  md-button-toggle,\n  md-button-toggle,\n  md-button-toggle-group,\n  md-card,\n  md-card-actions,\n  md-card-content,\n  md-card-footer,\n  md-card-header,\n  md-card-subtitle,\n  md-card-title,\n  md-card-title-group,\n  md-checkbox,\n  md-chip,\n  md-dialog-actions,\n  md-dialog-container,\n  md-dialog-content,\n  md-divider,\n  md-error,\n  md-grid-list,\n  md-grid-tile,\n  md-grid-tile-footer,\n  md-grid-tile-header,\n  md-hint,\n  md-icon,\n  md-list,\n  md-list-item,\n  md-menu,\n  md-nav-list,\n  md-option,\n  md-placeholder,\n  md-progress-bar,\n  md-pseudo-checkbox,\n  md-radio-button,\n  md-radio-group,\n  md-select,\n  md-sidenav,\n  md-sidenav-container,\n  md-slider,\n  md-spinner,\n  md-tab,\n  md-tab-group,\n  md-toolbar`;\n\n/** Directive that enforces that the `mat-` prefix cannot be used. */\n@Directive({selector: MAT_ELEMENTS_SELECTOR})\nexport class MatPrefixRejector {\n  constructor(\n    @Optional() @Inject(MATERIAL_COMPATIBILITY_MODE) isCompatibilityMode: boolean,\n    elementRef: ElementRef) {\n\n    if (!isCompatibilityMode) {\n      throw getMdCompatibilityInvalidPrefixError('mat', elementRef.nativeElement.nodeName);\n    }\n  }\n}\n\n/** Directive that enforces that the `md-` prefix cannot be used. */\n@Directive({selector: MD_ELEMENTS_SELECTOR})\nexport class MdPrefixRejector {\n  constructor(\n    @Optional() @Inject(MATERIAL_COMPATIBILITY_MODE) isCompatibilityMode: boolean,\n    elementRef: ElementRef) {\n\n    if (isCompatibilityMode) {\n      throw getMdCompatibilityInvalidPrefixError('md', elementRef.nativeElement.nodeName);\n    }\n  }\n}\n\n\n/**\n * Module that enforces the default compatibility mode settings. When this module is loaded\n * without NoConflictStyleCompatibilityMode also being imported, it will throw an error if\n * there are any uses of the `mat-` prefix.\n */\n@NgModule({\n  declarations: [MatPrefixRejector, MdPrefixRejector],\n  exports: [MatPrefixRejector, MdPrefixRejector],\n})\nexport class CompatibilityModule {}\n\n\n/**\n * Module that enforces \"no-conflict\" compatibility mode settings. When this module is loaded,\n * it will throw an error if there are any uses of the `md-` prefix.\n */\n@NgModule({\n  providers: [{\n    provide: MATERIAL_COMPATIBILITY_MODE, useValue: true,\n  }],\n})\nexport class NoConflictStyleCompatibilityMode {}\n","import {NgModule, InjectionToken, Optional, Inject, isDevMode} from '@angular/core';\nimport {DOCUMENT} from '@angular/platform-browser';\nimport {CompatibilityModule} from '../compatibility/compatibility';\n\n\n/** Injection token that configures whether the Material sanity checks are enabled. */\nexport const MATERIAL_SANITY_CHECKS = new InjectionToken<boolean>('md-sanity-checks');\n\n\n/**\n * Module that captures anything that should be loaded and/or run for *all* Angular Material\n * components. This includes Bidi, compatibility mode, etc.\n *\n * This module should be imported to each top-level component module (e.g., MdTabsModule).\n */\n@NgModule({\n  imports: [CompatibilityModule],\n  exports: [CompatibilityModule],\n  providers: [{\n    provide: MATERIAL_SANITY_CHECKS, useValue: true,\n  }],\n})\nexport class MdCommonModule {\n  /** Whether we've done the global sanity checks (e.g. a theme is loaded, there is a doctype). */\n  private _hasDoneGlobalChecks = false;\n\n  constructor(\n    @Optional() @Inject(DOCUMENT) private _document: any,\n    @Optional() @Inject(MATERIAL_SANITY_CHECKS) _sanityChecksEnabled: boolean) {\n\n    if (_sanityChecksEnabled && !this._hasDoneGlobalChecks && _document && isDevMode()) {\n      this._checkDoctype();\n      this._checkTheme();\n      this._hasDoneGlobalChecks = true;\n    }\n  }\n\n  private _checkDoctype(): void {\n    if (!this._document.doctype) {\n      console.warn(\n        'Current document does not have a doctype. This may cause ' +\n        'some Angular Material components not to behave as expected.'\n      );\n    }\n  }\n\n  private _checkTheme(): void {\n    if (typeof getComputedStyle === 'function') {\n      const testElement = this._document.createElement('div');\n\n      testElement.classList.add('mat-theme-loaded-marker');\n      this._document.body.appendChild(testElement);\n\n      if (getComputedStyle(testElement).display !== 'none') {\n        console.warn(\n          'Could not find Angular Material core theme. Most Material ' +\n          'components may not work as expected. For more info refer ' +\n          'to the theming guide: https://material.angular.io/guide/theming'\n        );\n      }\n\n      this._document.body.removeChild(testElement);\n    }\n  }\n}\n","import {\n  NgModule,\n  Directive,\n  Renderer2,\n  ElementRef,\n  QueryList,\n} from '@angular/core';\nimport {MdCommonModule} from '../common-behaviors/common-module';\n\n\n/**\n * Shared directive to count lines inside a text area, such as a list item.\n * Line elements can be extracted with a @ContentChildren(MdLine) query, then\n * counted by checking the query list's length.\n */\n@Directive({\n  selector: '[md-line], [mat-line], [mdLine], [matLine]',\n  host: {'class': 'mat-line'}\n})\nexport class MdLine {}\n\n/**\n * Helper that takes a query list of lines and sets the correct class on the host.\n * @docs-private\n */\nexport class MdLineSetter {\n  constructor(private _lines: QueryList<MdLine>, private _renderer: Renderer2,\n              private _element: ElementRef) {\n    this._setLineClass(this._lines.length);\n\n    this._lines.changes.subscribe(() => {\n      this._setLineClass(this._lines.length);\n    });\n  }\n\n  private _setLineClass(count: number): void {\n    this._resetClasses();\n    if (count === 2 || count === 3) {\n      this._setClass(`mat-${count}-line`, true);\n    } else if (count > 3) {\n      this._setClass(`mat-multi-line`, true);\n    }\n  }\n\n  private _resetClasses(): void {\n    this._setClass('mat-2-line', false);\n    this._setClass('mat-3-line', false);\n    this._setClass('mat-multi-line', false);\n  }\n\n  private _setClass(className: string, isAdd: boolean): void {\n    if (isAdd) {\n      this._renderer.addClass(this._element.nativeElement, className);\n    } else {\n      this._renderer.removeClass(this._element.nativeElement, className);\n    }\n  }\n\n}\n\n@NgModule({\n  imports: [MdCommonModule],\n  exports: [MdLine, MdCommonModule],\n  declarations: [MdLine],\n})\nexport class MdLineModule { }\n","import {\n  NgModule,\n  Directive,\n  HostBinding,\n  Output,\n  Input,\n  EventEmitter\n} from '@angular/core';\n\nexport type LayoutDirection = 'ltr' | 'rtl';\n\n/**\n * Directive to listen for changes of direction of part of the DOM.\n *\n * Applications should use this directive instead of the native attribute so that Material\n * components can listen on changes of direction.\n */\n@Directive({\n  selector: '[dir]',\n  // TODO(hansl): maybe `$implicit` isn't the best option here, but for now that's the best we got.\n  exportAs: '$implicit'\n})\nexport class Dir {\n  /** Layout direction of the element. */\n  @Input('dir') _dir: LayoutDirection = 'ltr';\n\n  /** Event emitted when the direction changes. */\n  @Output() dirChange = new EventEmitter<void>();\n\n  /** @docs-private */\n  @HostBinding('attr.dir')\n  get dir(): LayoutDirection {\n    return this._dir;\n  }\n  set dir(v: LayoutDirection) {\n    let old = this._dir;\n    this._dir = v;\n    if (old != this._dir) {\n      this.dirChange.emit();\n    }\n  }\n\n  /** Current layout direction of the element. */\n  get value(): LayoutDirection { return this.dir; }\n  set value(v: LayoutDirection) { this.dir = v; }\n}\n\n\n@NgModule({\n  exports: [Dir],\n  declarations: [Dir]\n})\nexport class RtlModule {}\n","import {\n  Directive,\n  ElementRef,\n  NgModule,\n  Output,\n  Input,\n  EventEmitter,\n  OnDestroy,\n  AfterContentInit,\n  Injectable,\n} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\n/**\n * Factory that creates a new MutationObserver and allows us to stub it out in unit tests.\n * @docs-private\n */\n@Injectable()\nexport class MdMutationObserverFactory {\n  create(callback: any): MutationObserver {\n    return typeof MutationObserver === 'undefined' ? null : new MutationObserver(callback);\n  }\n}\n\n/**\n * Directive that triggers a callback whenever the content of\n * its associated element has changed.\n */\n@Directive({\n  selector: '[cdkObserveContent]'\n})\nexport class ObserveContent implements AfterContentInit, OnDestroy {\n  private _observer: MutationObserver;\n\n  /** Event emitted for each change in the element's content. */\n  @Output('cdkObserveContent') event = new EventEmitter<MutationRecord[]>();\n\n  /** Used for debouncing the emitted values to the observeContent event. */\n  private _debouncer = new Subject<MutationRecord[]>();\n\n  /** Debounce interval for emitting the changes. */\n  @Input() debounce: number;\n\n  constructor(\n    private _mutationObserverFactory: MdMutationObserverFactory,\n    private _elementRef: ElementRef) { }\n\n  ngAfterContentInit() {\n    if (this.debounce > 0) {\n      this._debouncer\n        .pipe(debounceTime(this.debounce))\n        .subscribe(mutations => this.event.emit(mutations));\n    } else {\n      this._debouncer.subscribe(mutations => this.event.emit(mutations));\n    }\n\n    this._observer = this._mutationObserverFactory.create((mutations: MutationRecord[]) => {\n      this._debouncer.next(mutations);\n    });\n\n    if (this._observer) {\n      this._observer.observe(this._elementRef.nativeElement, {\n        characterData: true,\n        childList: true,\n        subtree: true\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._observer) {\n      this._observer.disconnect();\n      this._debouncer.complete();\n      this._debouncer = this._observer = null;\n    }\n  }\n}\n\n\n@NgModule({\n  exports: [ObserveContent],\n  declarations: [ObserveContent],\n  providers: [MdMutationObserverFactory]\n})\nexport class ObserveContentModule {}\n","import {RippleConfig, RippleRenderer} from './ripple-renderer';\n\n/** Possible states for a ripple element. */\nexport enum RippleState {\n  FADING_IN, VISIBLE, FADING_OUT, HIDDEN\n}\n\n/**\n * Reference to a previously launched ripple element.\n */\nexport class RippleRef {\n\n  /** Current state of the ripple reference. */\n  state: RippleState = RippleState.HIDDEN;\n\n  constructor(\n    private _renderer: RippleRenderer,\n    public element: HTMLElement,\n    public config: RippleConfig) {\n  }\n\n  /** Fades out the ripple element. */\n  fadeOut() {\n    this._renderer.fadeOutRipple(this);\n  }\n}\n","import {ElementRef, NgZone} from '@angular/core';\nimport {Platform} from '../platform/platform';\nimport {ViewportRuler} from '../overlay/position/viewport-ruler';\nimport {RippleRef, RippleState} from './ripple-ref';\n\n\n/** Fade-in duration for the ripples. Can be modified with the speedFactor option. */\nexport const RIPPLE_FADE_IN_DURATION = 450;\n\n/** Fade-out duration for the ripples in milliseconds. This can't be modified by the speedFactor. */\nexport const RIPPLE_FADE_OUT_DURATION = 400;\n\nexport type RippleConfig = {\n  color?: string;\n  centered?: boolean;\n  radius?: number;\n  speedFactor?: number;\n  persistent?: boolean;\n};\n\n/**\n * Helper service that performs DOM manipulations. Not intended to be used outside this module.\n * The constructor takes a reference to the ripple directive's host element and a map of DOM\n * event handlers to be installed on the element that triggers ripple animations.\n * This will eventually become a custom renderer once Angular support exists.\n * @docs-private\n */\nexport class RippleRenderer {\n\n  /** Element where the ripples are being added to. */\n  private _containerElement: HTMLElement;\n\n  /** Element which triggers the ripple elements on mouse events. */\n  private _triggerElement: HTMLElement;\n\n  /** Whether the mouse is currently down or not. */\n  private _isMousedown: boolean = false;\n\n  /** Events to be registered on the trigger element. */\n  private _triggerEvents = new Map<string, any>();\n\n  /** Set of currently active ripple references. */\n  private _activeRipples = new Set<RippleRef>();\n\n  /** Ripple config for all ripples created by events. */\n  rippleConfig: RippleConfig = {};\n\n  /** Whether mouse ripples should be created or not. */\n  rippleDisabled: boolean = false;\n\n  constructor(\n      elementRef: ElementRef,\n      private _ngZone: NgZone,\n      private _ruler: ViewportRuler,\n      platform: Platform) {\n    // Only do anything if we're on the browser.\n    if (platform.isBrowser) {\n      this._containerElement = elementRef.nativeElement;\n\n      // Specify events which need to be registered on the trigger.\n      this._triggerEvents.set('mousedown', this.onMousedown.bind(this));\n      this._triggerEvents.set('mouseup', this.onMouseup.bind(this));\n      this._triggerEvents.set('mouseleave', this.onMouseLeave.bind(this));\n\n      // By default use the host element as trigger element.\n      this.setTriggerElement(this._containerElement);\n    }\n  }\n\n  /** Fades in a ripple at the given coordinates. */\n  fadeInRipple(pageX: number, pageY: number, config: RippleConfig = {}): RippleRef {\n    let containerRect = this._containerElement.getBoundingClientRect();\n\n    if (config.centered) {\n      pageX = containerRect.left + containerRect.width / 2;\n      pageY = containerRect.top + containerRect.height / 2;\n    } else {\n      // Subtract scroll values from the coordinates because calculations below\n      // are always relative to the viewport rectangle.\n      let scrollPosition = this._ruler.getViewportScrollPosition();\n      pageX -= scrollPosition.left;\n      pageY -= scrollPosition.top;\n    }\n\n    let radius = config.radius || distanceToFurthestCorner(pageX, pageY, containerRect);\n    let duration = RIPPLE_FADE_IN_DURATION * (1 / (config.speedFactor || 1));\n    let offsetX = pageX - containerRect.left;\n    let offsetY = pageY - containerRect.top;\n\n    let ripple = document.createElement('div');\n    ripple.classList.add('mat-ripple-element');\n\n    ripple.style.left = `${offsetX - radius}px`;\n    ripple.style.top = `${offsetY - radius}px`;\n    ripple.style.height = `${radius * 2}px`;\n    ripple.style.width = `${radius * 2}px`;\n\n    // If the color is not set, the default CSS color will be used.\n    ripple.style.backgroundColor = config.color;\n    ripple.style.transitionDuration = `${duration}ms`;\n\n    this._containerElement.appendChild(ripple);\n\n    // By default the browser does not recalculate the styles of dynamically created\n    // ripple elements. This is critical because then the `scale` would not animate properly.\n    enforceStyleRecalculation(ripple);\n\n    ripple.style.transform = 'scale(1)';\n\n    // Exposed reference to the ripple that will be returned.\n    let rippleRef = new RippleRef(this, ripple, config);\n\n    rippleRef.state = RippleState.FADING_IN;\n\n    // Add the ripple reference to the list of all active ripples.\n    this._activeRipples.add(rippleRef);\n\n    // Wait for the ripple element to be completely faded in.\n    // Once it's faded in, the ripple can be hidden immediately if the mouse is released.\n    this.runTimeoutOutsideZone(() => {\n      rippleRef.state = RippleState.VISIBLE;\n\n      if (!config.persistent && !this._isMousedown) {\n        rippleRef.fadeOut();\n      }\n    }, duration);\n\n    return rippleRef;\n  }\n\n  /** Fades out a ripple reference. */\n  fadeOutRipple(rippleRef: RippleRef) {\n    // For ripples that are not active anymore, don't re-un the fade-out animation.\n    if (!this._activeRipples.delete(rippleRef)) {\n      return;\n    }\n\n    let rippleEl = rippleRef.element;\n\n    rippleEl.style.transitionDuration = `${RIPPLE_FADE_OUT_DURATION}ms`;\n    rippleEl.style.opacity = '0';\n\n    rippleRef.state = RippleState.FADING_OUT;\n\n    // Once the ripple faded out, the ripple can be safely removed from the DOM.\n    this.runTimeoutOutsideZone(() => {\n      rippleRef.state = RippleState.HIDDEN;\n      rippleEl.parentNode.removeChild(rippleEl);\n    }, RIPPLE_FADE_OUT_DURATION);\n  }\n\n  /** Fades out all currently active ripples. */\n  fadeOutAll() {\n    this._activeRipples.forEach(ripple => ripple.fadeOut());\n  }\n\n  /** Sets the trigger element and registers the mouse events. */\n  setTriggerElement(element: HTMLElement) {\n    // Remove all previously register event listeners from the trigger element.\n    if (this._triggerElement) {\n      this._triggerEvents.forEach((fn, type) => this._triggerElement.removeEventListener(type, fn));\n    }\n\n    if (element) {\n      // If the element is not null, register all event listeners on the trigger element.\n      this._ngZone.runOutsideAngular(() => {\n        this._triggerEvents.forEach((fn, type) => element.addEventListener(type, fn));\n      });\n    }\n\n    this._triggerElement = element;\n  }\n\n  /** Listener being called on mousedown event. */\n  private onMousedown(event: MouseEvent) {\n    if (!this.rippleDisabled) {\n      this._isMousedown = true;\n      this.fadeInRipple(event.pageX, event.pageY, this.rippleConfig);\n    }\n  }\n\n  /** Listener being called on mouseup event. */\n  private onMouseup() {\n    this._isMousedown = false;\n\n    // Fade-out all ripples that are completely visible and not persistent.\n    this._activeRipples.forEach(ripple => {\n      if (!ripple.config.persistent && ripple.state === RippleState.VISIBLE) {\n        ripple.fadeOut();\n      }\n    });\n  }\n\n  /** Listener being called on mouseleave event. */\n  private onMouseLeave() {\n    if (this._isMousedown) {\n      this.onMouseup();\n    }\n  }\n\n  /** Runs a timeout outside of the Angular zone to avoid triggering the change detection. */\n  private runTimeoutOutsideZone(fn: Function, delay = 0) {\n    this._ngZone.runOutsideAngular(() => setTimeout(fn, delay));\n  }\n\n}\n\n/** Enforces a style recalculation of a DOM element by computing its styles. */\n// TODO(devversion): Move into global utility function.\nfunction enforceStyleRecalculation(element: HTMLElement) {\n  // Enforce a style recalculation by calling `getComputedStyle` and accessing any property.\n  // Calling `getPropertyValue` is important to let optimizers know that this is not a noop.\n  // See: https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n  window.getComputedStyle(element).getPropertyValue('opacity');\n}\n\n/**\n * Returns the distance from the point (x, y) to the furthest corner of a rectangle.\n */\nfunction distanceToFurthestCorner(x: number, y: number, rect: ClientRect) {\n  const distX = Math.max(Math.abs(x - rect.left), Math.abs(x - rect.right));\n  const distY = Math.max(Math.abs(y - rect.top), Math.abs(y - rect.bottom));\n  return Math.sqrt(distX * distX + distY * distY);\n}\n","import {Injectable} from '@angular/core';\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nconst hasV8BreakIterator = (typeof(Intl) !== 'undefined' && (Intl as any).v8BreakIterator);\n\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n * @docs-private\n */\n@Injectable()\nexport class Platform {\n  isBrowser: boolean = typeof document === 'object' && !!document;\n\n  /** Layout Engines */\n  EDGE = this.isBrowser && /(edge)/i.test(navigator.userAgent);\n  TRIDENT = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  BLINK = this.isBrowser &&\n      (!!((window as any).chrome || hasV8BreakIterator) && !!CSS && !this.EDGE && !this.TRIDENT);\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  WEBKIT = this.isBrowser &&\n      /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Browsers and Platform Types */\n  IOS = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !(window as any).MSStream;\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  FIREFOX = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  SAFARI = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT;\n}\n","/** Cached result Set of input types support by the current browser. */\nlet supportedInputTypes: Set<string>;\n\n/** Types of <input> that *might* be supported. */\nconst candidateInputTypes = [\n  // `color` must come first. Chrome 56 shows a warning if we change the type to `color` after\n  // first changing it to something else:\n  // The specified value \"\" does not conform to the required format.\n  // The format is \"#rrggbb\" where rr, gg, bb are two-digit hexadecimal numbers.\n  'color',\n  'button',\n  'checkbox',\n  'date',\n  'datetime-local',\n  'email',\n  'file',\n  'hidden',\n  'image',\n  'month',\n  'number',\n  'password',\n  'radio',\n  'range',\n  'reset',\n  'search',\n  'submit',\n  'tel',\n  'text',\n  'time',\n  'url',\n  'week',\n];\n\n/** @returns The input types supported by this browser. */\nexport function getSupportedInputTypes(): Set<string> {\n  // Result is cached.\n  if (supportedInputTypes) {\n    return supportedInputTypes;\n  }\n\n  // We can't check if an input type is not supported until we're on the browser, so say that\n  // everything is supported when not on the browser. We don't use `Platform` here since it's\n  // just a helper function and can't inject it.\n  if (typeof document !== 'object' || !document) {\n    supportedInputTypes = new Set(candidateInputTypes);\n    return supportedInputTypes;\n  }\n\n  let featureTestInput = document.createElement('input');\n  supportedInputTypes = new Set(candidateInputTypes.filter(value => {\n    featureTestInput.setAttribute('type', value);\n    return featureTestInput.type === value;\n  }));\n\n  return supportedInputTypes;\n}\n","import {NgModule} from '@angular/core';\nimport {Platform} from './platform';\n\n\n@NgModule({\n  providers: [Platform]\n})\nexport class PlatformModule {}\n\n\nexport * from './platform';\nexport * from './features';\n","import {ElementRef, Injectable, NgZone, Optional, SkipSelf} from '@angular/core';\nimport {Platform} from '../../platform/index';\nimport {Scrollable} from './scrollable';\nimport {Subject} from 'rxjs';\nimport {Subscription, merge, fromEvent} from 'rxjs';\nimport {auditTime} from 'rxjs/operators';\n\n\n/** Time in ms to throttle the scrolling events by default. */\nexport const DEFAULT_SCROLL_TIME = 20;\n\n/**\n * Service contained all registered Scrollable references and emits an event when any one of the\n * Scrollable references emit a scrolled event.\n */\n@Injectable()\nexport class ScrollDispatcher {\n  constructor(private _ngZone: NgZone, private _platform: Platform) { }\n\n  /** Subject for notifying that a registered scrollable reference element has been scrolled. */\n  _scrolled: Subject<void> = new Subject<void>();\n\n  /** Keeps track of the global `scroll` and `resize` subscriptions. */\n  _globalSubscription: Subscription = null;\n\n  /** Keeps track of the amount of subscriptions to `scrolled`. Used for cleaning up afterwards. */\n  private _scrolledCount = 0;\n\n  /**\n   * Map of all the scrollable references that are registered with the service and their\n   * scroll event subscriptions.\n   */\n  scrollableReferences: Map<Scrollable, Subscription> = new Map();\n\n  /**\n   * Registers a Scrollable with the service and listens for its scrolled events. When the\n   * scrollable is scrolled, the service emits the event in its scrolled observable.\n   * @param scrollable Scrollable instance to be registered.\n   */\n  register(scrollable: Scrollable): void {\n    const scrollSubscription = scrollable.elementScrolled().subscribe(() => this._notify());\n\n    this.scrollableReferences.set(scrollable, scrollSubscription);\n  }\n\n  /**\n   * Deregisters a Scrollable reference and unsubscribes from its scroll event observable.\n   * @param scrollable Scrollable instance to be deregistered.\n   */\n  deregister(scrollable: Scrollable): void {\n    if (this.scrollableReferences.has(scrollable)) {\n      this.scrollableReferences.get(scrollable).unsubscribe();\n      this.scrollableReferences.delete(scrollable);\n    }\n  }\n\n  /**\n   * Subscribes to an observable that emits an event whenever any of the registered Scrollable\n   * references (or window, document, or body) fire a scrolled event. Can provide a time in ms\n   * to override the default \"throttle\" time.\n   */\n  scrolled(auditTimeInMs: number = DEFAULT_SCROLL_TIME, callback: () => any): Subscription {\n    // Scroll events can only happen on the browser, so do nothing if we're not on the browser.\n    if (!this._platform.isBrowser) {\n      return Subscription.EMPTY;\n    }\n\n    // In the case of a 0ms delay, use an observable without auditTime\n    // since it does add a perceptible delay in processing overhead.\n    let observable = auditTimeInMs > 0 ?\n      this._scrolled.asObservable().pipe(auditTime(auditTimeInMs)) :\n      this._scrolled.asObservable();\n\n    this._scrolledCount++;\n\n    if (!this._globalSubscription) {\n      this._globalSubscription = this._ngZone.runOutsideAngular(() => {\n        return merge(\n          fromEvent(window.document, 'scroll'),\n          fromEvent(window, 'resize')\n        ).subscribe(() => this._notify());\n      });\n    }\n\n    // Note that we need to do the subscribing from here, in order to be able to remove\n    // the global event listeners once there are no more subscriptions.\n    let subscription = observable.subscribe(callback);\n\n    subscription.add(() => {\n      this._scrolledCount--;\n\n      if (this._globalSubscription && !this.scrollableReferences.size && !this._scrolledCount) {\n        this._globalSubscription.unsubscribe();\n        this._globalSubscription = null;\n      }\n    });\n\n    return subscription;\n  }\n\n  /** Returns all registered Scrollables that contain the provided element. */\n  getScrollContainers(elementRef: ElementRef): Scrollable[] {\n    const scrollingContainers: Scrollable[] = [];\n\n    this.scrollableReferences.forEach((_subscription: Subscription, scrollable: Scrollable) => {\n      if (this.scrollableContainsElement(scrollable, elementRef)) {\n        scrollingContainers.push(scrollable);\n      }\n    });\n\n    return scrollingContainers;\n  }\n\n  /** Returns true if the element is contained within the provided Scrollable. */\n  scrollableContainsElement(scrollable: Scrollable, elementRef: ElementRef): boolean {\n    let element = elementRef.nativeElement;\n    let scrollableElement = scrollable.getElementRef().nativeElement;\n\n    // Traverse through the element parents until we reach null, checking if any of the elements\n    // are the scrollable's element.\n    do {\n      if (element == scrollableElement) { return true; }\n    } while (element = element.parentElement);\n  }\n\n  /** Sends a notification that a scroll event has been fired. */\n  _notify() {\n    this._scrolled.next();\n  }\n}\n\nexport function SCROLL_DISPATCHER_PROVIDER_FACTORY(\n    parentDispatcher: ScrollDispatcher, ngZone: NgZone, platform: Platform) {\n  return parentDispatcher || new ScrollDispatcher(ngZone, platform);\n}\n\nexport const SCROLL_DISPATCHER_PROVIDER = {\n  // If there is already a ScrollDispatcher available, use that. Otherwise, provide a new one.\n  provide: ScrollDispatcher,\n  deps: [[new Optional(), new SkipSelf(), ScrollDispatcher], NgZone, Platform],\n  useFactory: SCROLL_DISPATCHER_PROVIDER_FACTORY\n};\n","import {Injectable, Optional, SkipSelf} from '@angular/core';\nimport {ScrollDispatcher} from '../scroll/scroll-dispatcher';\n\n\n/**\n * Simple utility for getting the bounds of the browser viewport.\n * @docs-private\n */\n@Injectable()\nexport class ViewportRuler {\n\n  /** Cached document client rectangle. */\n  private _documentRect?: ClientRect;\n\n  constructor(scrollDispatcher: ScrollDispatcher) {\n    // Subscribe to scroll and resize events and update the document rectangle on changes.\n    scrollDispatcher.scrolled(null, () => this._cacheViewportGeometry());\n  }\n\n  /** Gets a ClientRect for the viewport's bounds. */\n  getViewportRect(documentRect = this._documentRect): ClientRect {\n    // Cache the document bounding rect so that we don't recompute it for multiple calls.\n    if (!documentRect) {\n      this._cacheViewportGeometry();\n      documentRect = this._documentRect;\n    }\n\n    // Use the document element's bounding rect rather than the window scroll properties\n    // (e.g. pageYOffset, scrollY) due to in issue in Chrome and IE where window scroll\n    // properties and client coordinates (boundingClientRect, clientX/Y, etc.) are in different\n    // conceptual viewports. Under most circumstances these viewports are equivalent, but they\n    // can disagree when the page is pinch-zoomed (on devices that support touch).\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=489206#c4\n    // We use the documentElement instead of the body because, by default (without a css reset)\n    // browsers typically give the document body an 8px margin, which is not included in\n    // getBoundingClientRect().\n    const scrollPosition = this.getViewportScrollPosition(documentRect);\n    const height = window.innerHeight;\n    const width = window.innerWidth;\n\n    return {\n      top: scrollPosition.top,\n      left: scrollPosition.left,\n      bottom: scrollPosition.top + height,\n      right: scrollPosition.left + width,\n      height,\n      width,\n    };\n  }\n\n\n  /**\n   * Gets the (top, left) scroll position of the viewport.\n   * @param documentRect\n   */\n  getViewportScrollPosition(documentRect = this._documentRect) {\n    // Cache the document bounding rect so that we don't recompute it for multiple calls.\n    if (!documentRect) {\n      this._cacheViewportGeometry();\n      documentRect = this._documentRect;\n    }\n\n    // The top-left-corner of the viewport is determined by the scroll position of the document\n    // body, normally just (scrollLeft, scrollTop). However, Chrome and Firefox disagree about\n    // whether `document.body` or `document.documentElement` is the scrolled element, so reading\n    // `scrollTop` and `scrollLeft` is inconsistent. However, using the bounding rect of\n    // `document.documentElement` works consistently, where the `top` and `left` values will\n    // equal negative the scroll position.\n    const top = -documentRect.top || document.body.scrollTop || window.scrollY ||\n                  document.documentElement.scrollTop || 0;\n\n    const left = -documentRect.left || document.body.scrollLeft || window.scrollX ||\n                  document.documentElement.scrollLeft || 0;\n\n    return {top, left};\n  }\n\n  /** Caches the latest client rectangle of the document element. */\n  _cacheViewportGeometry() {\n    this._documentRect = document.documentElement.getBoundingClientRect();\n  }\n\n}\n\nexport function VIEWPORT_RULER_PROVIDER_FACTORY(parentRuler: ViewportRuler,\n                                                scrollDispatcher: ScrollDispatcher) {\n  return parentRuler || new ViewportRuler(scrollDispatcher);\n}\n\nexport const VIEWPORT_RULER_PROVIDER = {\n  // If there is already a ViewportRuler available, use that. Otherwise, provide a new one.\n  provide: ViewportRuler,\n  deps: [[new Optional(), new SkipSelf(), ViewportRuler], ScrollDispatcher],\n  useFactory: VIEWPORT_RULER_PROVIDER_FACTORY\n};\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  Inject,\n  NgZone,\n  OnChanges,\n  SimpleChanges,\n  OnDestroy,\n  InjectionToken,\n  Optional,\n} from '@angular/core';\nimport {RippleConfig, RippleRenderer} from './ripple-renderer';\nimport {RippleRef} from './ripple-ref';\nimport {ViewportRuler} from '../overlay/position/viewport-ruler';\nimport {Platform} from '../platform/platform';\n\nexport interface RippleGlobalOptions {\n  disabled?: boolean;\n  baseSpeedFactor?: number;\n}\n\n/** Injection token that can be used to specify the global ripple options. */\nexport const MD_RIPPLE_GLOBAL_OPTIONS =\n    new InjectionToken<RippleGlobalOptions>('md-ripple-global-options');\n\n@Directive({\n  selector: '[md-ripple], [mat-ripple], [mdRipple], [matRipple]',\n  exportAs: 'mdRipple',\n  host: {\n    'class': 'mat-ripple',\n    '[class.mat-ripple-unbounded]': 'unbounded'\n  }\n})\nexport class MdRipple implements OnChanges, OnDestroy {\n\n  /**\n   * The element that triggers the ripple when click events are received. Defaults to the\n   * directive's host element.\n   */\n  // Prevent TS metadata emit from referencing HTMLElement in ripple.js\n  // Otherwise running this code in a Node environment (e.g Universal) will not work.\n  @Input('mdRippleTrigger') trigger: HTMLElement|HTMLElement;\n\n  /**\n   * Whether the ripple always originates from the center of the host element's bounds, rather\n   * than originating from the location of the click event.\n   */\n  @Input('mdRippleCentered') centered: boolean;\n\n  /**\n   * Whether click events will not trigger the ripple. It can still be triggered by manually\n   * calling createRipple()\n   */\n  @Input('mdRippleDisabled') disabled: boolean;\n\n  /**\n   * If set, the radius in pixels of foreground ripples when fully expanded. If unset, the radius\n   * will be the distance from the center of the ripple to the furthest corner of the host element's\n   * bounding rectangle.\n   */\n  @Input('mdRippleRadius') radius: number = 0;\n\n  /**\n   * If set, the normal duration of ripple animations is divided by this value. For example,\n   * setting it to 0.5 will cause the animations to take twice as long.\n   * A changed speedFactor will not modify the fade-out duration of the ripples.\n   */\n  @Input('mdRippleSpeedFactor') speedFactor: number = 1;\n\n  /** Custom color for ripples. */\n  @Input('mdRippleColor') color: string;\n\n  /** Whether foreground ripples should be visible outside the component's bounds. */\n  @Input('mdRippleUnbounded') unbounded: boolean;\n\n  /** Renderer for the ripple DOM manipulations. */\n  private _rippleRenderer: RippleRenderer;\n\n  /** Options that are set globally for all ripples. */\n  private _globalOptions: RippleGlobalOptions;\n\n  constructor(\n    elementRef: ElementRef,\n    ngZone: NgZone,\n    ruler: ViewportRuler,\n    platform: Platform,\n    @Optional() @Inject(MD_RIPPLE_GLOBAL_OPTIONS) globalOptions: RippleGlobalOptions\n  ) {\n    this._rippleRenderer = new RippleRenderer(elementRef, ngZone, ruler, platform);\n    this._globalOptions = globalOptions ? globalOptions : {};\n\n    this._updateRippleRenderer();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['trigger'] && this.trigger) {\n      this._rippleRenderer.setTriggerElement(this.trigger);\n    }\n\n    this._updateRippleRenderer();\n  }\n\n  ngOnDestroy() {\n    // Set the trigger element to null to cleanup all listeners.\n    this._rippleRenderer.setTriggerElement(null);\n  }\n\n  /** Launches a manual ripple at the specified position. */\n  launch(pageX: number, pageY: number, config = this.rippleConfig): RippleRef {\n    return this._rippleRenderer.fadeInRipple(pageX, pageY, config);\n  }\n\n  /** Fades out all currently showing ripple elements. */\n  fadeOutAll() {\n    this._rippleRenderer.fadeOutAll();\n  }\n\n  /** Ripple configuration from the directive's input values. */\n  get rippleConfig(): RippleConfig {\n    return {\n      centered: this.centered,\n      speedFactor: this.speedFactor * (this._globalOptions.baseSpeedFactor || 1),\n      radius: this.radius,\n      color: this.color\n    };\n  }\n\n  /** Updates the ripple renderer with the latest ripple configuration. */\n  private _updateRippleRenderer() {\n    this._rippleRenderer.rippleDisabled = this._globalOptions.disabled || this.disabled;\n    this._rippleRenderer.rippleConfig = this.rippleConfig;\n  }\n}\n","import {Directive, ElementRef, OnInit, OnDestroy, NgZone, Renderer2} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\nimport {ScrollDispatcher} from './scroll-dispatcher';\n\n\n/**\n * Sends an event when the directive's element is scrolled. Registers itself with the\n * ScrollDispatcher service to include itself as part of its collection of scrolling events that it\n * can be listened to through the service.\n */\n@Directive({\n  selector: '[cdk-scrollable], [cdkScrollable]'\n})\nexport class Scrollable implements OnInit, OnDestroy {\n  private _elementScrolled: Subject<Event> = new Subject();\n  private _scrollListener: Function;\n\n  constructor(private _elementRef: ElementRef,\n              private _scroll: ScrollDispatcher,\n              private _ngZone: NgZone,\n              private _renderer: Renderer2) {}\n\n  ngOnInit() {\n    this._scrollListener = this._ngZone.runOutsideAngular(() => {\n      return this._renderer.listen(this.getElementRef().nativeElement, 'scroll', (event: Event) => {\n        this._elementScrolled.next(event);\n      });\n    });\n\n    this._scroll.register(this);\n  }\n\n  ngOnDestroy() {\n    this._scroll.deregister(this);\n\n    if (this._scrollListener) {\n      this._scrollListener();\n      this._scrollListener = null;\n    }\n  }\n\n  /**\n   * Returns observable that emits when a scroll event is fired on the host element.\n   */\n  elementScrolled(): Observable<any> {\n    return this._elementScrolled.asObservable();\n  }\n\n  getElementRef(): ElementRef {\n    return this._elementRef;\n  }\n}\n","import {OverlayRef} from '../overlay-ref';\n\n/**\n * Describes a strategy that will be used by an overlay\n * to handle scroll events while it is open.\n */\nexport interface ScrollStrategy {\n  enable: () => void;\n  disable: () => void;\n  attach: (overlayRef: OverlayRef) => void;\n}\n\n/**\n * Returns an error to be thrown when attempting to attach an already-attached scroll strategy.\n */\nexport function getMdScrollStrategyAlreadyAttachedError(): Error {\n  return Error(`Scroll strategy has already been attached.`);\n}\n","import {ScrollStrategy, getMdScrollStrategyAlreadyAttachedError} from './scroll-strategy';\nimport {OverlayRef} from '../overlay-ref';\nimport {Subscription} from 'rxjs';\nimport {ScrollDispatcher} from './scroll-dispatcher';\n\n\n/**\n * Strategy that will close the overlay as soon as the user starts scrolling.\n */\nexport class CloseScrollStrategy implements ScrollStrategy {\n  private _scrollSubscription: Subscription|null = null;\n  private _overlayRef: OverlayRef;\n\n  constructor(private _scrollDispatcher: ScrollDispatcher) { }\n\n  attach(overlayRef: OverlayRef) {\n    if (this._overlayRef) {\n      throw getMdScrollStrategyAlreadyAttachedError();\n    }\n\n    this._overlayRef = overlayRef;\n  }\n\n  enable() {\n    if (!this._scrollSubscription) {\n      this._scrollSubscription = this._scrollDispatcher.scrolled(null, () => {\n        if (this._overlayRef.hasAttached()) {\n          this._overlayRef.detach();\n        }\n\n        this.disable();\n      });\n    }\n  }\n\n  disable() {\n    if (this._scrollSubscription) {\n      this._scrollSubscription.unsubscribe();\n      this._scrollSubscription = null;\n    }\n  }\n}\n","import {ScrollStrategy} from './scroll-strategy';\n\n/**\n * Scroll strategy that doesn't do anything.\n */\nexport class NoopScrollStrategy implements ScrollStrategy {\n  enable() { }\n  disable() { }\n  attach() { }\n}\n","import {ScrollStrategy} from './scroll-strategy';\nimport {ViewportRuler} from '../position/viewport-ruler';\n\n/**\n * Strategy that will prevent the user from scrolling while the overlay is visible.\n */\nexport class BlockScrollStrategy implements ScrollStrategy {\n  private _previousHTMLStyles = { top: '', left: '' };\n  private _previousScrollPosition: { top: number, left: number };\n  private _isEnabled = false;\n\n  constructor(private _viewportRuler: ViewportRuler) { }\n\n  attach() { }\n\n  enable() {\n    if (this._canBeEnabled()) {\n      const root = document.documentElement;\n\n      this._previousScrollPosition = this._viewportRuler.getViewportScrollPosition();\n\n      // Cache the previous inline styles in case the user had set them.\n      this._previousHTMLStyles.left = root.style.left;\n      this._previousHTMLStyles.top = root.style.top;\n\n      // Note: we're using the `html` node, instead of the `body`, because the `body` may\n      // have the user agent margin, whereas the `html` is guaranteed not to have one.\n      root.style.left = `${-this._previousScrollPosition.left}px`;\n      root.style.top = `${-this._previousScrollPosition.top}px`;\n      root.classList.add('cdk-global-scrollblock');\n      this._isEnabled = true;\n    }\n  }\n\n  disable() {\n    if (this._isEnabled) {\n      this._isEnabled = false;\n      document.documentElement.style.left = this._previousHTMLStyles.left;\n      document.documentElement.style.top = this._previousHTMLStyles.top;\n      document.documentElement.classList.remove('cdk-global-scrollblock');\n      window.scroll(this._previousScrollPosition.left, this._previousScrollPosition.top);\n    }\n  }\n\n  private _canBeEnabled(): boolean {\n    // Since the scroll strategies can't be singletons, we have to use a global CSS class\n    // (`cdk-global-scrollblock`) to make sure that we don't try to disable global\n    // scrolling multiple times.\n    if (document.documentElement.classList.contains('cdk-global-scrollblock') || this._isEnabled) {\n      return false;\n    }\n\n    const body = document.body;\n    const viewport = this._viewportRuler.getViewportRect();\n    return body.scrollHeight > viewport.height || body.scrollWidth > viewport.width;\n  }\n}\n","import {Subscription} from 'rxjs';\nimport {ScrollStrategy, getMdScrollStrategyAlreadyAttachedError} from './scroll-strategy';\nimport {OverlayRef} from '../overlay-ref';\nimport {ScrollDispatcher} from './scroll-dispatcher';\n\n/**\n * Config options for the RepositionScrollStrategy.\n */\nexport interface RepositionScrollStrategyConfig {\n  scrollThrottle?: number;\n}\n\n/**\n * Strategy that will update the element position as the user is scrolling.\n */\nexport class RepositionScrollStrategy implements ScrollStrategy {\n  private _scrollSubscription: Subscription|null = null;\n  private _overlayRef: OverlayRef;\n\n  constructor(\n    private _scrollDispatcher: ScrollDispatcher,\n    private _config: RepositionScrollStrategyConfig) { }\n\n  attach(overlayRef: OverlayRef) {\n    if (this._overlayRef) {\n      throw getMdScrollStrategyAlreadyAttachedError();\n    }\n\n    this._overlayRef = overlayRef;\n  }\n\n  enable() {\n    if (!this._scrollSubscription) {\n      let throttle = this._config ? this._config.scrollThrottle : 0;\n\n      this._scrollSubscription = this._scrollDispatcher.scrolled(throttle, () => {\n        this._overlayRef.updatePosition();\n      });\n    }\n  }\n\n  disable() {\n    if (this._scrollSubscription) {\n      this._scrollSubscription.unsubscribe();\n      this._scrollSubscription = null;\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ScrollStrategy} from './scroll-strategy';\nimport {CloseScrollStrategy} from './close-scroll-strategy';\nimport {NoopScrollStrategy} from './noop-scroll-strategy';\nimport {BlockScrollStrategy} from './block-scroll-strategy';\nimport {ScrollDispatcher} from './scroll-dispatcher';\nimport {ViewportRuler} from '../position/viewport-ruler';\nimport {\n  RepositionScrollStrategy,\n  RepositionScrollStrategyConfig,\n} from './reposition-scroll-strategy';\n\n\n/**\n * Options for how an overlay will handle scrolling.\n *\n * Users can provide a custom value for `ScrollStrategyOptions` to replace the default\n * behaviors. This class primarily acts as a factory for ScrollStrategy instances.\n */\n@Injectable()\nexport class ScrollStrategyOptions {\n  constructor(\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewportRuler: ViewportRuler) { }\n\n  /** Do nothing on scroll. */\n  noop = () => new NoopScrollStrategy();\n\n  /** Close the overlay as soon as the user scrolls. */\n  close = () => new CloseScrollStrategy(this._scrollDispatcher);\n\n  /** Block scrolling. */\n  block = () => new BlockScrollStrategy(this._viewportRuler);\n\n  /**\n   * Update the overlay's position on scroll.\n   * @param config Configuration to be used inside the scroll strategy.\n   * Allows debouncing the reposition calls.\n   */\n  reposition = (config?: RepositionScrollStrategyConfig) =>\n      new RepositionScrollStrategy(this._scrollDispatcher, config)\n}\n","import {NgModule} from '@angular/core';\nimport {SCROLL_DISPATCHER_PROVIDER} from './scroll-dispatcher';\nimport {Scrollable} from './scrollable';\nimport {PlatformModule} from '../../platform/index';\nimport {ScrollStrategyOptions} from './scroll-strategy-options';\n\nexport {Scrollable} from './scrollable';\nexport {ScrollDispatcher} from './scroll-dispatcher';\n\n// Export pre-defined scroll strategies and interface to build custom ones.\nexport {ScrollStrategy} from './scroll-strategy';\nexport {ScrollStrategyOptions} from './scroll-strategy-options';\nexport {RepositionScrollStrategy} from './reposition-scroll-strategy';\nexport {CloseScrollStrategy} from './close-scroll-strategy';\nexport {NoopScrollStrategy} from './noop-scroll-strategy';\nexport {BlockScrollStrategy} from './block-scroll-strategy';\n\n@NgModule({\n  imports: [PlatformModule],\n  exports: [Scrollable],\n  declarations: [Scrollable],\n  providers: [SCROLL_DISPATCHER_PROVIDER, ScrollStrategyOptions],\n})\nexport class ScrollDispatchModule { }\n","import {NgModule} from '@angular/core';\nimport {MdRipple} from './ripple';\nimport {MdCommonModule} from '../common-behaviors/common-module';\nimport {VIEWPORT_RULER_PROVIDER} from '../overlay/position/viewport-ruler';\nimport {ScrollDispatchModule} from '../overlay/scroll/index';\nimport {PlatformModule} from '../platform/index';\n\nexport {MdRipple, RippleGlobalOptions, MD_RIPPLE_GLOBAL_OPTIONS} from './ripple';\nexport {RippleRef, RippleState} from './ripple-ref';\nexport {RippleConfig, RIPPLE_FADE_IN_DURATION, RIPPLE_FADE_OUT_DURATION} from './ripple-renderer';\n\n@NgModule({\n  imports: [MdCommonModule, PlatformModule, ScrollDispatchModule],\n  exports: [MdRipple, MdCommonModule],\n  declarations: [MdRipple],\n  providers: [VIEWPORT_RULER_PROVIDER],\n})\nexport class MdRippleModule {}\n","import {Constructor} from './constructor';\nimport {ElementRef, Renderer2} from '@angular/core';\n\n/** @docs-private */\nexport interface CanColor {\n  color: string;\n}\n\n/** @docs-private */\nexport interface HasRenderer {\n  _renderer: Renderer2;\n  _elementRef: ElementRef;\n}\n\n/** Possible color palette values.  */\nexport type ThemePalette = 'primary' | 'accent' | 'warn' | null;\n\n/** Mixin to augment a directive with a `color` property. */\nexport function mixinColor<T extends Constructor<HasRenderer>>(base: T, defaultColor?: ThemePalette)\n    : Constructor<CanColor> & T {\n  return class extends base {\n    private _color: ThemePalette = null;\n\n    get color(): ThemePalette { return this._color; }\n    set color(value: ThemePalette) {\n      const colorPalette = value || defaultColor;\n\n      if (colorPalette !== this._color) {\n        if (this._color) {\n          this._renderer.removeClass(this._elementRef.nativeElement, `mat-${this._color}`);\n        }\n        if (colorPalette) {\n          this._renderer.addClass(this._elementRef.nativeElement, `mat-${colorPalette}`);\n        }\n\n        this._color = colorPalette;\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n\n      // Set the default color that can be specified from the mixin.\n      this.color = defaultColor;\n    }\n  };\n}\n\n","import {\n  Component,\n  ViewEncapsulation,\n  Input,\n  ElementRef,\n  Renderer2,\n} from '@angular/core';\nimport {CanColor, mixinColor} from '../../common-behaviors/color';\n\nexport type MdPseudoCheckboxState = 'unchecked' | 'checked' | 'indeterminate';\n\n\n// Boilerplate for applying mixins to MdChip.\nexport class MdPseudoCheckboxBase {\n  constructor(public _renderer: Renderer2, public _elementRef: ElementRef) {}\n}\nexport const _MdPseudoCheckboxBase = mixinColor(MdPseudoCheckboxBase, 'accent');\n\n\n/**\n * Component that shows a simplified checkbox without including any kind of \"real\" checkbox.\n * Meant to be used when the checkbox is purely decorative and a large number of them will be\n * included, such as for the options in a multi-select. Uses no SVGs or complex animations.\n *\n * Note that this component will be completely invisible to screen-reader users. This is *not*\n * interchangeable with <md-checkbox> and should *not* be used if the user would directly interact\n * with the checkbox. The pseudo-checkbox should only be used as an implementation detail of\n * more complex components that appropriately handle selected / checked state.\n * @docs-private\n */\n@Component({\n  \n  encapsulation: ViewEncapsulation.None,\n  selector: 'md-pseudo-checkbox, mat-pseudo-checkbox',\n  styleUrls: ['pseudo-checkbox.scss'],\n  inputs: ['color'],\n  template: '',\n  host: {\n    'class': 'mat-pseudo-checkbox',\n    '[class.mat-pseudo-checkbox-indeterminate]': 'state === \"indeterminate\"',\n    '[class.mat-pseudo-checkbox-checked]': 'state === \"checked\"',\n    '[class.mat-pseudo-checkbox-disabled]': 'disabled',\n  },\n})\nexport class MdPseudoCheckbox extends _MdPseudoCheckboxBase implements CanColor {\n  /** Display state of the checkbox. */\n  @Input() state: MdPseudoCheckboxState = 'unchecked';\n\n  /** Whether the checkbox is disabled. */\n  @Input() disabled: boolean = false;\n\n  constructor(elementRef: ElementRef, renderer: Renderer2) {\n    super(renderer, elementRef);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {MdPseudoCheckbox} from './pseudo-checkbox/pseudo-checkbox';\n\n\n@NgModule({\n  exports: [MdPseudoCheckbox],\n  declarations: [MdPseudoCheckbox]\n})\nexport class MdSelectionModule { }\n\n\nexport * from './pseudo-checkbox/pseudo-checkbox';\n","\n// Due to a bug in the ChromeDriver, Angular keyboard events are not triggered by `sendKeys`\n// during E2E tests when using dot notation such as `(keydown.rightArrow)`. To get around this,\n// we are temporarily using a single (keydown) handler.\n// See: https://github.com/angular/angular/issues/9419\n\nexport const UP_ARROW = 38;\nexport const DOWN_ARROW = 40;\nexport const RIGHT_ARROW = 39;\nexport const LEFT_ARROW = 37;\n\nexport const PAGE_UP = 33;\nexport const PAGE_DOWN = 34;\n\nexport const HOME = 36;\nexport const END = 35;\n\nexport const ENTER = 13;\nexport const SPACE = 32;\nexport const TAB = 9;\n\nexport const ESCAPE = 27;\nexport const BACKSPACE = 8;\nexport const DELETE = 46;\n\nexport const COMMA = 188;\n","/** Coerces a data-bound value (typically a string) to a boolean. */\nexport function coerceBooleanProperty(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n","import {coerceBooleanProperty} from '../coercion/boolean-property';\nimport {Constructor} from './constructor';\n\n/** @docs-private */\nexport interface CanDisable {\n  disabled: boolean;\n}\n\n/** Mixin to augment a directive with a `disabled` property. */\nexport function mixinDisabled<T extends Constructor<{}>>(base: T): Constructor<CanDisable> & T {\n  return class extends base {\n    private _disabled: boolean = false;\n\n    get disabled() { return this._disabled; }\n    set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","import {Component, ViewEncapsulation, ContentChildren, QueryList, Input} from '@angular/core';\nimport {mixinDisabled, CanDisable} from '../common-behaviors/disabled';\n\n// Boilerplate for applying mixins to MdOptgroup.\nexport class MdOptgroupBase { }\nexport const _MdOptgroupMixinBase = mixinDisabled(MdOptgroupBase);\n\n// Counter for unique group ids.\nlet _uniqueOptgroupIdCounter = 0;\n\n/**\n * Component that is used to group instances of `md-option`.\n */\n@Component({\n  \n  selector: 'md-optgroup, mat-optgroup',\n  templateUrl: 'optgroup.html',\n  encapsulation: ViewEncapsulation.None,\n  inputs: ['disabled'],\n  host: {\n    'class': 'mat-optgroup',\n    'role': 'group',\n    '[class.mat-optgroup-disabled]': 'disabled',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-labelledby]': '_labelId',\n  }\n})\nexport class MdOptgroup extends _MdOptgroupMixinBase implements CanDisable {\n  /** Label for the option group. */\n  @Input() label: string;\n\n  /** Unique id for the underlying label. */\n  _labelId: string = `mat-optgroup-label-${_uniqueOptgroupIdCounter++}`;\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  NgModule,\n  ViewEncapsulation,\n  Inject,\n  Optional,\n} from '@angular/core';\nimport {ENTER, SPACE} from '../keyboard/keycodes';\nimport {coerceBooleanProperty} from '../coercion/boolean-property';\nimport {MATERIAL_COMPATIBILITY_MODE} from '../../core/compatibility/compatibility';\nimport {MdOptgroup} from './optgroup';\n\n/**\n * Option IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueIdCounter = 0;\n\n/** Event object emitted by MdOption when selected or deselected. */\nexport class MdOptionSelectionChange {\n  constructor(public source: MdOption, public isUserInput = false) { }\n}\n\n\n/**\n * Single option inside of a `<md-select>` element.\n */\n@Component({\n  \n  selector: 'md-option, mat-option',\n  host: {\n    'role': 'option',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[class.mat-selected]': 'selected',\n    '[class.mat-option-multiple]': 'multiple',\n    '[class.mat-active]': 'active',\n    '[id]': 'id',\n    '[attr.aria-selected]': 'selected.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[class.mat-option-disabled]': 'disabled',\n    '(click)': '_selectViaInteraction()',\n    '(keydown)': '_handleKeydown($event)',\n    '[class.mat-option]': 'true',\n  },\n  templateUrl: 'option.html',\n  encapsulation: ViewEncapsulation.None\n})\nexport class MdOption {\n  private _selected: boolean = false;\n  private _active: boolean = false;\n\n  /** Whether the option is disabled.  */\n  private _disabled: boolean = false;\n\n  private _id: string = `md-option-${_uniqueIdCounter++}`;\n\n  /** Whether the wrapping component is in multiple selection mode. */\n  multiple: boolean = false;\n\n  /** The unique ID of the option. */\n  get id() { return this._id; }\n\n  /** Whether or not the option is currently selected. */\n  get selected(): boolean { return this._selected; }\n\n  /** The form value of the option. */\n  @Input() value: any;\n\n  /** Whether the option is disabled. */\n  @Input()\n  get disabled() { return (this.group && this.group.disabled) || this._disabled; }\n  set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n  /** Event emitted when the option is selected or deselected. */\n  @Output() onSelectionChange = new EventEmitter<MdOptionSelectionChange>();\n\n  constructor(\n    private _element: ElementRef,\n    @Optional() public readonly group: MdOptgroup,\n    @Optional() @Inject(MATERIAL_COMPATIBILITY_MODE) public _isCompatibilityMode: boolean) {}\n\n  /**\n   * Whether or not the option is currently active and ready to be selected.\n   * An active option displays styles as if it is focused, but the\n   * focus is actually retained somewhere else. This comes in handy\n   * for components like autocomplete where focus must remain on the input.\n   */\n  get active(): boolean {\n    return this._active;\n  }\n\n  /**\n   * The displayed value of the option. It is necessary to show the selected option in the\n   * select's trigger.\n   */\n  get viewValue(): string {\n    // TODO(kara): Add input property alternative for node envs.\n    return this._getHostElement().textContent.trim();\n  }\n\n  /** Selects the option. */\n  select(): void {\n    this._selected = true;\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Deselects the option. */\n  deselect(): void {\n    this._selected = false;\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Sets focus onto this option. */\n  focus(): void {\n    this._getHostElement().focus();\n  }\n\n  /**\n   * This method sets display styles on the option to make it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setActiveStyles(): void {\n    this._active = true;\n  }\n\n  /**\n   * This method removes display styles on the option that made it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setInactiveStyles(): void {\n    this._active = false;\n  }\n\n  /** Ensures the option is selected when activated from the keyboard. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ENTER || event.keyCode === SPACE) {\n      this._selectViaInteraction();\n    }\n  }\n\n  /**\n   * Selects the option while indicating the selection came from the user. Used to\n   * determine if the select's view -> model callback should be invoked.\n   */\n  _selectViaInteraction(): void {\n    if (!this.disabled) {\n      this._selected = this.multiple ? !this._selected : true;\n      this._emitSelectionChangeEvent(true);\n    }\n  }\n\n  /** Returns the correct tabindex for the option depending on disabled state. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Fetches the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  /** Emits the selection change event. */\n  private _emitSelectionChangeEvent(isUserInput = false): void {\n    this.onSelectionChange.emit(new MdOptionSelectionChange(this, isUserInput));\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MdRippleModule} from '../ripple/index';\nimport {MdSelectionModule} from '../selection/index';\nimport {MdOption} from './option';\nimport {MdOptgroup} from './optgroup';\n\n\n@NgModule({\n  imports: [MdRippleModule, CommonModule, MdSelectionModule],\n  exports: [MdOption, MdOptgroup],\n  declarations: [MdOption, MdOptgroup]\n})\nexport class MdOptionModule {}\n\n\nexport * from './option';\nexport * from './optgroup';\n","/**\n * Throws an exception when attempting to attach a null portal to a host.\n * @docs-private\n */\nexport function throwNullPortalError() {\n  throw Error('Must provide a portal to attach');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to a host that is already attached.\n * @docs-private\n */\nexport function throwPortalAlreadyAttachedError() {\n  throw Error('Host already has a portal attached');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to an already-disposed host.\n * @docs-private\n */\nexport function throwPortalHostAlreadyDisposedError() {\n  throw Error('This PortalHost has already been disposed');\n}\n\n/**\n * Throws an exception when attempting to attach an unknown portal type.\n * @docs-private\n */\nexport function throwUnknownPortalTypeError() {\n  throw Error('Attempting to attach an unknown Portal type. BasePortalHost accepts either' +\n                  'a ComponentPortal or a TemplatePortal.');\n}\n\n/**\n * Throws an exception when attempting to attach a portal to a null host.\n * @docs-private\n */\nexport function throwNullPortalHostError() {\n  throw Error('Attempting to attach a portal to a null PortalHost');\n}\n\n/**\n * Throws an exception when attempting to detach a portal that is not attached.\n * @docs-privatew\n */\nexport function throwNoPortalAttachedError() {\n  throw Error('Attempting to detach a portal that is not attached to a host');\n}\n","import {\n    TemplateRef,\n    ViewContainerRef,\n    ElementRef,\n    ComponentRef,\n    Injector\n} from '@angular/core';\nimport {\n    throwNullPortalHostError,\n    throwPortalAlreadyAttachedError,\n    throwNoPortalAttachedError,\n    throwNullPortalError,\n    throwPortalHostAlreadyDisposedError,\n    throwUnknownPortalTypeError\n} from './portal-errors';\nimport {ComponentType} from '../overlay/generic-component-type';\n\n\n\n/**\n * A `Portal` is something that you want to render somewhere else.\n * It can be attach to / detached from a `PortalHost`.\n */\nexport abstract class Portal<T> {\n  private _attachedHost: PortalHost;\n\n  /** Attach this portal to a host. */\n  attach(host: PortalHost): T {\n    if (host == null) {\n      throwNullPortalHostError();\n    }\n\n    if (host.hasAttached()) {\n      throwPortalAlreadyAttachedError();\n    }\n\n    this._attachedHost = host;\n    return <T> host.attach(this);\n  }\n\n  /** Detach this portal from its host */\n  detach(): void {\n    let host = this._attachedHost;\n    if (host == null) {\n      throwNoPortalAttachedError();\n    }\n\n    this._attachedHost = null;\n    return host.detach();\n  }\n\n  /** Whether this portal is attached to a host. */\n  get isAttached(): boolean {\n    return this._attachedHost != null;\n  }\n\n  /**\n   * Sets the PortalHost reference without performing `attach()`. This is used directly by\n   * the PortalHost when it is performing an `attach()` or `detach()`.\n   */\n  setAttachedHost(host: PortalHost) {\n    this._attachedHost = host;\n  }\n}\n\n\n/**\n * A `ComponentPortal` is a portal that instantiates some Component upon attachment.\n */\nexport class ComponentPortal<T> extends Portal<ComponentRef<T>> {\n  /** The type of the component that will be instantiated for attachment. */\n  component: ComponentType<T>;\n\n  /**\n   * [Optional] Where the attached component should live in Angular's *logical* component tree.\n   * This is different from where the component *renders*, which is determined by the PortalHost.\n   * The origin is necessary when the host is outside of the Angular application context.\n   */\n  viewContainerRef: ViewContainerRef;\n\n  /** [Optional] Injector used for the instantiation of the component. */\n  injector: Injector;\n\n  constructor(\n      component: ComponentType<T>,\n      viewContainerRef: ViewContainerRef = null,\n      injector: Injector = null) {\n    super();\n    this.component = component;\n    this.viewContainerRef = viewContainerRef;\n    this.injector = injector;\n  }\n}\n\n\n/**\n * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).\n */\nexport class TemplatePortal extends Portal<Map<string, any>> {\n  /** The embedded template that will be used to instantiate an embedded View in the host. */\n  templateRef: TemplateRef<any>;\n\n  /** Reference to the ViewContainer into which the template will be stamped out. */\n  viewContainerRef: ViewContainerRef;\n\n  /**\n   * Additional locals for the instantiated embedded view.\n   * These locals can be seen as \"exports\" for the template, such as how ngFor has\n   * index / event / odd.\n   * See https://angular.io/docs/ts/latest/api/core/EmbeddedViewRef-class.html\n   */\n  locals: Map<string, any> = new Map<string, any>();\n\n  constructor(template: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super();\n    this.templateRef = template;\n    this.viewContainerRef = viewContainerRef;\n  }\n\n  get origin(): ElementRef {\n    return this.templateRef.elementRef;\n  }\n\n  attach(host: PortalHost, locals?: Map<string, any>): Map<string, any> {\n    this.locals = locals == null ? new Map<string, any>() : locals;\n    return super.attach(host);\n  }\n\n  detach(): void {\n    this.locals = new Map<string, any>();\n    return super.detach();\n  }\n}\n\n\n/**\n * A `PortalHost` is an space that can contain a single `Portal`.\n */\nexport interface PortalHost {\n  attach(portal: Portal<any>): any;\n\n  detach(): any;\n\n  dispose(): void;\n\n  hasAttached(): boolean;\n}\n\n\n/**\n * Partial implementation of PortalHost that only deals with attaching either a\n * ComponentPortal or a TemplatePortal.\n */\nexport abstract class BasePortalHost implements PortalHost {\n  /** The portal currently attached to the host. */\n  private _attachedPortal: Portal<any>;\n\n  /** A function that will permanently dispose this host. */\n  private _disposeFn: () => void;\n\n  /** Whether this host has already been permanently disposed. */\n  private _isDisposed: boolean = false;\n\n  /** Whether this host has an attached portal. */\n  hasAttached(): boolean {\n    return !!this._attachedPortal;\n  }\n\n  attach(portal: Portal<any>): any {\n    if (!portal) {\n      throwNullPortalError();\n    }\n\n    if (this.hasAttached()) {\n      throwPortalAlreadyAttachedError();\n    }\n\n    if (this._isDisposed) {\n      throwPortalHostAlreadyDisposedError();\n    }\n\n    if (portal instanceof ComponentPortal) {\n      this._attachedPortal = portal;\n      return this.attachComponentPortal(portal);\n    } else if (portal instanceof TemplatePortal) {\n      this._attachedPortal = portal;\n      return this.attachTemplatePortal(portal);\n    }\n\n    throwUnknownPortalTypeError();\n  }\n\n  abstract attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T>;\n\n  abstract attachTemplatePortal(portal: TemplatePortal): Map<string, any>;\n\n  detach(): void {\n    if (this._attachedPortal) {\n      this._attachedPortal.setAttachedHost(null);\n      this._attachedPortal = null;\n    }\n\n    this._invokeDisposeFn();\n  }\n\n  dispose() {\n    if (this.hasAttached()) {\n      this.detach();\n    }\n\n    this._invokeDisposeFn();\n    this._isDisposed = true;\n  }\n\n  setDisposeFn(fn: () => void) {\n    this._disposeFn = fn;\n  }\n\n  private _invokeDisposeFn() {\n    if (this._disposeFn) {\n      this._disposeFn();\n      this._disposeFn = null;\n    }\n  }\n}\n","import {\n    NgModule,\n    ComponentRef,\n    Directive,\n    TemplateRef,\n    ComponentFactoryResolver,\n    ViewContainerRef,\n    OnDestroy,\n    Input,\n} from '@angular/core';\nimport {Portal, TemplatePortal, ComponentPortal, BasePortalHost} from './portal';\n\n\n/**\n * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,\n * the directive instance itself can be attached to a host, enabling declarative use of portals.\n *\n * Usage:\n * <ng-template portal #greeting>\n *   <p> Hello {{name}} </p>\n * </ng-template>\n */\n@Directive({\n  selector: '[cdk-portal], [cdkPortal], [portal]',\n  exportAs: 'cdkPortal',\n})\nexport class TemplatePortalDirective extends TemplatePortal {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n\n/**\n * Directive version of a PortalHost. Because the directive *is* a PortalHost, portals can be\n * directly attached to it, enabling declarative use.\n *\n * Usage:\n * <ng-template [cdkPortalHost]=\"greeting\"></ng-template>\n */\n@Directive({\n  selector: '[cdkPortalHost], [portalHost]',\n  inputs: ['portal: cdkPortalHost']\n})\nexport class PortalHostDirective extends BasePortalHost implements OnDestroy {\n  /** The attached portal. */\n  private _portal: Portal<any>;\n\n  constructor(\n      private _componentFactoryResolver: ComponentFactoryResolver,\n      private _viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  /** @deprecated */\n  @Input('portalHost')\n  get _deprecatedPortal() { return this.portal; }\n  set _deprecatedPortal(v) { this.portal = v; }\n\n  /** Portal associated with the Portal host. */\n  get portal(): Portal<any> {\n    return this._portal;\n  }\n\n  set portal(portal: Portal<any>) {\n    if (this.hasAttached()) {\n      super.detach();\n    }\n\n    if (portal) {\n      super.attach(portal);\n    }\n\n    this._portal = portal;\n  }\n\n  ngOnDestroy() {\n    super.dispose();\n    this._portal = null;\n  }\n\n  /**\n   * Attach the given ComponentPortal to this PortalHost using the ComponentFactoryResolver.\n   *\n   * @param portal Portal to be attached to the portal host.\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    portal.setAttachedHost(this);\n\n    // If the portal specifies an origin, use that as the logical location of the component\n    // in the application tree. Otherwise use the location of this PortalHost.\n    let viewContainerRef = portal.viewContainerRef != null ?\n        portal.viewContainerRef :\n        this._viewContainerRef;\n\n    let componentFactory =\n        this._componentFactoryResolver.resolveComponentFactory(portal.component);\n    let ref = viewContainerRef.createComponent(\n        componentFactory, viewContainerRef.length,\n        portal.injector || viewContainerRef.parentInjector);\n\n    super.setDisposeFn(() => ref.destroy());\n    this._portal = portal;\n\n    return ref;\n  }\n\n  /**\n   * Attach the given TemplatePortal to this PortlHost as an embedded View.\n   * @param portal Portal to be attached.\n   */\n  attachTemplatePortal(portal: TemplatePortal): Map<string, any> {\n    portal.setAttachedHost(this);\n\n    this._viewContainerRef.createEmbeddedView(portal.templateRef);\n    super.setDisposeFn(() => this._viewContainerRef.clear());\n\n    this._portal = portal;\n\n    // TODO(jelbourn): return locals from view\n    return new Map<string, any>();\n  }\n}\n\n\n@NgModule({\n  exports: [TemplatePortalDirective, PortalHostDirective],\n  declarations: [TemplatePortalDirective, PortalHostDirective],\n})\nexport class PortalModule {}\n","import {PositionStrategy} from './position/position-strategy';\nimport {LayoutDirection} from '../rtl/dir';\nimport {ScrollStrategy} from './scroll/scroll-strategy';\n\n\n/**\n * OverlayState is a bag of values for either the initial configuration or current state of an\n * overlay.\n */\nexport class OverlayState {\n  /** Strategy with which to position the overlay. */\n  positionStrategy: PositionStrategy;\n\n  /** Strategy to be used when handling scroll events while the overlay is open. */\n  scrollStrategy: ScrollStrategy;\n\n  /** Custom class to add to the overlay pane. */\n  panelClass: string = '';\n\n  /** Whether the overlay has a backdrop. */\n  hasBackdrop: boolean = false;\n\n  /** Custom class to add to the backdrop */\n  backdropClass: string = 'cdk-overlay-dark-backdrop';\n\n  /** The width of the overlay panel. If a number is provided, pixel units are assumed. */\n  width: number | string;\n\n  /** The height of the overlay panel. If a number is provided, pixel units are assumed. */\n  height: number | string;\n\n  /** The min-width of the overlay panel. If a number is provided, pixel units are assumed. */\n  minWidth: number | string;\n\n  /** The min-height of the overlay panel. If a number is provided, pixel units are assumed. */\n  minHeight: number | string;\n\n  /** The direction of the text in the overlay panel. */\n  direction: LayoutDirection = 'ltr';\n\n  // TODO(jelbourn): configuration still to add\n  // - focus trap\n  // - disable pointer events\n  // - z-index\n}\n","import {\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  ApplicationRef,\n  Injector,\n} from '@angular/core';\nimport {BasePortalHost, ComponentPortal, TemplatePortal} from './portal';\n\n\n/**\n * A PortalHost for attaching portals to an arbitrary DOM element outside of the Angular\n * application context.\n *\n * This is the only part of the portal core that directly touches the DOM.\n */\nexport class DomPortalHost extends BasePortalHost {\n  constructor(\n      private _hostDomElement: Element,\n      private _componentFactoryResolver: ComponentFactoryResolver,\n      private _appRef: ApplicationRef,\n      private _defaultInjector: Injector) {\n    super();\n  }\n\n  /**\n   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.\n   * @param portal Portal to be attached\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    let componentFactory = this._componentFactoryResolver.resolveComponentFactory(portal.component);\n    let componentRef: ComponentRef<T>;\n\n    // If the portal specifies a ViewContainerRef, we will use that as the attachment point\n    // for the component (in terms of Angular's component tree, not rendering).\n    // When the ViewContainerRef is missing, we use the factory to create the component directly\n    // and then manually attach the view to the application.\n    if (portal.viewContainerRef) {\n      componentRef = portal.viewContainerRef.createComponent(\n          componentFactory,\n          portal.viewContainerRef.length,\n          portal.injector || portal.viewContainerRef.parentInjector);\n\n      this.setDisposeFn(() => componentRef.destroy());\n    } else {\n      componentRef = componentFactory.create(portal.injector || this._defaultInjector);\n      this._appRef.attachView(componentRef.hostView);\n      this.setDisposeFn(() => {\n        this._appRef.detachView(componentRef.hostView);\n        componentRef.destroy();\n      });\n    }\n    // At this point the component has been instantiated, so we move it to the location in the DOM\n    // where we want it to be rendered.\n    this._hostDomElement.appendChild(this._getComponentRootNode(componentRef));\n\n    return componentRef;\n  }\n\n  /**\n   * Attaches a template portal to the DOM as an embedded view.\n   * @param portal Portal to be attached.\n   */\n  attachTemplatePortal(portal: TemplatePortal): Map<string, any> {\n    let viewContainer = portal.viewContainerRef;\n    let viewRef = viewContainer.createEmbeddedView(portal.templateRef);\n    viewRef.detectChanges();\n\n    // The method `createEmbeddedView` will add the view as a child of the viewContainer.\n    // But for the DomPortalHost the view can be added everywhere in the DOM (e.g Overlay Container)\n    // To move the view to the specified host element. We just re-append the existing root nodes.\n    viewRef.rootNodes.forEach(rootNode => this._hostDomElement.appendChild(rootNode));\n\n    this.setDisposeFn((() => {\n      let index = viewContainer.indexOf(viewRef);\n      if (index !== -1) {\n        viewContainer.remove(index);\n      }\n    }));\n\n    // TODO(jelbourn): Return locals from view.\n    return new Map<string, any>();\n  }\n\n  /**\n   * Clears out a portal from the DOM.\n   */\n  dispose(): void {\n    super.dispose();\n    if (this._hostDomElement.parentNode != null) {\n      this._hostDomElement.parentNode.removeChild(this._hostDomElement);\n    }\n  }\n\n  /** Gets the root HTMLElement for an instantiated component. */\n  private _getComponentRootNode(componentRef: ComponentRef<any>): HTMLElement {\n    return (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n  }\n}\n","import {NgZone} from '@angular/core';\nimport {PortalHost, Portal} from '../portal/portal';\nimport {OverlayState} from './overlay-state';\nimport {ScrollStrategy} from './scroll/scroll-strategy';\nimport {Observable, Subject} from 'rxjs';\n\n\n/**\n * Reference to an overlay that has been created with the Overlay service.\n * Used to manipulate or dispose of said overlay.\n */\nexport class OverlayRef implements PortalHost {\n  private _backdropElement: HTMLElement = null;\n  private _backdropClick: Subject<any> = new Subject();\n  private _attachments = new Subject<void>();\n  private _detachments = new Subject<void>();\n\n  constructor(\n      private _portalHost: PortalHost,\n      private _pane: HTMLElement,\n      private _state: OverlayState,\n      private _scrollStrategy: ScrollStrategy,\n      private _ngZone: NgZone) {\n\n    _scrollStrategy.attach(this);\n  }\n\n  /** The overlay's HTML element */\n  get overlayElement(): HTMLElement {\n    return this._pane;\n  }\n\n  /**\n   * Attaches the overlay to a portal instance and adds the backdrop.\n   * @param portal Portal instance to which to attach the overlay.\n   * @returns The portal attachment result.\n   */\n  attach(portal: Portal<any>): any {\n    let attachResult = this._portalHost.attach(portal);\n\n    // Update the pane element with the given state configuration.\n    this._updateStackingOrder();\n    this.updateSize();\n    this.updateDirection();\n    this.updatePosition();\n    this._scrollStrategy.enable();\n\n    // Enable pointer events for the overlay pane element.\n    this._togglePointerEvents(true);\n\n    if (this._state.hasBackdrop) {\n      this._attachBackdrop();\n    }\n\n    if (this._state.panelClass) {\n      this._pane.classList.add(this._state.panelClass);\n    }\n\n    // Only emit the `attachments` event once all other setup is done.\n    this._attachments.next();\n\n    return attachResult;\n  }\n\n  /**\n   * Detaches an overlay from a portal.\n   * @returns Resolves when the overlay has been detached.\n   */\n  detach(): Promise<any> {\n    this.detachBackdrop();\n\n    // When the overlay is detached, the pane element should disable pointer events.\n    // This is necessary because otherwise the pane element will cover the page and disable\n    // pointer events therefore. Depends on the position strategy and the applied pane boundaries.\n    this._togglePointerEvents(false);\n    this._scrollStrategy.disable();\n\n    let detachmentResult = this._portalHost.detach();\n\n    // Only emit after everything is detached.\n    this._detachments.next();\n\n    return detachmentResult;\n  }\n\n  /**\n   * Cleans up the overlay from the DOM.\n   */\n  dispose(): void {\n    if (this._state.positionStrategy) {\n      this._state.positionStrategy.dispose();\n    }\n\n    if (this._scrollStrategy) {\n      this._scrollStrategy.disable();\n      this._scrollStrategy = null;\n    }\n\n    this.detachBackdrop();\n    this._portalHost.dispose();\n    this._attachments.complete();\n    this._backdropClick.complete();\n    this._detachments.next();\n    this._detachments.complete();\n  }\n\n  /**\n   * Checks whether the overlay has been attached.\n   */\n  hasAttached(): boolean {\n    return this._portalHost.hasAttached();\n  }\n\n  /**\n   * Returns an observable that emits when the backdrop has been clicked.\n   */\n  backdropClick(): Observable<void> {\n    return this._backdropClick.asObservable();\n  }\n\n  /** Returns an observable that emits when the overlay has been attached. */\n  attachments(): Observable<void> {\n    return this._attachments.asObservable();\n  }\n\n  /** Returns an observable that emits when the overlay has been detached. */\n  detachments(): Observable<void> {\n    return this._detachments.asObservable();\n  }\n\n  /**\n   * Gets the current state config of the overlay.\n   */\n  getState(): OverlayState {\n    return this._state;\n  }\n\n  /** Updates the position of the overlay based on the position strategy. */\n  updatePosition() {\n    if (this._state.positionStrategy) {\n      this._state.positionStrategy.apply(this._pane);\n    }\n  }\n\n  /** Updates the text direction of the overlay panel. */\n  private updateDirection() {\n    this._pane.setAttribute('dir', this._state.direction);\n  }\n\n  /** Updates the size of the overlay based on the overlay config. */\n  updateSize() {\n    if (this._state.width || this._state.width === 0) {\n      this._pane.style.width = formatCssUnit(this._state.width);\n    }\n\n    if (this._state.height || this._state.height === 0) {\n      this._pane.style.height = formatCssUnit(this._state.height);\n    }\n\n    if (this._state.minWidth || this._state.minWidth === 0) {\n      this._pane.style.minWidth = formatCssUnit(this._state.minWidth);\n    }\n\n    if (this._state.minHeight || this._state.minHeight === 0) {\n      this._pane.style.minHeight = formatCssUnit(this._state.minHeight);\n    }\n  }\n\n  /** Toggles the pointer events for the overlay pane element. */\n  private _togglePointerEvents(enablePointer: boolean) {\n    this._pane.style.pointerEvents = enablePointer ? 'auto' : 'none';\n  }\n\n  /** Attaches a backdrop for this overlay. */\n  private _attachBackdrop() {\n    this._backdropElement = document.createElement('div');\n    this._backdropElement.classList.add('cdk-overlay-backdrop');\n    this._backdropElement.classList.add(this._state.backdropClass);\n\n    // Insert the backdrop before the pane in the DOM order,\n    // in order to handle stacked overlays properly.\n    this._pane.parentElement.insertBefore(this._backdropElement, this._pane);\n\n    // Forward backdrop clicks such that the consumer of the overlay can perform whatever\n    // action desired when such a click occurs (usually closing the overlay).\n    this._backdropElement.addEventListener('click', () => this._backdropClick.next(null));\n\n    // Add class to fade-in the backdrop after one frame.\n    requestAnimationFrame(() => {\n      if (this._backdropElement) {\n        this._backdropElement.classList.add('cdk-overlay-backdrop-showing');\n      }\n    });\n  }\n\n  /**\n   * Updates the stacking order of the element, moving it to the top if necessary.\n   * This is required in cases where one overlay was detached, while another one,\n   * that should be behind it, was destroyed. The next time both of them are opened,\n   * the stacking will be wrong, because the detached element's pane will still be\n   * in its original DOM position.\n   */\n  private _updateStackingOrder() {\n    if (this._pane.nextSibling) {\n      this._pane.parentNode.appendChild(this._pane);\n    }\n  }\n\n  /** Detaches the backdrop (if any) associated with the overlay. */\n  detachBackdrop(): void {\n    let backdropToDetach = this._backdropElement;\n\n    if (backdropToDetach) {\n      let finishDetach = () => {\n        // It may not be attached to anything in certain cases (e.g. unit tests).\n        if (backdropToDetach && backdropToDetach.parentNode) {\n          backdropToDetach.parentNode.removeChild(backdropToDetach);\n        }\n\n        // It is possible that a new portal has been attached to this overlay since we started\n        // removing the backdrop. If that is the case, only clear the backdrop reference if it\n        // is still the same instance that we started to remove.\n        if (this._backdropElement == backdropToDetach) {\n          this._backdropElement = null;\n        }\n      };\n\n      backdropToDetach.classList.remove('cdk-overlay-backdrop-showing');\n      backdropToDetach.classList.remove(this._state.backdropClass);\n      backdropToDetach.addEventListener('transitionend', finishDetach);\n\n      // If the backdrop doesn't have a transition, the `transitionend` event won't fire.\n      // In this case we make it unclickable and we try to remove it after a delay.\n      backdropToDetach.style.pointerEvents = 'none';\n\n      // Run this outside the Angular zone because there's nothing that Angular cares about.\n      // If it were to run inside the Angular zone, every test that used Overlay would have to be\n      // either async or fakeAsync.\n      this._ngZone.runOutsideAngular(() => {\n        setTimeout(finishDetach, 500);\n      });\n    }\n  }\n}\n\nfunction formatCssUnit(value: number | string) {\n  return typeof value === 'string' ? value as string : `${value}px`;\n}\n","/** Horizontal dimension of a connection point on the perimeter of the origin or overlay element. */\nimport {Optional} from '@angular/core';\nexport type HorizontalConnectionPos = 'start' | 'center' | 'end';\n\n/** Vertical dimension of a connection point on the perimeter of the origin or overlay element. */\nexport type VerticalConnectionPos = 'top' | 'center' | 'bottom';\n\n\n/** A connection point on the origin element. */\nexport interface OriginConnectionPosition {\n  originX: HorizontalConnectionPos;\n  originY: VerticalConnectionPos;\n}\n\n/** A connection point on the overlay element. */\nexport interface OverlayConnectionPosition {\n  overlayX: HorizontalConnectionPos;\n  overlayY: VerticalConnectionPos;\n}\n\n/** The points of the origin element and the overlay element to connect. */\nexport class ConnectionPositionPair {\n  originX: HorizontalConnectionPos;\n  originY: VerticalConnectionPos;\n  overlayX: HorizontalConnectionPos;\n  overlayY: VerticalConnectionPos;\n\n  constructor(origin: OriginConnectionPosition, overlay: OverlayConnectionPosition) {\n    this.originX = origin.originX;\n    this.originY = origin.originY;\n    this.overlayX = overlay.overlayX;\n    this.overlayY = overlay.overlayY;\n  }\n}\n\n/**\n * Set of properties regarding the position of the origin and overlay relative to the viewport\n * with respect to the containing Scrollable elements.\n *\n * The overlay and origin are clipped if any part of their bounding client rectangle exceeds the\n * bounds of any one of the strategy's Scrollable's bounding client rectangle.\n *\n * The overlay and origin are outside view if there is no overlap between their bounding client\n * rectangle and any one of the strategy's Scrollable's bounding client rectangle.\n *\n *       -----------                    -----------\n *       | outside |                    | clipped |\n *       |  view   |              --------------------------\n *       |         |              |     |         |        |\n *       ----------               |     -----------        |\n *  --------------------------    |                        |\n *  |                        |    |      Scrollable        |\n *  |                        |    |                        |\n *  |                        |     --------------------------\n *  |      Scrollable        |\n *  |                        |\n *  --------------------------\n */\nexport class ScrollableViewProperties {\n  isOriginClipped: boolean;\n  isOriginOutsideView: boolean;\n  isOverlayClipped: boolean;\n  isOverlayOutsideView: boolean;\n}\n\n/** The change event emitted by the strategy when a fallback position is used. */\nexport class ConnectedOverlayPositionChange {\n  constructor(public connectionPair: ConnectionPositionPair,\n              @Optional() public scrollableViewProperties: ScrollableViewProperties) {}\n}\n","import {PositionStrategy} from './position-strategy';\nimport {ElementRef} from '@angular/core';\nimport {ViewportRuler} from './viewport-ruler';\nimport {\n  ConnectionPositionPair,\n  OriginConnectionPosition,\n  OverlayConnectionPosition,\n  ConnectedOverlayPositionChange, ScrollableViewProperties\n} from './connected-position';\nimport {Subject, Observable} from 'rxjs';\nimport {Scrollable} from '../scroll/scrollable';\n\n/**\n * Container to hold the bounding positions of a particular element with respect to the viewport,\n * where top and bottom are the y-axis coordinates of the bounding rectangle and left and right are\n * the x-axis coordinates.\n */\ntype ElementBoundingPositions = {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n};\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * implicit position relative some origin element. The relative position is defined in terms of\n * a point on the origin element that is connected to a point on the overlay element. For example,\n * a basic dropdown is connecting the bottom-left corner of the origin to the top-left corner\n * of the overlay.\n */\nexport class ConnectedPositionStrategy implements PositionStrategy {\n  private _dir = 'ltr';\n\n  /** The offset in pixels for the overlay connection point on the x-axis */\n  private _offsetX: number = 0;\n\n  /** The offset in pixels for the overlay connection point on the y-axis */\n  private _offsetY: number = 0;\n\n  /** The Scrollable containers used to check scrollable view properties on position change. */\n  private scrollables: Scrollable[] = [];\n\n  /** Whether the we're dealing with an RTL context */\n  get _isRtl() {\n    return this._dir === 'rtl';\n  }\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  _preferredPositions: ConnectionPositionPair[] = [];\n\n  /** The origin element against which the overlay will be positioned. */\n  private _origin: HTMLElement;\n\n  /** The overlay pane element. */\n  private _pane: HTMLElement;\n\n  /** The last position to have been calculated as the best fit position. */\n  private _lastConnectedPosition: ConnectionPositionPair;\n\n  _onPositionChange:\n      Subject<ConnectedOverlayPositionChange> = new Subject<ConnectedOverlayPositionChange>();\n\n  /** Emits an event when the connection point changes. */\n  get onPositionChange(): Observable<ConnectedOverlayPositionChange> {\n    return this._onPositionChange.asObservable();\n  }\n\n  constructor(\n      private _connectedTo: ElementRef,\n      private _originPos: OriginConnectionPosition,\n      private _overlayPos: OverlayConnectionPosition,\n      private _viewportRuler: ViewportRuler) {\n    this._origin = this._connectedTo.nativeElement;\n    this.withFallbackPosition(_originPos, _overlayPos);\n  }\n\n  /** Ordered list of preferred positions, from most to least desirable. */\n  get positions() {\n    return this._preferredPositions;\n  }\n\n  /**\n   * To be used to for any cleanup after the element gets destroyed.\n   */\n  dispose() { }\n\n  /**\n   * Updates the position of the overlay element, using whichever preferred position relative\n   * to the origin fits on-screen.\n   * @docs-private\n   *\n   * @param element Element to which to apply the CSS styles.\n   * @returns Resolves when the styles have been applied.\n   */\n  apply(element: HTMLElement): Promise<void> {\n    // Cache the overlay pane element in case re-calculating position is necessary\n    this._pane = element;\n\n    // We need the bounding rects for the origin and the overlay to determine how to position\n    // the overlay relative to the origin.\n    const originRect = this._origin.getBoundingClientRect();\n    const overlayRect = element.getBoundingClientRect();\n\n    // We use the viewport rect to determine whether a position would go off-screen.\n    const viewportRect = this._viewportRuler.getViewportRect();\n\n    // Fallback point if none of the fallbacks fit into the viewport.\n    let fallbackPoint: OverlayPoint = null;\n    let fallbackPosition: ConnectionPositionPair = null;\n\n    // We want to place the overlay in the first of the preferred positions such that the\n    // overlay fits on-screen.\n    for (let pos of this._preferredPositions) {\n      // Get the (x, y) point of connection on the origin, and then use that to get the\n      // (top, left) coordinate for the overlay at `pos`.\n      let originPoint = this._getOriginConnectionPoint(originRect, pos);\n      let overlayPoint = this._getOverlayPoint(originPoint, overlayRect, viewportRect, pos);\n\n      // If the overlay in the calculated position fits on-screen, put it there and we're done.\n      if (overlayPoint.fitsInViewport) {\n        this._setElementPosition(element, overlayRect, overlayPoint, pos);\n\n        // Save the last connected position in case the position needs to be re-calculated.\n        this._lastConnectedPosition = pos;\n\n        // Notify that the position has been changed along with its change properties.\n        const scrollableViewProperties = this.getScrollableViewProperties(element);\n        const positionChange = new ConnectedOverlayPositionChange(pos, scrollableViewProperties);\n        this._onPositionChange.next(positionChange);\n\n        return Promise.resolve(null);\n      } else if (!fallbackPoint || fallbackPoint.visibleArea < overlayPoint.visibleArea) {\n        fallbackPoint = overlayPoint;\n        fallbackPosition = pos;\n      }\n    }\n\n    // If none of the preferred positions were in the viewport, take the one\n    // with the largest visible area.\n    this._setElementPosition(element, overlayRect, fallbackPoint, fallbackPosition);\n\n    return Promise.resolve(null);\n  }\n\n  /**\n   * This re-aligns the overlay element with the trigger in its last calculated position,\n   * even if a position higher in the \"preferred positions\" list would now fit. This\n   * allows one to re-align the panel without changing the orientation of the panel.\n   */\n  recalculateLastPosition(): void {\n    const originRect = this._origin.getBoundingClientRect();\n    const overlayRect = this._pane.getBoundingClientRect();\n    const viewportRect = this._viewportRuler.getViewportRect();\n    const lastPosition = this._lastConnectedPosition || this._preferredPositions[0];\n\n    let originPoint = this._getOriginConnectionPoint(originRect, lastPosition);\n    let overlayPoint = this._getOverlayPoint(originPoint, overlayRect, viewportRect, lastPosition);\n    this._setElementPosition(this._pane, overlayRect, overlayPoint, lastPosition);\n  }\n\n  /**\n   * Sets the list of Scrollable containers that host the origin element so that\n   * on reposition we can evaluate if it or the overlay has been clipped or outside view. Every\n   * Scrollable must be an ancestor element of the strategy's origin element.\n   */\n  withScrollableContainers(scrollables: Scrollable[]) {\n    this.scrollables = scrollables;\n  }\n\n  /**\n   * Adds a new preferred fallback position.\n   * @param originPos\n   * @param overlayPos\n   */\n  withFallbackPosition(\n      originPos: OriginConnectionPosition,\n      overlayPos: OverlayConnectionPosition): this {\n    this._preferredPositions.push(new ConnectionPositionPair(originPos, overlayPos));\n    return this;\n  }\n\n  /**\n   * Sets the layout direction so the overlay's position can be adjusted to match.\n   * @param dir New layout direction.\n   */\n  withDirection(dir: 'ltr' | 'rtl'): this {\n    this._dir = dir;\n    return this;\n  }\n\n  /**\n   * Sets an offset for the overlay's connection point on the x-axis\n   * @param offset New offset in the X axis.\n   */\n  withOffsetX(offset: number): this {\n    this._offsetX = offset;\n    return this;\n  }\n\n  /**\n   * Sets an offset for the overlay's connection point on the y-axis\n   * @param  offset New offset in the Y axis.\n   */\n  withOffsetY(offset: number): this {\n    this._offsetY = offset;\n    return this;\n  }\n\n  /**\n   * Gets the horizontal (x) \"start\" dimension based on whether the overlay is in an RTL context.\n   * @param rect\n   */\n  private _getStartX(rect: ClientRect): number {\n    return this._isRtl ? rect.right : rect.left;\n  }\n\n  /**\n   * Gets the horizontal (x) \"end\" dimension based on whether the overlay is in an RTL context.\n   * @param rect\n   */\n  private _getEndX(rect: ClientRect): number {\n    return this._isRtl ? rect.left : rect.right;\n  }\n\n\n  /**\n   * Gets the (x, y) coordinate of a connection point on the origin based on a relative position.\n   * @param originRect\n   * @param pos\n   */\n  private _getOriginConnectionPoint(originRect: ClientRect, pos: ConnectionPositionPair): Point {\n    const originStartX = this._getStartX(originRect);\n    const originEndX = this._getEndX(originRect);\n\n    let x: number;\n    if (pos.originX == 'center') {\n      x = originStartX + (originRect.width / 2);\n    } else {\n      x = pos.originX == 'start' ? originStartX : originEndX;\n    }\n\n    let y: number;\n    if (pos.originY == 'center') {\n      y = originRect.top + (originRect.height / 2);\n    } else {\n      y = pos.originY == 'top' ? originRect.top : originRect.bottom;\n    }\n\n    return {x, y};\n  }\n\n\n  /**\n   * Gets the (x, y) coordinate of the top-left corner of the overlay given a given position and\n   * origin point to which the overlay should be connected, as well as how much of the element\n   * would be inside the viewport at that position.\n   */\n  private _getOverlayPoint(\n      originPoint: Point,\n      overlayRect: ClientRect,\n      viewportRect: ClientRect,\n      pos: ConnectionPositionPair): OverlayPoint {\n    // Calculate the (overlayStartX, overlayStartY), the start of the potential overlay position\n    // relative to the origin point.\n    let overlayStartX: number;\n    if (pos.overlayX == 'center') {\n      overlayStartX = -overlayRect.width / 2;\n    } else if (pos.overlayX === 'start') {\n      overlayStartX = this._isRtl ? -overlayRect.width : 0;\n    } else {\n      overlayStartX = this._isRtl ? 0 : -overlayRect.width;\n    }\n\n    let overlayStartY: number;\n    if (pos.overlayY == 'center') {\n      overlayStartY = -overlayRect.height / 2;\n    } else {\n      overlayStartY = pos.overlayY == 'top' ? 0 : -overlayRect.height;\n    }\n\n    // The (x, y) coordinates of the overlay.\n    let x = originPoint.x + overlayStartX + this._offsetX;\n    let y = originPoint.y + overlayStartY + this._offsetY;\n\n    // How much the overlay would overflow at this position, on each side.\n    let leftOverflow = 0 - x;\n    let rightOverflow = (x + overlayRect.width) - viewportRect.width;\n    let topOverflow = 0 - y;\n    let bottomOverflow = (y + overlayRect.height) - viewportRect.height;\n\n    // Visible parts of the element on each axis.\n    let visibleWidth = this._subtractOverflows(overlayRect.width, leftOverflow, rightOverflow);\n    let visibleHeight = this._subtractOverflows(overlayRect.height, topOverflow, bottomOverflow);\n\n    // The area of the element that's within the viewport.\n    let visibleArea = visibleWidth * visibleHeight;\n    let fitsInViewport = (overlayRect.width * overlayRect.height) === visibleArea;\n\n    return {x, y, fitsInViewport, visibleArea};\n  }\n\n  /**\n   * Gets the view properties of the trigger and overlay, including whether they are clipped\n   * or completely outside the view of any of the strategy's scrollables.\n   */\n  private getScrollableViewProperties(overlay: HTMLElement): ScrollableViewProperties {\n    const originBounds = this._getElementBounds(this._origin);\n    const overlayBounds = this._getElementBounds(overlay);\n    const scrollContainerBounds = this.scrollables.map((scrollable: Scrollable) => {\n      return this._getElementBounds(scrollable.getElementRef().nativeElement);\n    });\n\n    return {\n      isOriginClipped: this.isElementClipped(originBounds, scrollContainerBounds),\n      isOriginOutsideView: this.isElementOutsideView(originBounds, scrollContainerBounds),\n      isOverlayClipped: this.isElementClipped(overlayBounds, scrollContainerBounds),\n      isOverlayOutsideView: this.isElementOutsideView(overlayBounds, scrollContainerBounds),\n    };\n  }\n\n  /** Whether the element is completely out of the view of any of the containers. */\n  private isElementOutsideView(\n      elementBounds: ElementBoundingPositions,\n      containersBounds: ElementBoundingPositions[]): boolean {\n    return containersBounds.some((containerBounds: ElementBoundingPositions) => {\n      const outsideAbove = elementBounds.bottom < containerBounds.top;\n      const outsideBelow = elementBounds.top > containerBounds.bottom;\n      const outsideLeft = elementBounds.right < containerBounds.left;\n      const outsideRight = elementBounds.left > containerBounds.right;\n\n      return outsideAbove || outsideBelow || outsideLeft || outsideRight;\n    });\n  }\n\n  /** Whether the element is clipped by any of the containers. */\n  private isElementClipped(\n      elementBounds: ElementBoundingPositions,\n      containersBounds: ElementBoundingPositions[]): boolean {\n    return containersBounds.some((containerBounds: ElementBoundingPositions) => {\n      const clippedAbove = elementBounds.top < containerBounds.top;\n      const clippedBelow = elementBounds.bottom > containerBounds.bottom;\n      const clippedLeft = elementBounds.left < containerBounds.left;\n      const clippedRight = elementBounds.right > containerBounds.right;\n\n      return clippedAbove || clippedBelow || clippedLeft || clippedRight;\n    });\n  }\n\n  /** Physically positions the overlay element to the given coordinate. */\n  private _setElementPosition(\n      element: HTMLElement,\n      overlayRect: ClientRect,\n      overlayPoint: Point,\n      pos: ConnectionPositionPair) {\n\n    // We want to set either `top` or `bottom` based on whether the overlay wants to appear above\n    // or below the origin and the direction in which the element will expand.\n    let verticalStyleProperty: any = pos.overlayY === 'bottom' ? 'bottom' : 'top';\n\n    // When using `bottom`, we adjust the y position such that it is the distance\n    // from the bottom of the viewport rather than the top.\n    let y = verticalStyleProperty === 'top' ?\n        overlayPoint.y :\n        document.documentElement.clientHeight - (overlayPoint.y + overlayRect.height);\n\n    // We want to set either `left` or `right` based on whether the overlay wants to appear \"before\"\n    // or \"after\" the origin, which determines the direction in which the element will expand.\n    // For the horizontal axis, the meaning of \"before\" and \"after\" change based on whether the\n    // page is in RTL or LTR.\n    let horizontalStyleProperty: any;\n    if (this._dir === 'rtl') {\n      horizontalStyleProperty = pos.overlayX === 'end' ? 'left' : 'right';\n    } else {\n      horizontalStyleProperty = pos.overlayX === 'end' ? 'right' : 'left';\n    }\n\n    // When we're setting `right`, we adjust the x position such that it is the distance\n    // from the right edge of the viewport rather than the left edge.\n    let x = horizontalStyleProperty === 'left' ?\n      overlayPoint.x :\n      document.documentElement.clientWidth - (overlayPoint.x + overlayRect.width);\n\n\n    // Reset any existing styles. This is necessary in case the preferred position has\n    // changed since the last `apply`.\n    ['top', 'bottom', 'left', 'right'].forEach((p: any) => element.style[p] = null);\n\n    element.style[verticalStyleProperty] = `${y}px`;\n    element.style[horizontalStyleProperty] = `${x}px`;\n  }\n\n  /** Returns the bounding positions of the provided element with respect to the viewport. */\n  private _getElementBounds(element: HTMLElement): ElementBoundingPositions {\n    const boundingClientRect = element.getBoundingClientRect();\n    return {\n      top: boundingClientRect.top,\n      right: boundingClientRect.left + boundingClientRect.width,\n      bottom: boundingClientRect.top + boundingClientRect.height,\n      left: boundingClientRect.left\n    };\n  }\n\n  /**\n   * Subtracts the amount that an element is overflowing on an axis from it's length.\n   */\n  private _subtractOverflows(length: number, ...overflows: number[]): number {\n    return overflows.reduce((currentValue: number, currentOverflow: number) => {\n      return currentValue - Math.max(currentOverflow, 0);\n    }, length);\n  }\n}\n\n/** A simple (x, y) coordinate. */\ninterface Point {\n  x: number;\n  y: number;\n}\n\n/**\n * Expands the simple (x, y) coordinate by adding info about whether the\n * element would fit inside the viewport at that position, as well as\n * how much of the element would be visible.\n */\ninterface OverlayPoint extends Point {\n  visibleArea?: number;\n  fitsInViewport?: boolean;\n}\n","import {PositionStrategy} from './position-strategy';\n\n\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * explicit position relative to the browser's viewport. We use flexbox, instead of\n * transforms, in order to avoid issues with subpixel rendering which can cause the\n * element to become blurry.\n */\nexport class GlobalPositionStrategy implements PositionStrategy {\n  private _cssPosition: string = 'static';\n  private _topOffset: string = '';\n  private _bottomOffset: string = '';\n  private _leftOffset: string = '';\n  private _rightOffset: string = '';\n  private _alignItems: string = '';\n  private _justifyContent: string = '';\n  private _width: string = '';\n  private _height: string = '';\n\n  /* A lazily-created wrapper for the overlay element that is used as a flex container.  */\n  private _wrapper: HTMLElement;\n\n  /**\n   * Sets the top position of the overlay. Clears any previously set vertical position.\n   * @param value New top offset.\n   */\n  top(value: string): this {\n    this._bottomOffset = '';\n    this._topOffset = value;\n    this._alignItems = 'flex-start';\n    return this;\n  }\n\n  /**\n   * Sets the left position of the overlay. Clears any previously set horizontal position.\n   * @param value New left offset.\n   */\n  left(value: string): this {\n    this._rightOffset = '';\n    this._leftOffset = value;\n    this._justifyContent = 'flex-start';\n    return this;\n  }\n\n  /**\n   * Sets the bottom position of the overlay. Clears any previously set vertical position.\n   * @param value New bottom offset.\n   */\n  bottom(value: string): this {\n    this._topOffset = '';\n    this._bottomOffset = value;\n    this._alignItems = 'flex-end';\n    return this;\n  }\n\n  /**\n   * Sets the right position of the overlay. Clears any previously set horizontal position.\n   * @param value New right offset.\n   */\n  right(value: string): this {\n    this._leftOffset = '';\n    this._rightOffset = value;\n    this._justifyContent = 'flex-end';\n    return this;\n  }\n\n  /**\n   * Sets the overlay width and clears any previously set width.\n   * @param value New width for the overlay\n   */\n  width(value: string): this {\n    this._width = value;\n\n    // When the width is 100%, we should reset the `left` and the offset,\n    // in order to ensure that the element is flush against the viewport edge.\n    if (value === '100%') {\n      this.left('0px');\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the overlay height and clears any previously set height.\n   * @param value New height for the overlay\n   */\n  height(value: string): this {\n    this._height = value;\n\n    // When the height is 100%, we should reset the `top` and the offset,\n    // in order to ensure that the element is flush against the viewport edge.\n    if (value === '100%') {\n      this.top('0px');\n    }\n\n    return this;\n  }\n\n  /**\n   * Centers the overlay horizontally with an optional offset.\n   * Clears any previously set horizontal position.\n   *\n   * @param offset Overlay offset from the horizontal center.\n   */\n  centerHorizontally(offset = ''): this {\n    this.left(offset);\n    this._justifyContent = 'center';\n    return this;\n  }\n\n  /**\n   * Centers the overlay vertically with an optional offset.\n   * Clears any previously set vertical position.\n   *\n   * @param offset Overlay offset from the vertical center.\n   */\n  centerVertically(offset = ''): this {\n    this.top(offset);\n    this._alignItems = 'center';\n    return this;\n  }\n\n  /**\n   * Apply the position to the element.\n   * @docs-private\n   *\n   * @param element Element to which to apply the CSS.\n   * @returns Resolved when the styles have been applied.\n   */\n  apply(element: HTMLElement): Promise<void> {\n    if (!this._wrapper) {\n      this._wrapper = document.createElement('div');\n      this._wrapper.classList.add('cdk-global-overlay-wrapper');\n      element.parentNode.insertBefore(this._wrapper, element);\n      this._wrapper.appendChild(element);\n    }\n\n    let styles = element.style;\n    let parentStyles = (element.parentNode as HTMLElement).style;\n\n    styles.position = this._cssPosition;\n    styles.marginTop = this._topOffset;\n    styles.marginLeft = this._leftOffset;\n    styles.marginBottom = this._bottomOffset;\n    styles.marginRight = this._rightOffset;\n    styles.width = this._width;\n    styles.height = this._height;\n\n    parentStyles.justifyContent = this._justifyContent;\n    parentStyles.alignItems = this._alignItems;\n\n    return Promise.resolve(null);\n  }\n\n  /**\n   * Removes the wrapper element from the DOM.\n   */\n  dispose(): void {\n    if (this._wrapper && this._wrapper.parentNode) {\n      this._wrapper.parentNode.removeChild(this._wrapper);\n      this._wrapper = null;\n    }\n  }\n}\n","import {ViewportRuler} from './viewport-ruler';\nimport {ConnectedPositionStrategy} from './connected-position-strategy';\nimport {ElementRef, Injectable} from '@angular/core';\nimport {GlobalPositionStrategy} from './global-position-strategy';\nimport {OverlayConnectionPosition, OriginConnectionPosition} from './connected-position';\n\n\n\n/** Builder for overlay position strategy. */\n@Injectable()\nexport class OverlayPositionBuilder {\n  constructor(private _viewportRuler: ViewportRuler) { }\n\n  /**\n   * Creates a global position strategy.\n   */\n  global(): GlobalPositionStrategy {\n    return new GlobalPositionStrategy();\n  }\n\n  /**\n   * Creates a relative position strategy.\n   * @param elementRef\n   * @param originPos\n   * @param overlayPos\n   */\n  connectedTo(\n      elementRef: ElementRef,\n      originPos: OriginConnectionPosition,\n      overlayPos: OverlayConnectionPosition): ConnectedPositionStrategy {\n    return new ConnectedPositionStrategy(elementRef, originPos, overlayPos, this._viewportRuler);\n  }\n}\n","import {Injectable, Optional, SkipSelf} from '@angular/core';\n\n\n/**\n * The OverlayContainer is the container in which all overlays will load.\n * It should be provided in the root component to ensure it is properly shared.\n */\n@Injectable()\nexport class OverlayContainer {\n  protected _containerElement: HTMLElement;\n\n  private _themeClass: string;\n\n  /**\n   * Base theme to be applied to all overlay-based components.\n   */\n  get themeClass(): string { return this._themeClass; }\n  set themeClass(value: string) {\n    if (this._containerElement) {\n      this._containerElement.classList.remove(this._themeClass);\n\n      if (value) {\n        this._containerElement.classList.add(value);\n      }\n    }\n\n    this._themeClass = value;\n  }\n\n  /**\n   * This method returns the overlay container element.  It will lazily\n   * create the element the first time  it is called to facilitate using\n   * the container in non-browser environments.\n   * @returns the container element\n   */\n  getContainerElement(): HTMLElement {\n    if (!this._containerElement) { this._createContainer(); }\n    return this._containerElement;\n  }\n\n  /**\n   * Create the overlay container element, which is simply a div\n   * with the 'cdk-overlay-container' class on the document body.\n   */\n  protected _createContainer(): void {\n    let container = document.createElement('div');\n    container.classList.add('cdk-overlay-container');\n\n    if (this._themeClass) {\n      container.classList.add(this._themeClass);\n    }\n\n    document.body.appendChild(container);\n    this._containerElement = container;\n  }\n}\n\nexport function OVERLAY_CONTAINER_PROVIDER_FACTORY(parentContainer: OverlayContainer) {\n  return parentContainer || new OverlayContainer();\n}\n\nexport const OVERLAY_CONTAINER_PROVIDER = {\n  // If there is already an OverlayContainer available, use that. Otherwise, provide a new one.\n  provide: OverlayContainer,\n  deps: [[new Optional(), new SkipSelf(), OverlayContainer]],\n  useFactory: OVERLAY_CONTAINER_PROVIDER_FACTORY\n};\n","import {\n  ComponentFactoryResolver,\n  Injectable,\n  ApplicationRef,\n  Injector,\n  NgZone,\n  Provider,\n} from '@angular/core';\nimport {OverlayState} from './overlay-state';\nimport {DomPortalHost} from '../portal/dom-portal-host';\nimport {OverlayRef} from './overlay-ref';\nimport {OverlayPositionBuilder} from './position/overlay-position-builder';\nimport {VIEWPORT_RULER_PROVIDER} from './position/viewport-ruler';\nimport {OverlayContainer, OVERLAY_CONTAINER_PROVIDER} from './overlay-container';\nimport {ScrollStrategy, ScrollStrategyOptions} from './scroll/index';\n\n\n/** Next overlay unique ID. */\nlet nextUniqueId = 0;\n\n/** The default state for newly created overlays. */\nlet defaultState = new OverlayState();\n\n\n/**\n * Service to create Overlays. Overlays are dynamically added pieces of floating UI, meant to be\n * used as a low-level building building block for other components. Dialogs, tooltips, menus,\n * selects, etc. can all be built using overlays. The service should primarily be used by authors\n * of re-usable components rather than developers building end-user applications.\n *\n * An overlay *is* a PortalHost, so any kind of Portal can be loaded into one.\n */\n@Injectable()\nexport class Overlay {\n  constructor(public scrollStrategies: ScrollStrategyOptions,\n              private _overlayContainer: OverlayContainer,\n              private _componentFactoryResolver: ComponentFactoryResolver,\n              private _positionBuilder: OverlayPositionBuilder,\n              private _appRef: ApplicationRef,\n              private _injector: Injector,\n              private _ngZone: NgZone) { }\n\n  /**\n   * Creates an overlay.\n   * @param state State to apply to the overlay.\n   * @returns Reference to the created overlay.\n   */\n  create(state: OverlayState = defaultState): OverlayRef {\n    return this._createOverlayRef(this._createPaneElement(), state);\n  }\n\n  /**\n   * Returns a position builder that can be used, via fluent API,\n   * to construct and configure a position strategy.\n   */\n  position(): OverlayPositionBuilder {\n    return this._positionBuilder;\n  }\n\n  /**\n   * Creates the DOM element for an overlay and appends it to the overlay container.\n   * @returns Newly-created pane element\n   */\n  private _createPaneElement(): HTMLElement {\n    let pane = document.createElement('div');\n\n    pane.id = `cdk-overlay-${nextUniqueId++}`;\n    pane.classList.add('cdk-overlay-pane');\n    this._overlayContainer.getContainerElement().appendChild(pane);\n\n    return pane;\n  }\n\n  /**\n   * Create a DomPortalHost into which the overlay content can be loaded.\n   * @param pane The DOM element to turn into a portal host.\n   * @returns A portal host for the given DOM element.\n   */\n  private _createPortalHost(pane: HTMLElement): DomPortalHost {\n    return new DomPortalHost(pane, this._componentFactoryResolver, this._appRef, this._injector);\n  }\n\n  /**\n   * Creates an OverlayRef for an overlay in the given DOM element.\n   * @param pane DOM element for the overlay\n   * @param state\n   */\n  private _createOverlayRef(pane: HTMLElement, state: OverlayState): OverlayRef {\n    let scrollStrategy = state.scrollStrategy || this.scrollStrategies.noop();\n    let portalHost = this._createPortalHost(pane);\n    return new OverlayRef(portalHost, pane, state, scrollStrategy, this._ngZone);\n  }\n}\n\n/** Providers for Overlay and its related injectables. */\nexport const OVERLAY_PROVIDERS: Provider[] = [\n  Overlay,\n  OverlayPositionBuilder,\n  VIEWPORT_RULER_PROVIDER,\n  OVERLAY_CONTAINER_PROVIDER,\n];\n","import {\n    NgModule,\n    Directive,\n    EventEmitter,\n    TemplateRef,\n    ViewContainerRef,\n    Optional,\n    Input,\n    OnDestroy,\n    Output,\n    ElementRef,\n    Renderer2,\n    OnChanges,\n    SimpleChanges,\n} from '@angular/core';\nimport {Overlay, OVERLAY_PROVIDERS} from './overlay';\nimport {OverlayRef} from './overlay-ref';\nimport {TemplatePortal} from '../portal/portal';\nimport {OverlayState} from './overlay-state';\nimport {\n    ConnectionPositionPair,\n    ConnectedOverlayPositionChange\n} from './position/connected-position';\nimport {PortalModule} from '../portal/portal-directives';\nimport {ConnectedPositionStrategy} from './position/connected-position-strategy';\nimport {Dir, LayoutDirection} from '../rtl/dir';\nimport {Scrollable} from './scroll/scrollable';\nimport {ScrollStrategy} from './scroll/scroll-strategy';\nimport {coerceBooleanProperty} from '../coercion/boolean-property';\nimport {ESCAPE} from '../keyboard/keycodes';\nimport {Subscription} from 'rxjs';\nimport {ScrollDispatchModule} from './scroll/index';\n\n\n/** Default set of positions for the overlay. Follows the behavior of a dropdown. */\nlet defaultPositionList = [\n  new ConnectionPositionPair(\n      {originX: 'start', originY: 'bottom'},\n      {overlayX: 'start', overlayY: 'top'}),\n  new ConnectionPositionPair(\n      {originX: 'start', originY: 'top'},\n      {overlayX: 'start', overlayY: 'bottom'}),\n];\n\n\n/**\n * Directive applied to an element to make it usable as an origin for an Overlay using a\n * ConnectedPositionStrategy.\n */\n@Directive({\n  selector: '[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]',\n  exportAs: 'cdkOverlayOrigin',\n})\nexport class OverlayOrigin {\n  constructor(public elementRef: ElementRef) { }\n}\n\n\n\n/**\n * Directive to facilitate declarative creation of an Overlay using a ConnectedPositionStrategy.\n */\n@Directive({\n  selector: '[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]',\n  exportAs: 'cdkConnectedOverlay'\n})\nexport class ConnectedOverlayDirective implements OnDestroy, OnChanges {\n  private _overlayRef: OverlayRef;\n  private _templatePortal: TemplatePortal;\n  private _hasBackdrop = false;\n  private _backdropSubscription: Subscription;\n  private _positionSubscription: Subscription;\n  private _offsetX: number = 0;\n  private _offsetY: number = 0;\n  private _position: ConnectedPositionStrategy;\n  private _escapeListener: Function;\n\n  /** Origin for the connected overlay. */\n  @Input() origin: OverlayOrigin;\n\n  /** Registered connected position pairs. */\n  @Input() positions: ConnectionPositionPair[];\n\n  /** The offset in pixels for the overlay connection point on the x-axis */\n  @Input()\n  get offsetX(): number {\n    return this._offsetX;\n  }\n\n  set offsetX(offsetX: number) {\n    this._offsetX = offsetX;\n    if (this._position) {\n      this._position.withOffsetX(offsetX);\n    }\n  }\n\n  /** The offset in pixels for the overlay connection point on the y-axis */\n  @Input()\n  get offsetY() {\n    return this._offsetY;\n  }\n\n  set offsetY(offsetY: number) {\n    this._offsetY = offsetY;\n    if (this._position) {\n      this._position.withOffsetY(offsetY);\n    }\n  }\n\n  /** The width of the overlay panel. */\n  @Input() width: number | string;\n\n  /** The height of the overlay panel. */\n  @Input() height: number | string;\n\n  /** The min width of the overlay panel. */\n  @Input() minWidth: number | string;\n\n  /** The min height of the overlay panel. */\n  @Input() minHeight: number | string;\n\n  /** The custom class to be set on the backdrop element. */\n  @Input() backdropClass: string;\n\n  /** Strategy to be used when handling scroll events while the overlay is open. */\n  @Input() scrollStrategy: ScrollStrategy = this._overlay.scrollStrategies.reposition();\n\n  /** Whether the overlay is open. */\n  @Input() open: boolean = false;\n\n  /** Whether or not the overlay should attach a backdrop. */\n  @Input()\n  get hasBackdrop() {\n    return this._hasBackdrop;\n  }\n\n  set hasBackdrop(value: any) {\n    this._hasBackdrop = coerceBooleanProperty(value);\n  }\n\n  /** Event emitted when the backdrop is clicked. */\n  @Output() backdropClick = new EventEmitter<void>();\n\n  /** Event emitted when the position has changed. */\n  @Output() positionChange = new EventEmitter<ConnectedOverlayPositionChange>();\n\n  /** Event emitted when the overlay has been attached. */\n  @Output() attach = new EventEmitter<void>();\n\n  /** Event emitted when the overlay has been detached. */\n  @Output() detach = new EventEmitter<void>();\n\n  // TODO(jelbourn): inputs for size, scroll behavior, animation, etc.\n\n  constructor(\n      private _overlay: Overlay,\n      private _renderer: Renderer2,\n      templateRef: TemplateRef<any>,\n      viewContainerRef: ViewContainerRef,\n      @Optional() private _dir: Dir) {\n    this._templatePortal = new TemplatePortal(templateRef, viewContainerRef);\n  }\n\n  /** The associated overlay reference. */\n  get overlayRef(): OverlayRef {\n    return this._overlayRef;\n  }\n\n  /** The element's layout direction. */\n  get dir(): LayoutDirection {\n    return this._dir ? this._dir.value : 'ltr';\n  }\n\n  ngOnDestroy() {\n    this._destroyOverlay();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['open']) {\n      this.open ? this._attachOverlay() : this._detachOverlay();\n    }\n  }\n\n  /** Creates an overlay */\n  private _createOverlay() {\n    if (!this.positions || !this.positions.length) {\n      this.positions = defaultPositionList;\n    }\n\n    this._overlayRef = this._overlay.create(this._buildConfig());\n  }\n\n  /** Builds the overlay config based on the directive's inputs */\n  private _buildConfig(): OverlayState {\n    let overlayConfig = new OverlayState();\n\n    if (this.width || this.width === 0) {\n      overlayConfig.width = this.width;\n    }\n\n    if (this.height || this.height === 0) {\n      overlayConfig.height = this.height;\n    }\n\n    if (this.minWidth || this.minWidth === 0) {\n      overlayConfig.minWidth = this.minWidth;\n    }\n\n    if (this.minHeight || this.minHeight === 0) {\n      overlayConfig.minHeight = this.minHeight;\n    }\n\n    overlayConfig.hasBackdrop = this.hasBackdrop;\n\n    if (this.backdropClass) {\n      overlayConfig.backdropClass = this.backdropClass;\n    }\n\n    this._position = this._createPositionStrategy() as ConnectedPositionStrategy;\n    overlayConfig.positionStrategy = this._position;\n    overlayConfig.scrollStrategy = this.scrollStrategy;\n\n    return overlayConfig;\n  }\n\n  /** Returns the position strategy of the overlay to be set on the overlay config */\n  private _createPositionStrategy(): ConnectedPositionStrategy {\n    const pos = this.positions[0];\n    const originPoint = {originX: pos.originX, originY: pos.originY};\n    const overlayPoint = {overlayX: pos.overlayX, overlayY: pos.overlayY};\n\n    const strategy = this._overlay.position()\n      .connectedTo(this.origin.elementRef, originPoint, overlayPoint)\n      .withOffsetX(this.offsetX)\n      .withOffsetY(this.offsetY);\n\n    this._handlePositionChanges(strategy);\n\n    return strategy;\n  }\n\n  private _handlePositionChanges(strategy: ConnectedPositionStrategy): void {\n    for (let i = 1; i < this.positions.length; i++) {\n      strategy.withFallbackPosition(\n          {originX: this.positions[i].originX, originY: this.positions[i].originY},\n          {overlayX: this.positions[i].overlayX, overlayY: this.positions[i].overlayY}\n      );\n    }\n\n    this._positionSubscription =\n        strategy.onPositionChange.subscribe((pos: any) => this.positionChange.emit(pos));\n  }\n\n  /** Attaches the overlay and subscribes to backdrop clicks if backdrop exists */\n  private _attachOverlay() {\n    if (!this._overlayRef) {\n      this._createOverlay();\n    }\n\n    this._position.withDirection(this.dir);\n    this._overlayRef.getState().direction = this.dir;\n    this._initEscapeListener();\n\n    if (!this._overlayRef.hasAttached()) {\n      this._overlayRef.attach(this._templatePortal);\n      this.attach.emit();\n    }\n\n    if (this.hasBackdrop) {\n      this._backdropSubscription = this._overlayRef.backdropClick().subscribe(() => {\n        this.backdropClick.emit();\n      });\n    }\n  }\n\n  /** Detaches the overlay and unsubscribes to backdrop clicks if backdrop exists */\n  private _detachOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this.detach.emit();\n    }\n\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n      this._backdropSubscription = null;\n    }\n\n    if (this._escapeListener) {\n      this._escapeListener();\n    }\n  }\n\n  /** Destroys the overlay created by this directive. */\n  private _destroyOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n    }\n\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n\n    if (this._positionSubscription) {\n      this._positionSubscription.unsubscribe();\n    }\n\n    if (this._escapeListener) {\n      this._escapeListener();\n    }\n  }\n\n  /** Sets the event listener that closes the overlay when pressing Escape. */\n  private _initEscapeListener() {\n    this._escapeListener = this._renderer.listen('document', 'keydown', (event: KeyboardEvent) => {\n      if (event.keyCode === ESCAPE) {\n        this._detachOverlay();\n      }\n    });\n  }\n}\n\n\n@NgModule({\n  imports: [PortalModule, ScrollDispatchModule],\n  exports: [ConnectedOverlayDirective, OverlayOrigin, ScrollDispatchModule],\n  declarations: [ConnectedOverlayDirective, OverlayOrigin],\n  providers: [OVERLAY_PROVIDERS],\n})\nexport class OverlayModule {}\n","import {Injectable} from '@angular/core';\nimport {Platform} from '../platform/platform';\n\n/**\n * The InteractivityChecker leans heavily on the ally.js accessibility utilities.\n * Methods like `isTabbable` are only covering specific edge-cases for the browsers which are\n * supported.\n */\n\n/**\n * Utility for checking the interactivity of an element, such as whether is is focusable or\n * tabbable.\n */\n@Injectable()\nexport class InteractivityChecker {\n\n  constructor(private _platform: Platform) {}\n\n  /**\n   * Gets whether an element is disabled.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is disabled.\n   */\n  isDisabled(element: HTMLElement): boolean {\n    // This does not capture some cases, such as a non-form control with a disabled attribute or\n    // a form control inside of a disabled form, but should capture the most common cases.\n    return element.hasAttribute('disabled');\n  }\n\n  /**\n   * Gets whether an element is visible for the purposes of interactivity.\n   *\n   * This will capture states like `display: none` and `visibility: hidden`, but not things like\n   * being clipped by an `overflow: hidden` parent or being outside the viewport.\n   *\n   * @returns Whether the element is visible.\n   */\n  isVisible(element: HTMLElement): boolean {\n    return hasGeometry(element) && getComputedStyle(element).visibility === 'visible';\n  }\n\n  /**\n   * Gets whether an element can be reached via Tab key.\n   * Assumes that the element has already been checked with isFocusable.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is tabbable.\n   */\n  isTabbable(element: HTMLElement): boolean {\n    // Nothing is tabbable on the the server \n    if (!this._platform.isBrowser) {\n      return false;\n    }\n\n    let frameElement = getWindow(element).frameElement as HTMLElement;\n\n    if (frameElement) {\n\n      let frameType = frameElement && frameElement.nodeName.toLowerCase();\n\n      // Frame elements inherit their tabindex onto all child elements.\n      if (getTabIndexValue(frameElement) === -1) {\n        return false;\n      }\n\n      // Webkit and Blink consider anything inside of an <object> element as non-tabbable.\n      if ((this._platform.BLINK || this._platform.WEBKIT) && frameType === 'object') {\n        return false;\n      }\n\n      // Webkit and Blink disable tabbing to an element inside of an invisible frame.\n      if ((this._platform.BLINK || this._platform.WEBKIT) && !this.isVisible(frameElement)) {\n        return false;\n      }\n\n    }\n\n    let nodeName = element.nodeName.toLowerCase();\n    let tabIndexValue = getTabIndexValue(element);\n\n    if (element.hasAttribute('contenteditable')) {\n      return tabIndexValue !== -1;\n    }\n\n    if (nodeName === 'iframe') {\n      // The frames may be tabbable depending on content, but it's not possibly to reliably\n      // investigate the content of the frames.\n      return false;\n    }\n\n    if (nodeName === 'audio') {\n      if (!element.hasAttribute('controls')) {\n        // By default an <audio> element without the controls enabled is not tabbable.\n        return false;\n      } else if (this._platform.BLINK) {\n        // In Blink <audio controls> elements are always tabbable.\n        return true;\n      }\n    }\n\n    if (nodeName === 'video') {\n      if (!element.hasAttribute('controls') && this._platform.TRIDENT) {\n        // In Trident a <video> element without the controls enabled is not tabbable.\n        return false;\n      } else if (this._platform.BLINK || this._platform.FIREFOX) {\n        // In Chrome and Firefox <video controls> elements are always tabbable.\n        return true;\n      }\n    }\n\n    if (nodeName === 'object' && (this._platform.BLINK || this._platform.WEBKIT)) {\n      // In all Blink and WebKit based browsers <object> elements are never tabbable.\n      return false;\n    }\n\n    // In iOS the browser only considers some specific elements as tabbable.\n    if (this._platform.WEBKIT && this._platform.IOS && !isPotentiallyTabbableIOS(element)) {\n      return false;\n    }\n\n    return element.tabIndex >= 0;\n  }\n\n  /**\n   * Gets whether an element can be focused by the user.\n   *\n   * @param element Element to be checked.\n   * @returns Whether the element is focusable.\n   */\n  isFocusable(element: HTMLElement): boolean {\n    // Perform checks in order of left to most expensive.\n    // Again, naive approach that does not capture many edge cases and browser quirks.\n    return isPotentiallyFocusable(element) && !this.isDisabled(element) && this.isVisible(element);\n  }\n\n}\n\n/** Checks whether the specified element has any geometry / rectangles. */\nfunction hasGeometry(element: HTMLElement): boolean {\n  // Use logic from jQuery to check for an invisible element.\n  // See https://github.com/jquery/jquery/blob/master/src/css/hiddenVisibleSelectors.js#L12\n  return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\n}\n\n/** Gets whether an element's  */\nfunction isNativeFormElement(element: Node) {\n  let nodeName = element.nodeName.toLowerCase();\n  return nodeName === 'input' ||\n      nodeName === 'select' ||\n      nodeName === 'button' ||\n      nodeName === 'textarea';\n}\n\n/** Gets whether an element is an <input type=\"hidden\">. */\nfunction isHiddenInput(element: HTMLElement): boolean {\n  return isInputElement(element) && element.type == 'hidden';\n}\n\n/** Gets whether an element is an anchor that has an href attribute. */\nfunction isAnchorWithHref(element: HTMLElement): boolean {\n  return isAnchorElement(element) && element.hasAttribute('href');\n}\n\n/** Gets whether an element is an input element. */\nfunction isInputElement(element: HTMLElement): element is HTMLInputElement {\n  return element.nodeName.toLowerCase() == 'input';\n}\n\n/** Gets whether an element is an anchor element. */\nfunction isAnchorElement(element: HTMLElement): element is HTMLAnchorElement {\n  return element.nodeName.toLowerCase() == 'a';\n}\n\n/** Gets whether an element has a valid tabindex. */\nfunction hasValidTabIndex(element: HTMLElement): boolean {\n  if (!element.hasAttribute('tabindex') || element.tabIndex === undefined) {\n    return false;\n  }\n\n  let tabIndex = element.getAttribute('tabindex');\n\n  // IE11 parses tabindex=\"\" as the value \"-32768\"\n  if (tabIndex == '-32768') {\n    return false;\n  }\n\n  return !!(tabIndex && !isNaN(parseInt(tabIndex, 10)));\n}\n\n/**\n * Returns the parsed tabindex from the element attributes instead of returning the\n * evaluated tabindex from the browsers defaults.\n */\nfunction getTabIndexValue(element: HTMLElement): number {\n  if (!hasValidTabIndex(element)) {\n    return null;\n  }\n\n  // See browser issue in Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n  const tabIndex = parseInt(element.getAttribute('tabindex'), 10);\n\n  return isNaN(tabIndex) ? -1 : tabIndex;\n}\n\n/** Checks whether the specified element is potentially tabbable on iOS */\nfunction isPotentiallyTabbableIOS(element: HTMLElement): boolean {\n  let nodeName = element.nodeName.toLowerCase();\n  let inputType = nodeName === 'input' && (element as HTMLInputElement).type;\n\n  return inputType === 'text'\n      || inputType === 'password'\n      || nodeName === 'select'\n      || nodeName === 'textarea';\n}\n\n/**\n * Gets whether an element is potentially focusable without taking current visible/disabled state\n * into account.\n */\nfunction isPotentiallyFocusable(element: HTMLElement): boolean {\n  // Inputs are potentially focusable *unless* they're type=\"hidden\".\n  if (isHiddenInput(element)) {\n    return false;\n  }\n\n  return isNativeFormElement(element) ||\n      isAnchorWithHref(element) ||\n      element.hasAttribute('contenteditable') ||\n      hasValidTabIndex(element);\n}\n\n/** Gets the parent window of a DOM node with regards of being inside of an iframe. */\nfunction getWindow(node: HTMLElement): Window {\n  return node.ownerDocument.defaultView || window;\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnDestroy,\n  AfterContentInit,\n  Injectable,\n} from '@angular/core';\nimport {InteractivityChecker} from './interactivity-checker';\nimport {Platform} from '../platform/platform';\nimport {coerceBooleanProperty} from '../coercion/boolean-property';\nimport {first} from 'rxjs/operators';\n\n/**\n * Class that allows for trapping focus within a DOM element.\n *\n * NOTE: This class currently uses a very simple (naive) approach to focus trapping.\n * It assumes that the tab order is the same as DOM order, which is not necessarily true.\n * Things like tabIndex > 0, flex `order`, and shadow roots can cause to two to misalign.\n * This will be replaced with a more intelligent solution before the library is considered stable.\n */\nexport class FocusTrap {\n  private _startAnchor: HTMLElement;\n  private _endAnchor: HTMLElement;\n\n  /** Whether the focus trap is active. */\n  get enabled(): boolean { return this._enabled; }\n  set enabled(val: boolean) {\n    this._enabled = val;\n\n    if (this._startAnchor && this._endAnchor) {\n      this._startAnchor.tabIndex = this._endAnchor.tabIndex = this._enabled ? 0 : -1;\n    }\n  }\n  private _enabled: boolean = true;\n\n  constructor(\n    private _element: HTMLElement,\n    private _platform: Platform,\n    private _checker: InteractivityChecker,\n    private _ngZone: NgZone,\n    deferAnchors = false) {\n\n    if (!deferAnchors) {\n      this.attachAnchors();\n    }\n  }\n\n  /** Destroys the focus trap by cleaning up the anchors. */\n  destroy() {\n    if (this._startAnchor && this._startAnchor.parentNode) {\n      this._startAnchor.parentNode.removeChild(this._startAnchor);\n    }\n\n    if (this._endAnchor && this._endAnchor.parentNode) {\n      this._endAnchor.parentNode.removeChild(this._endAnchor);\n    }\n\n    this._startAnchor = this._endAnchor = null;\n  }\n\n  /**\n   * Inserts the anchors into the DOM. This is usually done automatically\n   * in the constructor, but can be deferred for cases like directives with `*ngIf`.\n   */\n  attachAnchors(): void {\n    // If we're not on the browser, there can be no focus to trap.\n    if (!this._platform.isBrowser) {\n      return;\n    }\n\n    if (!this._startAnchor) {\n      this._startAnchor = this._createAnchor();\n    }\n\n    if (!this._endAnchor) {\n      this._endAnchor = this._createAnchor();\n    }\n\n    this._ngZone.runOutsideAngular(() => {\n      this._startAnchor.addEventListener('focus', () => this.focusLastTabbableElement());\n      this._endAnchor.addEventListener('focus', () => this.focusFirstTabbableElement());\n\n      this._element.parentNode.insertBefore(this._startAnchor, this._element);\n      this._element.parentNode.insertBefore(this._endAnchor, this._element.nextSibling);\n    });\n  }\n\n  /**\n   * Waits for the zone to stabilize, then either focuses the first element that the\n   * user specified, or the first tabbable element..\n   */\n  focusInitialElementWhenReady() {\n    this._executeOnStable(() => this.focusInitialElement());\n  }\n\n  /**\n   * Waits for the zone to stabilize, then focuses\n   * the first tabbable element within the focus trap region.\n   */\n  focusFirstTabbableElementWhenReady() {\n    this._executeOnStable(() => this.focusFirstTabbableElement());\n  }\n\n  /**\n   * Waits for the zone to stabilize, then focuses\n   * the last tabbable element within the focus trap region.\n   */\n  focusLastTabbableElementWhenReady() {\n    this._executeOnStable(() => this.focusLastTabbableElement());\n  }\n\n  /**\n   * Get the specified boundary element of the trapped region.\n   * @param bound The boundary to get (start or end of trapped region).\n   * @returns The boundary element.\n   */\n  private _getRegionBoundary(bound: 'start' | 'end'): HTMLElement | null {\n    // Contains the deprecated version of selector, for temporary backwards comparability.\n    let markers = this._element.querySelectorAll(`[cdk-focus-region-${bound}], ` +\n                                                 `[cdk-focus-${bound}]`) as NodeListOf<HTMLElement>;\n\n    for (let i = 0; i < markers.length; i++) {\n      if (markers[i].hasAttribute(`cdk-focus-${bound}`)) {\n        console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}',` +\n                     ` use 'cdk-focus-region-${bound}' instead.`, markers[i]);\n      }\n    }\n\n    if (bound == 'start') {\n      return markers.length ? markers[0] : this._getFirstTabbableElement(this._element);\n    }\n    return markers.length ?\n        markers[markers.length - 1] : this._getLastTabbableElement(this._element);\n  }\n\n  /** Focuses the element that should be focused when the focus trap is initialized. */\n  focusInitialElement() {\n    let redirectToElement = this._element.querySelector('[cdk-focus-initial]') as HTMLElement;\n    if (redirectToElement) {\n      redirectToElement.focus();\n    } else {\n      this.focusFirstTabbableElement();\n    }\n  }\n\n  /** Focuses the first tabbable element within the focus trap region. */\n  focusFirstTabbableElement() {\n    let redirectToElement = this._getRegionBoundary('start');\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n  }\n\n  /** Focuses the last tabbable element within the focus trap region. */\n  focusLastTabbableElement() {\n    let redirectToElement = this._getRegionBoundary('end');\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n  }\n\n  /** Get the first tabbable element from a DOM subtree (inclusive). */\n  private _getFirstTabbableElement(root: HTMLElement): HTMLElement {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in DOM order. Note that IE doesn't have `children` for SVG so we fall\n    // back to `childNodes` which includes text nodes, comments etc.\n    let children = root.children || root.childNodes;\n\n    for (let i = 0; i < children.length; i++) {\n      let tabbableChild = children[i].nodeType === Node.ELEMENT_NODE ?\n        this._getFirstTabbableElement(children[i] as HTMLElement) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n\n  /** Get the last tabbable element from a DOM subtree (inclusive). */\n  private _getLastTabbableElement(root: HTMLElement): HTMLElement {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in reverse DOM order.\n    let children = root.children || root.childNodes;\n\n    for (let i = children.length - 1; i >= 0; i--) {\n      let tabbableChild = children[i].nodeType === Node.ELEMENT_NODE ?\n        this._getLastTabbableElement(children[i] as HTMLElement) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n\n  /** Creates an anchor element. */\n  private _createAnchor(): HTMLElement {\n    let anchor = document.createElement('div');\n    anchor.tabIndex = this._enabled ? 0 : -1;\n    anchor.classList.add('cdk-visually-hidden');\n    anchor.classList.add('cdk-focus-trap-anchor');\n    return anchor;\n  }\n\n  /** Executes a function when the zone is stable. */\n  private _executeOnStable(fn: () => any): void {\n    if (this._ngZone.isStable) {\n      fn();\n    } else {\n      this._ngZone.onStable.pipe(first()).subscribe(fn);\n    }\n  }\n}\n\n\n/** Factory that allows easy instantiation of focus traps. */\n@Injectable()\nexport class FocusTrapFactory {\n  constructor(\n      private _checker: InteractivityChecker,\n      private _platform: Platform,\n      private _ngZone: NgZone) { }\n\n  create(element: HTMLElement, deferAnchors = false): FocusTrap {\n    return new FocusTrap(element, this._platform, this._checker, this._ngZone, deferAnchors);\n  }\n}\n\n\n/**\n * Directive for trapping focus within a region.\n * @deprecated\n */\n@Directive({\n  selector: 'cdk-focus-trap',\n})\nexport class FocusTrapDeprecatedDirective implements OnDestroy, AfterContentInit {\n  focusTrap: FocusTrap;\n\n  /** Whether the focus trap is active. */\n  @Input()\n  get disabled(): boolean { return !this.focusTrap.enabled; }\n  set disabled(val: boolean) {\n    this.focusTrap.enabled = !coerceBooleanProperty(val);\n  }\n\n  constructor(private _elementRef: ElementRef, private _focusTrapFactory: FocusTrapFactory) {\n    this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n  }\n\n  ngOnDestroy() {\n    this.focusTrap.destroy();\n  }\n\n  ngAfterContentInit() {\n    this.focusTrap.attachAnchors();\n  }\n}\n\n\n/** Directive for trapping focus within a region. */\n@Directive({\n  selector: '[cdkTrapFocus]',\n  exportAs: 'cdkTrapFocus',\n})\nexport class FocusTrapDirective implements OnDestroy, AfterContentInit {\n  focusTrap: FocusTrap;\n\n  /** Whether the focus trap is active. */\n  @Input('cdkTrapFocus')\n  get enabled(): boolean { return this.focusTrap.enabled; }\n  set enabled(value: boolean) { this.focusTrap.enabled = coerceBooleanProperty(value); }\n\n  constructor(private _elementRef: ElementRef, private _focusTrapFactory: FocusTrapFactory) {\n    this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n  }\n\n  ngOnDestroy() {\n    this.focusTrap.destroy();\n  }\n\n  ngAfterContentInit() {\n    this.focusTrap.attachAnchors();\n  }\n}\n","import {\n  Injectable,\n  InjectionToken,\n  Optional,\n  Inject,\n  SkipSelf,\n} from '@angular/core';\nimport {Platform} from '../platform/platform';\n\n\nexport const LIVE_ANNOUNCER_ELEMENT_TOKEN = new InjectionToken<HTMLElement>('liveAnnouncerElement');\n\n/** Possible politeness levels. */\nexport type AriaLivePoliteness = 'off' | 'polite' | 'assertive';\n\n@Injectable()\nexport class LiveAnnouncer {\n\n  private _liveElement: Element;\n\n  constructor(\n      @Optional() @Inject(LIVE_ANNOUNCER_ELEMENT_TOKEN) elementToken: any,\n      platform: Platform) {\n    // Only do anything if we're on the browser platform.\n    if (platform.isBrowser) {\n      // We inject the live element as `any` because the constructor signature cannot reference\n      // browser globals (HTMLElement) on non-browser environments, since having a class decorator\n      // causes TypeScript to preserve the constructor signature types.\n      this._liveElement = elementToken || this._createLiveElement();\n    }\n  }\n\n  /**\n   * Announces a message to screenreaders.\n   * @param message Message to be announced to the screenreader\n   * @param politeness The politeness of the announcer element\n   */\n  announce(message: string, politeness: AriaLivePoliteness = 'polite'): void {\n    this._liveElement.textContent = '';\n\n    // TODO: ensure changing the politeness works on all environments we support.\n    this._liveElement.setAttribute('aria-live', politeness);\n\n    // This 100ms timeout is necessary for some browser + screen-reader combinations:\n    // - Both JAWS and NVDA over IE11 will not announce anything without a non-zero timeout.\n    // - With Chrome and IE11 with NVDA or JAWS, a repeated (identical) message won't be read a\n    //   second time without clearing and then using a non-zero delay.\n    // (using JAWS 17 at time of this writing).\n    setTimeout(() => this._liveElement.textContent = message, 100);\n  }\n\n  /** Removes the aria-live element from the DOM. */\n  _removeLiveElement() {\n    if (this._liveElement && this._liveElement.parentNode) {\n      this._liveElement.parentNode.removeChild(this._liveElement);\n    }\n  }\n\n  private _createLiveElement(): Element {\n    let liveEl = document.createElement('div');\n\n    liveEl.classList.add('cdk-visually-hidden');\n    liveEl.setAttribute('aria-atomic', 'true');\n    liveEl.setAttribute('aria-live', 'polite');\n\n    document.body.appendChild(liveEl);\n\n    return liveEl;\n  }\n\n}\n\nexport function LIVE_ANNOUNCER_PROVIDER_FACTORY(\n    parentDispatcher: LiveAnnouncer, liveElement: any, platform: Platform) {\n  return parentDispatcher || new LiveAnnouncer(liveElement, platform);\n}\n\nexport const LIVE_ANNOUNCER_PROVIDER = {\n  // If there is already a LiveAnnouncer available, use that. Otherwise, provide a new one.\n  provide: LiveAnnouncer,\n  deps: [\n    [new Optional(), new SkipSelf(), LiveAnnouncer],\n    [new Optional(), new Inject(LIVE_ANNOUNCER_ELEMENT_TOKEN)],\n    Platform,\n  ],\n  useFactory: LIVE_ANNOUNCER_PROVIDER_FACTORY\n};\n","import {NgModule} from '@angular/core';\nimport {FocusTrapDirective, FocusTrapDeprecatedDirective, FocusTrapFactory} from './focus-trap';\nimport {LIVE_ANNOUNCER_PROVIDER} from './live-announcer';\nimport {InteractivityChecker} from './interactivity-checker';\nimport {CommonModule} from '@angular/common';\nimport {PlatformModule} from '../platform/index';\n\n@NgModule({\n  imports: [CommonModule, PlatformModule],\n  declarations: [FocusTrapDirective, FocusTrapDeprecatedDirective],\n  exports: [FocusTrapDirective, FocusTrapDeprecatedDirective],\n  providers: [InteractivityChecker, FocusTrapFactory, LIVE_ANNOUNCER_PROVIDER]\n})\nexport class A11yModule {}\n","import {Injectable} from '@angular/core';\nimport {OverlayContainer} from './overlay-container';\n\n/**\n * The FullscreenOverlayContainer is the alternative to OverlayContainer\n * that supports correct displaying of overlay elements in Fullscreen mode\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen\n * It should be provided in the root component that way:\n * providers: [\n *   {provide: OverlayContainer, useClass: FullscreenOverlayContainer}\n * ],\n */\n@Injectable()\nexport class FullscreenOverlayContainer extends OverlayContainer {\n  protected _createContainer(): void {\n    super._createContainer();\n    this._adjustParentForFullscreenChange();\n    this._addFullscreenChangeListener(() => this._adjustParentForFullscreenChange());\n  }\n\n  private _adjustParentForFullscreenChange(): void {\n    if (!this._containerElement) {\n      return;\n    }\n    let fullscreenElement = this.getFullscreenElement();\n    let parent = fullscreenElement || document.body;\n    parent.appendChild(this._containerElement);\n  }\n\n  private _addFullscreenChangeListener(fn: () => void) {\n    if (document.fullscreenEnabled) {\n      document.addEventListener('fullscreenchange', fn);\n    } else if (document.webkitFullscreenEnabled) {\n      document.addEventListener('webkitfullscreenchange', fn);\n    } else if ((document as any).mozFullScreenEnabled) {\n      document.addEventListener('mozfullscreenchange', fn);\n    } else if ((document as any).msFullscreenEnabled) {\n      document.addEventListener('MSFullscreenChange', fn);\n    }\n  }\n\n  /**\n   * When the page is put into fullscreen mode, a specific element is specified.\n   * Only that element and its children are visible when in fullscreen mode.\n  */\n  getFullscreenElement(): Element {\n    return document.fullscreenElement ||\n        document.webkitFullscreenElement ||\n        (document as any).mozFullScreenElement ||\n        (document as any).msFullscreenElement ||\n        null;\n  }\n}\n","import {Injectable, isDevMode} from '@angular/core';\nimport {HammerGestureConfig} from '@angular/platform-browser';\nimport {HammerStatic, HammerInstance, Recognizer, RecognizerStatic} from './gesture-annotations';\n\n/* Adjusts configuration of our gesture library, Hammer. */\n@Injectable()\nexport class GestureConfig extends HammerGestureConfig {\n  private _hammer: HammerStatic = typeof window !== 'undefined' ? (window as any).Hammer : null;\n\n  /* List of new event names to add to the gesture support list */\n  events: string[] = this._hammer ? [\n    'longpress',\n    'slide',\n    'slidestart',\n    'slideend',\n    'slideright',\n    'slideleft'\n  ] : [];\n\n  constructor() {\n    super();\n\n    if (!this._hammer && isDevMode()) {\n      console.warn(\n        'Could not find HammerJS. Certain Angular Material ' +\n        'components may not work correctly.'\n      );\n    }\n  }\n\n  /**\n   * Builds Hammer instance manually to add custom recognizers that match the Material Design spec.\n   *\n   * Our gesture names come from the Material Design gestures spec:\n   * https://www.google.com/design/spec/patterns/gestures.html#gestures-touch-mechanics\n   *\n   * More information on default recognizers can be found in Hammer docs:\n   * http://hammerjs.github.io/recognizer-pan/\n   * http://hammerjs.github.io/recognizer-press/\n   *\n   * @param element Element to which to assign the new HammerJS gestures.\n   * @returns Newly-created HammerJS instance.\n   */\n  buildHammer(element: HTMLElement): HammerInstance {\n    const mc = new this._hammer(element);\n\n    // Default Hammer Recognizers.\n    let pan = new this._hammer.Pan();\n    let swipe = new this._hammer.Swipe();\n    let press = new this._hammer.Press();\n\n    // Notice that a HammerJS recognizer can only depend on one other recognizer once.\n    // Otherwise the previous `recognizeWith` will be dropped.\n    // TODO: Confirm threshold numbers with Material Design UX Team\n    let slide = this._createRecognizer(pan, {event: 'slide', threshold: 0}, swipe);\n    let longpress = this._createRecognizer(press, {event: 'longpress', time: 500});\n\n    // Overwrite the default `pan` event to use the swipe event.\n    pan.recognizeWith(swipe);\n\n    // Add customized gestures to Hammer manager\n    mc.add([swipe, press, pan, slide, longpress]);\n\n    return mc as HammerInstance;\n  }\n\n  /** Creates a new recognizer, without affecting the default recognizers of HammerJS */\n  private _createRecognizer(base: Recognizer, options: any, ...inheritances: Recognizer[]) {\n    let recognizer = new (base.constructor as RecognizerStatic)(options);\n\n    inheritances.push(base);\n    inheritances.forEach(item => recognizer.recognizeWith(item));\n\n    return recognizer;\n  }\n\n}\n","import {Subject} from 'rxjs';\n\n\n/**\n * Class to be used to power selecting one or more options from a list.\n * @docs-private\n */\nexport class SelectionModel<T> {\n  /** Currently-selected values. */\n  private _selection: Set<T> = new Set();\n\n  /** Keeps track of the deselected options that haven't been emitted by the change event. */\n  private _deselectedToEmit: T[] = [];\n\n  /** Keeps track of the selected option that haven't been emitted by the change event. */\n  private _selectedToEmit: T[] = [];\n\n  /** Cache for the array value of the selected items. */\n  private _selected: T[];\n\n  /** Selected value(s). */\n  get selected(): T[] {\n    if (!this._selected) {\n      this._selected = Array.from(this._selection.values());\n    }\n\n    return this._selected;\n  }\n\n  /** Event emitted when the value has changed. */\n  onChange: Subject<SelectionChange<T>> = this._emitChanges ? new Subject() : null;\n\n  constructor(\n    private _isMulti = false,\n    initiallySelectedValues?: T[],\n    private _emitChanges = true) {\n\n    if (initiallySelectedValues) {\n      if (_isMulti) {\n        initiallySelectedValues.forEach(value => this._markSelected(value));\n      } else {\n        this._markSelected(initiallySelectedValues[0]);\n      }\n\n      // Clear the array in order to avoid firing the change event for preselected values.\n      this._selectedToEmit.length = 0;\n    }\n  }\n\n  /**\n   * Selects a value or an array of values.\n   */\n  select(value: T): void {\n    this._markSelected(value);\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Deselects a value or an array of values.\n   */\n  deselect(value: T): void {\n    this._unmarkSelected(value);\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Toggles a value between selected and deselected.\n   */\n  toggle(value: T): void {\n    this.isSelected(value) ? this.deselect(value) : this.select(value);\n  }\n\n  /**\n   * Clears all of the selected values.\n   */\n  clear(): void {\n    this._unmarkAll();\n    this._emitChangeEvent();\n  }\n\n  /**\n   * Determines whether a value is selected.\n   */\n  isSelected(value: T): boolean {\n    return this._selection.has(value);\n  }\n\n  /**\n   * Determines whether the model does not have a value.\n   */\n  isEmpty(): boolean {\n    return this._selection.size === 0;\n  }\n\n  /**\n   * Determines whether the model has a value.\n   */\n  hasValue(): boolean {\n    return !this.isEmpty();\n  }\n\n  /**\n   * Sorts the selected values based on a predicate function.\n   */\n  sort(predicate?: (a: T, b: T) => number): void {\n    if (this._isMulti && this.selected) {\n      this._selected.sort(predicate);\n    }\n  }\n\n  /** Emits a change event and clears the records of selected and deselected values. */\n  private _emitChangeEvent() {\n    if (this._selectedToEmit.length || this._deselectedToEmit.length) {\n      let eventData = new SelectionChange(this._selectedToEmit, this._deselectedToEmit);\n\n      this.onChange.next(eventData);\n      this._deselectedToEmit = [];\n      this._selectedToEmit = [];\n    }\n\n    this._selected = null;\n  }\n\n  /** Selects a value. */\n  private _markSelected(value: T) {\n    if (!this.isSelected(value)) {\n      if (!this._isMulti) {\n        this._unmarkAll();\n      }\n\n      this._selection.add(value);\n\n      if (this._emitChanges) {\n        this._selectedToEmit.push(value);\n      }\n    }\n  }\n\n  /** Deselects a value. */\n  private _unmarkSelected(value: T) {\n    if (this.isSelected(value)) {\n      this._selection.delete(value);\n\n      if (this._emitChanges) {\n        this._deselectedToEmit.push(value);\n      }\n    }\n  }\n\n  /** Clears out the selected values. */\n  private _unmarkAll() {\n    if (!this.isEmpty()) {\n      this._selection.forEach(value => this._unmarkSelected(value));\n    }\n  }\n}\n\n/**\n * Describes an event emitted when the value of a MdSelectionModel has changed.\n * @docs-private\n */\nexport class SelectionChange<T> {\n  constructor(public added?: T[], public removed?: T[]) { }\n}\n","\n/**\n * Screenreaders will often fire fake mousedown events when a focusable element\n * is activated using the keyboard. We can typically distinguish between these faked\n * mousedown events and real mousedown events using the \"buttons\" property. While\n * real mousedowns will indicate the mouse button that was pressed (e.g. \"1\" for\n * the left mouse button), faked mousedowns will usually set the property value to 0.\n */\nexport function isFakeMousedownFromScreenReader(event: MouseEvent): boolean {\n  return event.buttons === 0;\n}\n","import {Injectable, Optional, SkipSelf} from '@angular/core';\n\n\n// Users of the Dispatcher never need to see this type, but TypeScript requires it to be exported.\nexport type UniqueSelectionDispatcherListener = (id: string, name: string) => void;\n\n/**\n * Class to coordinate unique selection based on name.\n * Intended to be consumed as an Angular service.\n * This service is needed because native radio change events are only fired on the item currently\n * being selected, and we still need to uncheck the previous selection.\n *\n * This service does not *store* any IDs and names because they may change at any time, so it is\n * less error-prone if they are simply passed through when the events occur.\n */\n@Injectable()\nexport class UniqueSelectionDispatcher {\n  private _listeners: UniqueSelectionDispatcherListener[] = [];\n\n  /**\n   * Notify other items that selection for the given name has been set.\n   * @param id ID of the item.\n   * @param name Name of the item.\n   */\n  notify(id: string, name: string) {\n    for (let listener of this._listeners) {\n      listener(id, name);\n    }\n  }\n\n  /** Listen for future changes to item selection. */\n  listen(listener: UniqueSelectionDispatcherListener) {\n    this._listeners.push(listener);\n  }\n}\n\nexport function UNIQUE_SELECTION_DISPATCHER_PROVIDER_FACTORY(\n    parentDispatcher: UniqueSelectionDispatcher) {\n  return parentDispatcher || new UniqueSelectionDispatcher();\n}\n\nexport const UNIQUE_SELECTION_DISPATCHER_PROVIDER = {\n  // If there is already a dispatcher available, use that. Otherwise, provide a new one.\n  provide: UniqueSelectionDispatcher,\n  deps: [[new Optional(), new SkipSelf(), UniqueSelectionDispatcher]],\n  useFactory: UNIQUE_SELECTION_DISPATCHER_PROVIDER_FACTORY\n};\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Injectable,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n  Renderer2,\n  SkipSelf,\n} from '@angular/core';\nimport {Observable, of, Subject} from 'rxjs';\nimport {Platform} from '../platform/platform';\n\n\n// This is the value used by AngularJS Material. Through trial and error (on iPhone 6S) they found\n// that a value of around 650ms seems appropriate.\nexport const TOUCH_BUFFER_MS = 650;\n\n\nexport type FocusOrigin = 'touch' | 'mouse' | 'keyboard' | 'program';\n\n\ntype MonitoredElementInfo = {\n  unlisten: Function,\n  checkChildren: boolean,\n  renderer: Renderer2,\n  subject: Subject<FocusOrigin>\n};\n\n\n/** Monitors mouse and keyboard events to determine the cause of focus events. */\n@Injectable()\nexport class FocusOriginMonitor {\n  /** The focus origin that the next focus event is a result of. */\n  private _origin: FocusOrigin = null;\n\n  /** The FocusOrigin of the last focus event tracked by the FocusOriginMonitor. */\n  private _lastFocusOrigin: FocusOrigin;\n\n  /** Whether the window has just been focused. */\n  private _windowFocused = false;\n\n  /** The target of the last touch event. */\n  private _lastTouchTarget: EventTarget;\n\n  /** The timeout id of the touch timeout, used to cancel timeout later. */\n  private _touchTimeout: any;\n\n  /** Weak map of elements being monitored to their info. */\n  private _elementInfo = new WeakMap<Element, MonitoredElementInfo>();\n\n  constructor(private _ngZone: NgZone, private _platform: Platform) {\n    this._ngZone.runOutsideAngular(() => this._registerDocumentEvents());\n  }\n\n  /**\n   * Monitors focus on an element and applies appropriate CSS classes.\n   * @param element The element to monitor\n   * @param renderer The renderer to use to apply CSS classes to the element.\n   * @param checkChildren Whether to count the element as focused when its children are focused.\n   * @returns An observable that emits when the focus state of the element changes.\n   *     When the element is blurred, null will be emitted.\n   */\n  monitor(\n      element: HTMLElement,\n      renderer: Renderer2,\n      checkChildren: boolean): Observable<FocusOrigin> {\n    // Do nothing if we're not on the browser platform.\n    if (!this._platform.isBrowser) {\n      return of();\n    }\n    // Check if we're already monitoring this element.\n    if (this._elementInfo.has(element)) {\n      let info = this._elementInfo.get(element);\n      info.checkChildren = checkChildren;\n      return info.subject.asObservable();\n    }\n\n    // Create monitored element info.\n    let info: MonitoredElementInfo = {\n      unlisten: null,\n      checkChildren: checkChildren,\n      renderer: renderer,\n      subject: new Subject<FocusOrigin>()\n    };\n    this._elementInfo.set(element, info);\n\n    // Start listening. We need to listen in capture phase since focus events don't bubble.\n    let focusListener = (event: FocusEvent) => this._onFocus(event, element);\n    let blurListener = (event: FocusEvent) => this._onBlur(event, element);\n    this._ngZone.runOutsideAngular(() => {\n      element.addEventListener('focus', focusListener, true);\n      element.addEventListener('blur', blurListener, true);\n    });\n\n    // Create an unlisten function for later.\n    info.unlisten = () => {\n      element.removeEventListener('focus', focusListener, true);\n      element.removeEventListener('blur', blurListener, true);\n    };\n\n    return info.subject.asObservable();\n  }\n\n  /**\n   * Stops monitoring an element and removes all focus classes.\n   * @param element The element to stop monitoring.\n   */\n  stopMonitoring(element: HTMLElement): void {\n    let elementInfo = this._elementInfo.get(element);\n\n    if (elementInfo) {\n      elementInfo.unlisten();\n      elementInfo.subject.complete();\n\n      this._setClasses(element, null);\n      this._elementInfo.delete(element);\n    }\n  }\n\n  /**\n   * Focuses the element via the specified focus origin.\n   * @param element The element to focus.\n   * @param origin The focus origin.\n   */\n  focusVia(element: HTMLElement, origin: FocusOrigin): void {\n    this._setOriginForCurrentEventQueue(origin);\n    element.focus();\n  }\n\n  /** Register necessary event listeners on the document and window. */\n  private _registerDocumentEvents() {\n    // Do nothing if we're not on the browser platform.\n    if (!this._platform.isBrowser) {\n      return;\n    }\n\n    // Note: we listen to events in the capture phase so we can detect them even if the user stops\n    // propagation.\n\n    // On keydown record the origin and clear any touch event that may be in progress.\n    document.addEventListener('keydown', () => {\n      this._lastTouchTarget = null;\n      this._setOriginForCurrentEventQueue('keyboard');\n    }, true);\n\n    // On mousedown record the origin only if there is not touch target, since a mousedown can\n    // happen as a result of a touch event.\n    document.addEventListener('mousedown', () => {\n      if (!this._lastTouchTarget) {\n        this._setOriginForCurrentEventQueue('mouse');\n      }\n    }, true);\n\n    // When the touchstart event fires the focus event is not yet in the event queue. This means\n    // we can't rely on the trick used above (setting timeout of 0ms). Instead we wait 650ms to\n    // see if a focus happens.\n    document.addEventListener('touchstart', (event: Event) => {\n      if (this._touchTimeout != null) {\n        clearTimeout(this._touchTimeout);\n      }\n      this._lastTouchTarget = event.target;\n      this._touchTimeout = setTimeout(() => this._lastTouchTarget = null, TOUCH_BUFFER_MS);\n    }, true);\n\n    // Make a note of when the window regains focus, so we can restore the origin info for the\n    // focused element.\n    window.addEventListener('focus', () => {\n      this._windowFocused = true;\n      setTimeout(() => this._windowFocused = false, 0);\n    });\n  }\n\n  /**\n   * Sets the focus classes on the element based on the given focus origin.\n   * @param element The element to update the classes on.\n   * @param origin The focus origin.\n   */\n  private _setClasses(element: HTMLElement, origin: FocusOrigin): void {\n    let renderer = this._elementInfo.get(element).renderer;\n    let toggleClass = (className: string, shouldSet: boolean) => {\n      shouldSet ? renderer.addClass(element, className) : renderer.removeClass(element, className);\n    };\n\n    toggleClass('cdk-focused', !!origin);\n    toggleClass('cdk-touch-focused', origin === 'touch');\n    toggleClass('cdk-keyboard-focused', origin === 'keyboard');\n    toggleClass('cdk-mouse-focused', origin === 'mouse');\n    toggleClass('cdk-program-focused', origin === 'program');\n  }\n\n  /**\n   * Sets the origin and schedules an async function to clear it at the end of the event queue.\n   * @param origin The origin to set.\n   */\n  private _setOriginForCurrentEventQueue(origin: FocusOrigin): void {\n    this._origin = origin;\n    setTimeout(() => this._origin = null, 0);\n  }\n\n  /**\n   * Checks whether the given focus event was caused by a touchstart event.\n   * @param event The focus event to check.\n   * @returns Whether the event was caused by a touch.\n   */\n  private _wasCausedByTouch(event: FocusEvent): boolean {\n    // Note(mmalerba): This implementation is not quite perfect, there is a small edge case.\n    // Consider the following dom structure:\n    //\n    // <div #parent tabindex=\"0\" cdkFocusClasses>\n    //   <div #child (click)=\"#parent.focus()\"></div>\n    // </div>\n    //\n    // If the user touches the #child element and the #parent is programmatically focused as a\n    // result, this code will still consider it to have been caused by the touch event and will\n    // apply the cdk-touch-focused class rather than the cdk-program-focused class. This is a\n    // relatively small edge-case that can be worked around by using\n    // focusVia(parentEl, renderer,  'program') to focus the parent element.\n    //\n    // If we decide that we absolutely must handle this case correctly, we can do so by listening\n    // for the first focus event after the touchstart, and then the first blur event after that\n    // focus event. When that blur event fires we know that whatever follows is not a result of the\n    // touchstart.\n    let focusTarget = event.target;\n    return this._lastTouchTarget instanceof Node && focusTarget instanceof Node &&\n        (focusTarget === this._lastTouchTarget || focusTarget.contains(this._lastTouchTarget));\n  }\n\n  /**\n   * Handles focus events on a registered element.\n   * @param event The focus event.\n   * @param element The monitored element.\n   */\n  private _onFocus(event: FocusEvent, element: HTMLElement) {\n    // NOTE(mmalerba): We currently set the classes based on the focus origin of the most recent\n    // focus event affecting the monitored element. If we want to use the origin of the first event\n    // instead we should check for the cdk-focused class here and return if the element already has\n    // it. (This only matters for elements that have includesChildren = true).\n\n    // If we are not counting child-element-focus as focused, make sure that the event target is the\n    // monitored element itself.\n    if (!this._elementInfo.get(element).checkChildren && element !== event.target) {\n      return;\n    }\n\n    // If we couldn't detect a cause for the focus event, it's due to one of three reasons:\n    // 1) The window has just regained focus, in which case we want to restore the focused state of\n    //    the element from before the window blurred.\n    // 2) It was caused by a touch event, in which case we mark the origin as 'touch'.\n    // 3) The element was programmatically focused, in which case we should mark the origin as\n    //    'program'.\n    if (!this._origin) {\n      if (this._windowFocused && this._lastFocusOrigin) {\n        this._origin = this._lastFocusOrigin;\n      } else if (this._wasCausedByTouch(event)) {\n        this._origin = 'touch';\n      } else {\n        this._origin = 'program';\n      }\n    }\n\n    this._setClasses(element, this._origin);\n    this._elementInfo.get(element).subject.next(this._origin);\n    this._lastFocusOrigin = this._origin;\n    this._origin = null;\n  }\n\n  /**\n   * Handles blur events on a registered element.\n   * @param event The blur event.\n   * @param element The monitored element.\n   */\n  private _onBlur(event: FocusEvent, element: HTMLElement) {\n    // If we are counting child-element-focus as focused, make sure that we aren't just blurring in\n    // order to focus another child of the monitored element.\n    if (this._elementInfo.get(element).checkChildren && event.relatedTarget instanceof Node &&\n        element.contains(event.relatedTarget)) {\n      return;\n    }\n\n    this._setClasses(element, null);\n    this._elementInfo.get(element).subject.next(null);\n  }\n}\n\n\n/**\n * Directive that determines how a particular element was focused (via keyboard, mouse, touch, or\n * programmatically) and adds corresponding classes to the element.\n *\n * There are two variants of this directive:\n * 1) cdkMonitorElementFocus: does not consider an element to be focused if one of its children is\n *    focused.\n * 2) cdkMonitorSubtreeFocus: considers an element focused if it or any of its children are focused.\n */\n@Directive({\n  selector: '[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]',\n})\nexport class CdkMonitorFocus implements OnDestroy {\n  @Output() cdkFocusChange = new EventEmitter<FocusOrigin>();\n\n  constructor(private _elementRef: ElementRef, private _focusOriginMonitor: FocusOriginMonitor,\n              renderer: Renderer2) {\n    this._focusOriginMonitor.monitor(\n        this._elementRef.nativeElement, renderer,\n        this._elementRef.nativeElement.hasAttribute('cdkMonitorSubtreeFocus'))\n        .subscribe(origin => this.cdkFocusChange.emit(origin));\n  }\n\n  ngOnDestroy() {\n    this._focusOriginMonitor.stopMonitoring(this._elementRef.nativeElement);\n  }\n}\n\n\nexport function FOCUS_ORIGIN_MONITOR_PROVIDER_FACTORY(\n    parentDispatcher: FocusOriginMonitor, ngZone: NgZone, platform: Platform) {\n  return parentDispatcher || new FocusOriginMonitor(ngZone, platform);\n}\n\n\nexport const FOCUS_ORIGIN_MONITOR_PROVIDER = {\n  // If there is already a FocusOriginMonitor available, use that. Otherwise, provide a new one.\n  provide: FocusOriginMonitor,\n  deps: [[new Optional(), new SkipSelf(), FocusOriginMonitor], NgZone, Platform],\n  useFactory: FOCUS_ORIGIN_MONITOR_PROVIDER_FACTORY\n};\n","/**\n * Applies a CSS transform to an element, including browser-prefixed properties.\n * @param element\n * @param transformValue\n */\nexport function applyCssTransform(element: HTMLElement, transformValue: string) {\n  // It's important to trim the result, because the browser will ignore the set operation\n  // if the string contains only whitespace.\n  let value = transformValue.trim();\n\n  element.style.transform = value;\n  element.style.webkitTransform = value;\n}\n","import {NgModule} from '@angular/core';\nimport {CdkMonitorFocus, FOCUS_ORIGIN_MONITOR_PROVIDER} from './focus-origin-monitor';\nimport {PlatformModule} from '../platform/index';\n\n\n@NgModule({\n  imports: [PlatformModule],\n  declarations: [CdkMonitorFocus],\n  exports: [CdkMonitorFocus],\n  providers: [FOCUS_ORIGIN_MONITOR_PROVIDER],\n})\nexport class StyleModule {}\n\n\nexport * from './focus-origin-monitor';\nexport * from './apply-transform';\n","/** @docs-private */\nexport class AnimationCurves {\n  static STANDARD_CURVE = 'cubic-bezier(0.4,0.0,0.2,1)';\n  static DECELERATION_CURVE = 'cubic-bezier(0.0,0.0,0.2,1)';\n  static ACCELERATION_CURVE = 'cubic-bezier(0.4,0.0,1,1)';\n  static SHARP_CURVE = 'cubic-bezier(0.4,0.0,0.6,1)';\n}\n\n\n/** @docs-private */\nexport class AnimationDurations {\n  static COMPLEX = '375ms';\n  static ENTERING = '225ms';\n  static EXITING = '195ms';\n}\n","/** Coerces a data-bound value (typically a string) to a number. */\nexport function coerceNumberProperty(value: any, fallbackValue = 0) {\n  // parseFloat(value) handles most of the cases we're interested in (it treats null, empty string,\n  // and other non-number values as NaN, where Number just uses 0) but it considers the string\n  // '123hello' to be a valid number. Therefore we also check if Number(value) is NaN.\n  return isNaN(parseFloat(value as any)) || isNaN(Number(value)) ? fallbackValue : Number(value);\n}\n","/** Adapts type `D` to be usable as a date by cdk-based components that work with dates. */\nexport abstract class DateAdapter<D> {\n  /** The locale to use for all dates. */\n  protected locale: any;\n\n  /**\n   * Gets the year component of the given date.\n   * @param date The date to extract the year from.\n   * @returns The year component.\n   */\n  abstract getYear(date: D): number;\n\n  /**\n   * Gets the month component of the given date.\n   * @param date The date to extract the month from.\n   * @returns The month component (0-indexed, 0 = January).\n   */\n  abstract getMonth(date: D): number;\n\n  /**\n   * Gets the date of the month component of the given date.\n   * @param date The date to extract the date of the month from.\n   * @returns The month component (1-indexed, 1 = first of month).\n   */\n  abstract getDate(date: D): number;\n\n  /**\n   * Gets the day of the week component of the given date.\n   * @param date The date to extract the day of the week from.\n   * @returns The month component (0-indexed, 0 = Sunday).\n   */\n  abstract getDayOfWeek(date: D): number;\n\n  /**\n   * Gets a list of names for the months.\n   * @param style The naming style (e.g. long = 'January', short = 'Jan', narrow = 'J').\n   * @returns An ordered list of all month names, starting with January.\n   */\n  abstract getMonthNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets a list of names for the dates of the month.\n   * @returns An ordered list of all date of the month names, starting with '1'.\n   */\n  abstract getDateNames(): string[];\n\n  /**\n   * Gets a list of names for the days of the week.\n   * @param style The naming style (e.g. long = 'Sunday', short = 'Sun', narrow = 'S').\n   * @returns An ordered list of all weekday names, starting with Sunday.\n   */\n  abstract getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets the name for the year of the given date.\n   * @param date The date to get the year name for.\n   * @returns The name of the given year (e.g. '2017').\n   */\n  abstract getYearName(date: D): string;\n\n  /**\n   * Gets the first day of the week.\n   * @returns The first day of the week (0-indexed, 0 = Sunday).\n   */\n  abstract getFirstDayOfWeek(): number;\n\n  /**\n   * Gets the number of days in the month of the given date.\n   * @param date The date whose month should be checked.\n   * @returns The number of days in the month of the given date.\n   */\n  abstract getNumDaysInMonth(date: D): number;\n\n  /**\n   * Clones the given date.\n   * @param date The date to clone\n   * @returns A new date equal to the given date.\n   */\n  abstract clone(date: D): D;\n\n  /**\n   * Creates a date with the given year, month, and date. Does not allow over/under-flow of the\n   * month and date.\n   * @param year The full year of the date. (e.g. 89 means the year 89, not the year 1989).\n   * @param month The month of the date (0-indexed, 0 = January). Must be an integer 0 - 11.\n   * @param date The date of month of the date. Must be an integer 1 - length of the given month.\n   * @returns The new date, or null if invalid.\n   */\n  abstract createDate(year: number, month: number, date: number): D;\n\n  /**\n   * Gets today's date.\n   * @returns Today's date.\n   */\n  abstract today(): D;\n\n  /**\n   * Parses a date from a value.\n   * @param value The value to parse.\n   * @param parseFormat The expected format of the value being parsed\n   *     (type is implementation-dependent).\n   * @returns The parsed date, or null if date could not be parsed.\n   */\n  abstract parse(value: any, parseFormat: any): D | null;\n\n  /**\n   * Formats a date as a string.\n   * @param date The value to parse.\n   * @param displayFormat The format to use to display the date as a string.\n   * @returns The parsed date, or null if date could not be parsed.\n   */\n  abstract format(date: D, displayFormat: any): string;\n\n  /**\n   * Adds the given number of years to the date. Years are counted as if flipping 12 pages on the\n   * calendar for each year and then finding the closest date in the new month. For example when\n   * adding 1 year to Feb 29, 2016, the resulting date will be Feb 28, 2017.\n   * @param date The date to add years to.\n   * @param years The number of years to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of years added.\n   */\n  abstract addCalendarYears(date: D, years: number): D;\n\n  /**\n   * Adds the given number of months to the date. Months are counted as if flipping a page on the\n   * calendar for each month and then finding the closest date in the new month. For example when\n   * adding 1 month to Jan 31, 2017, the resulting date will be Feb 28, 2017.\n   * @param date The date to add months to.\n   * @param months The number of months to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of months added.\n   */\n  abstract addCalendarMonths(date: D, months: number): D;\n\n  /**\n   * Adds the given number of days to the date. Days are counted as if moving one cell on the\n   * calendar for each day.\n   * @param date The date to add days to.\n   * @param days The number of days to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of days added.\n   */\n  abstract addCalendarDays(date: D, days: number): D;\n\n  /**\n   * Gets the RFC 3339 compatible date string (https://tools.ietf.org/html/rfc3339)  for the given\n   * date.\n   * @param date The date to get the ISO date string for.\n   * @returns The ISO date string date string.\n   */\n  abstract getISODateString(date: D): string;\n\n  /**\n   * Sets the locale used for all dates.\n   * @param locale The new locale.\n   */\n  setLocale(locale: any) {\n    this.locale = locale;\n  }\n\n  /**\n   * Compares two dates.\n   * @param first The first date to compare.\n   * @param second The second date to compare.\n   * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n   *     a number greater than 0 if the first date is later.\n   */\n  compareDate(first: D, second: D): number {\n    return this.getYear(first) - this.getYear(second) ||\n        this.getMonth(first) - this.getMonth(second) ||\n        this.getDate(first) - this.getDate(second);\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDate(first: D | null, second: D | null): boolean {\n    return first && second ? !this.compareDate(first, second) : first == second;\n  }\n\n  /**\n   * Clamp the given date between min and max dates.\n   * @param date The date to clamp.\n   * @param min The minimum value to allow. If null or omitted no min is enforced.\n   * @param max The maximum value to allow. If null or omitted no max is enforced.\n   * @returns `min` if `date` is less than `min`, `max` if date is greater than `max`,\n   *     otherwise `date`.\n   */\n  clampDate(date: D, min?: D | null, max?: D | null): D {\n    if (min && this.compareDate(date, min) < 0) {\n      return min;\n    }\n    if (max && this.compareDate(date, max) > 0) {\n      return max;\n    }\n    return date;\n  }\n}\n","import {DateAdapter} from './date-adapter';\n\n\n// TODO(mmalerba): Remove when we no longer support safari 9.\n/** Whether the browser supports the Intl API. */\nconst SUPPORTS_INTL_API = typeof Intl != 'undefined';\n\n\n/** The default month names to use if Intl API is not available. */\nconst DEFAULT_MONTH_NAMES = {\n  'long': [\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\n    'October', 'November', 'December'\n  ],\n  'short': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  'narrow': ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D']\n};\n\n\n/** The default date names to use if Intl API is not available. */\nconst DEFAULT_DATE_NAMES = range(31, i => String(i + 1));\n\n\n/** The default day of the week names to use if Intl API is not available. */\nconst DEFAULT_DAY_OF_WEEK_NAMES = {\n  'long': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  'short': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  'narrow': ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n};\n\n\n/** Creates an array and fills it with values. */\nfunction range<T>(length: number, valueFunction: (index: number) => T): T[] {\n  const valuesArray = Array(length);\n  for (let i = 0; i < length; i++) {\n    valuesArray[i] = valueFunction(i);\n  }\n  return valuesArray;\n}\n\n\n/** Adapts the native JS Date for use with cdk-based components that work with dates. */\nexport class NativeDateAdapter extends DateAdapter<Date> {\n  getYear(date: Date): number {\n    return date.getFullYear();\n  }\n\n  getMonth(date: Date): number {\n    return date.getMonth();\n  }\n\n  getDate(date: Date): number {\n    return date.getDate();\n  }\n\n  getDayOfWeek(date: Date): number {\n    return date.getDay();\n  }\n\n  getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {month: style});\n      return range(12, i => this._stripDirectionalityCharacters(dtf.format(new Date(2017, i, 1))));\n    }\n    return DEFAULT_MONTH_NAMES[style];\n  }\n\n  getDateNames(): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {day: 'numeric'});\n      return range(31, i => this._stripDirectionalityCharacters(\n          dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DATE_NAMES;\n  }\n\n  getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {weekday: style});\n      return range(7, i => this._stripDirectionalityCharacters(\n          dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DAY_OF_WEEK_NAMES[style];\n  }\n\n  getYearName(date: Date): string {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {year: 'numeric'});\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return String(this.getYear(date));\n  }\n\n  getFirstDayOfWeek(): number {\n    // We can't tell using native JS Date what the first day of the week is, we default to Sunday.\n    return 0;\n  }\n\n  getNumDaysInMonth(date: Date): number {\n    return this.getDate(this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + 1, 0));\n  }\n\n  clone(date: Date): Date {\n    return this.createDate(this.getYear(date), this.getMonth(date), this.getDate(date));\n  }\n\n  createDate(year: number, month: number, date: number): Date {\n    // Check for invalid month and date (except upper bound on date which we have to check after\n    // creating the Date).\n    if (month < 0 || month > 11 || date < 1) {\n      return null;\n    }\n\n    let result = this._createDateWithOverflow(year, month, date);\n\n    // Check that the date wasn't above the upper bound for the month, causing the month to\n    // overflow.\n    if (result.getMonth() != month) {\n      return null;\n    }\n\n    return result;\n  }\n\n  today(): Date {\n    return new Date();\n  }\n\n  parse(value: any): Date | null {\n    // We have no way using the native JS Date to set the parse format or locale, so we ignore these\n    // parameters.\n    let timestamp = typeof value == 'number' ? value : Date.parse(value);\n    return isNaN(timestamp) ? null : new Date(timestamp);\n  }\n\n  format(date: Date, displayFormat: Object): string {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, displayFormat);\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return this._stripDirectionalityCharacters(date.toDateString());\n  }\n\n  addCalendarYears(date: Date, years: number): Date {\n    return this.addCalendarMonths(date, years * 12);\n  }\n\n  addCalendarMonths(date: Date, months: number): Date {\n    let newDate = this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + months, this.getDate(date));\n\n    // It's possible to wind up in the wrong month if the original month has more days than the new\n    // month. In this case we want to go to the last day of the desired month.\n    // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n    // guarantee this.\n    if (this.getMonth(newDate) != ((this.getMonth(date) + months) % 12 + 12) % 12) {\n      newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0);\n    }\n\n    return newDate;\n  }\n\n  addCalendarDays(date: Date, days: number): Date {\n    return this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date), this.getDate(date) + days);\n  }\n\n  getISODateString(date: Date): string {\n    return [\n      date.getUTCFullYear(),\n      this._2digit(date.getUTCMonth() + 1),\n      this._2digit(date.getUTCDate())\n    ].join('-');\n  }\n\n  /** Creates a date but allows the month and date to overflow. */\n  private _createDateWithOverflow(year: number, month: number, date: number) {\n    let result = new Date(year, month, date);\n\n    // We need to correct for the fact that JS native Date treats years in range [0, 99] as\n    // abbreviations for 19xx.\n    if (year >= 0 && year < 100) {\n      result.setFullYear(this.getYear(result) - 1900);\n    }\n    return result;\n  }\n\n  /**\n   * Pads a number to make it two digits.\n   * @param n The number to pad.\n   * @returns The padded number.\n   */\n  private _2digit(n: number) {\n    return ('00' + n).slice(-2);\n  }\n\n  /**\n   * Strip out unicode LTR and RTL characters. Edge and IE insert these into formatted dates while\n   * other browsers do not. We remove them to make output consistent and because they interfere with\n   * date parsing.\n   * @param s The string to strip direction characters from.\n   * @returns The stripped string.\n   */\n  private _stripDirectionalityCharacters(s: string) {\n    return s.replace(/[\\u200e\\u200f]/g, '');\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\n\nexport type MdDateFormats = {\n  parse: {\n    dateInput: any\n  },\n  display: {\n    dateInput: any,\n    monthYearLabel: any,\n    dateA11yLabel: any,\n    monthYearA11yLabel: any,\n  }\n};\n\n\nexport const MD_DATE_FORMATS = new InjectionToken<MdDateFormats>('md-date-formats');\n","import {MdDateFormats} from './date-formats';\n\n\nexport const MD_NATIVE_DATE_FORMATS: MdDateFormats = {\n  parse: {\n    dateInput: null,\n  },\n  display: {\n    dateInput: {year: 'numeric', month: 'numeric', day: 'numeric'},\n    monthYearLabel: {year: 'numeric', month: 'short'},\n    dateA11yLabel: {year: 'numeric', month: 'long', day: 'numeric'},\n    monthYearA11yLabel: {year: 'numeric', month: 'long'},\n  }\n};\n","import {NgModule} from '@angular/core';\nimport {DateAdapter} from './date-adapter';\nimport {NativeDateAdapter} from './native-date-adapter';\nimport {MD_DATE_FORMATS} from './date-formats';\nimport {MD_NATIVE_DATE_FORMATS} from './native-date-formats';\n\n\nexport * from './date-adapter';\nexport * from './date-formats';\nexport * from './native-date-adapter';\nexport * from './native-date-formats';\n\n\n@NgModule({\n  providers: [{provide: DateAdapter, useClass: NativeDateAdapter}],\n})\nexport class NativeDateModule {}\n\n\n@NgModule({\n  imports: [NativeDateModule],\n  providers: [{provide: MD_DATE_FORMATS, useValue: MD_NATIVE_DATE_FORMATS}],\n})\nexport class MdNativeDateModule {}\n","import { InjectionToken } from '@angular/core';\n\n/** InjectionToken that can be used to specify the global placeholder options. */\nexport const MD_PLACEHOLDER_GLOBAL_OPTIONS =\n  new InjectionToken<PlaceholderOptions>('md-placeholder-global-options');\n\n/** Type for the available floatPlaceholder values. */\nexport type FloatPlaceholderType = 'always' | 'never' | 'auto';\n\nexport interface PlaceholderOptions {\n  float?: FloatPlaceholderType;\n}\n","import {NgModule} from '@angular/core';\nimport {MdLineModule} from './line/line';\nimport {RtlModule} from './rtl/dir';\nimport {ObserveContentModule} from './observe-content/observe-content';\nimport {MdOptionModule} from './option/index';\nimport {PortalModule} from './portal/portal-directives';\nimport {OverlayModule} from './overlay/overlay-directives';\nimport {A11yModule} from './a11y/index';\nimport {MdSelectionModule} from './selection/index';\nimport {MdRippleModule} from './ripple/index';\n\n\n// RTL\nexport {Dir, LayoutDirection, RtlModule} from './rtl/dir';\n\n// Mutation Observer\nexport {ObserveContentModule, ObserveContent} from './observe-content/observe-content';\n\nexport * from './option/index';\n\n// Portals\nexport {\n  Portal,\n  PortalHost,\n  BasePortalHost,\n  ComponentPortal,\n  TemplatePortal\n} from './portal/portal';\nexport {\n  PortalHostDirective,\n  TemplatePortalDirective,\n  PortalModule,\n} from './portal/portal-directives';\nexport {DomPortalHost} from './portal/dom-portal-host';\n\n// Platform\nexport * from './platform/index';\n\n// Overlay\nexport * from './overlay/index';\n\n// Gestures\nexport {GestureConfig} from './gestures/gesture-config';\n// Explicitly specify the interfaces which should be re-exported, because if everything\n// is re-exported, module bundlers may run into issues with treeshaking.\nexport {HammerInput, HammerManager} from './gestures/gesture-annotations';\n\n// Ripple\nexport * from './ripple/index';\n\n// a11y\nexport {\n  AriaLivePoliteness,\n  LiveAnnouncer,\n  LIVE_ANNOUNCER_ELEMENT_TOKEN,\n  LIVE_ANNOUNCER_PROVIDER,\n} from './a11y/live-announcer';\n\n// Selection\nexport * from './selection/selection';\n\nexport * from './a11y/focus-trap';\nexport {InteractivityChecker} from './a11y/interactivity-checker';\nexport {isFakeMousedownFromScreenReader} from './a11y/fake-mousedown';\n\nexport {A11yModule} from './a11y/index';\n\nexport {\n  UniqueSelectionDispatcher,\n  UniqueSelectionDispatcherListener,\n  UNIQUE_SELECTION_DISPATCHER_PROVIDER,\n} from './coordination/unique-selection-dispatcher';\n\nexport {MdLineModule, MdLine, MdLineSetter} from './line/line';\n\n// Style\nexport * from './style/index';\n\n// Misc\nexport {ComponentType} from './overlay/generic-component-type';\n\n// Keybindings\nexport * from './keyboard/keycodes';\n\nexport * from './compatibility/compatibility';\n\n// Animation\nexport * from './animation/animation';\n\n// Selection\nexport * from './selection/index';\n\n// Coercion\nexport {coerceBooleanProperty} from './coercion/boolean-property';\nexport {coerceNumberProperty} from './coercion/number-property';\n\n// Compatibility\nexport {CompatibilityModule, NoConflictStyleCompatibilityMode} from './compatibility/compatibility';\n\n// Common material module\nexport {MdCommonModule, MATERIAL_SANITY_CHECKS} from './common-behaviors/common-module';\n\n// Datetime\nexport * from './datetime/index';\n\n// Placeholder\nexport {\n  FloatPlaceholderType,\n  PlaceholderOptions,\n  MD_PLACEHOLDER_GLOBAL_OPTIONS\n} from './placeholder/placeholder-options';\n\n@NgModule({\n  imports: [\n    MdLineModule,\n    RtlModule,\n    MdRippleModule,\n    ObserveContentModule,\n    PortalModule,\n    OverlayModule,\n    A11yModule,\n    MdOptionModule,\n    MdSelectionModule,\n  ],\n  exports: [\n    MdLineModule,\n    RtlModule,\n    MdRippleModule,\n    ObserveContentModule,\n    PortalModule,\n    OverlayModule,\n    A11yModule,\n    MdOptionModule,\n    MdSelectionModule,\n  ],\n})\nexport class MdCoreModule {}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Md2AccordionTab } from './accordiontab';\nimport { coerceBooleanProperty } from '../core/core';\n\n@Component({\n  selector: 'md2-accordion',\n  template: `<ng-content></ng-content>`,\n  styleUrls: ['accordion.scss'],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'md2Accordion'\n})\nexport class Md2Accordion {\n\n  private _multiple: boolean;\n\n  @Input()\n  get multiple(): boolean { return this._multiple; }\n  set multiple(value) { this._multiple = coerceBooleanProperty(value); }\n\n  @Output() close: EventEmitter<any> = new EventEmitter<any>();\n  @Output() open: EventEmitter<any> = new EventEmitter<any>();\n\n  tabs: Md2AccordionTab[] = [];\n\n  /**\n   * Add or append tab in accordion\n   * @param tab object of Md2AccordionTab\n   */\n  addTab(tab: Md2AccordionTab) {\n    this.tabs.push(tab);\n  }\n}\n","import {\n  Component,\n  Directive,\n  Input,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\nimport { Md2Accordion } from './accordion';\nimport { coerceBooleanProperty } from '../core';\n\n@Directive({ selector: 'md2-accordion-header' })\nexport class Md2AccordionHeader { }\n\n@Component({\n  \n  selector: 'md2-accordion-tab',\n  template: `\n    <div class=\"md2-accordion-header\" (click)=\"_handleClick($event)\">\n      <span>{{header}}</span>\n      <ng-content select=\"md2-accordion-header\"></ng-content>\n      <span class=\"md2-accordion-header-icon\"></span>\n    </div>\n    <div class=\"md2-accordion-tab-body\" [@slide]=\"slide\">\n      <div class=\"md2-accordion-tab-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n  styleUrls: ['accordion.scss'],\n  animations: [\n    trigger('slide', [\n      state('up', style({ height: 0 })),\n      state('down', style({ height: '*' })),\n      transition('down => up', [\n        style({ height: '*' }),\n        animate(300, style({ height: 0 }))\n      ]),\n      transition('up => down', [\n        style({ height: 0 }),\n        animate(300, style({\n          height: '*'\n        }))\n      ])\n    ])\n  ],\n  host: {\n    'role': 'accordion-tab',\n    '[class.md2-accordion-tab-active]': 'active',\n    '[class.md2-accordion-tab-disabled]': 'disabled'\n  },\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'md2AccordionTab'\n})\nexport class Md2AccordionTab {\n\n  private _disabled: boolean = false;\n  private _active: boolean = false;\n\n  @Input() header: string;\n\n  @Input()\n  get active(): boolean { return this._active; }\n  set active(value) {\n    this._active = coerceBooleanProperty(value);\n    if (this._active && !this._accordion.multiple) {\n      for (let i = 0; i < this._accordion.tabs.length; i++) {\n        if (this._accordion.tabs[i] !== this) { this._accordion.tabs[i].active = false; }\n      }\n    }\n  }\n\n  get slide(): string {\n    return this.active ? 'down' : 'up';\n  }\n\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) { this._disabled = coerceBooleanProperty(value); }\n\n  constructor(private _accordion: Md2Accordion) {\n    this._accordion.addTab(this);\n  }\n\n  /**\n   * Toggle the accordion\n   * @param event\n   * @return if it is disabled\n   */\n  _handleClick(event: Event) {\n    if (this.disabled) { return; }\n\n    let index = this.findTabIndex();\n\n    if (this.active) {\n      this.active = !this.active;\n      this._accordion.close.emit({ originalEvent: event, index: index });\n    } else if (!this._accordion.multiple) {\n      for (let i = 0; i < this._accordion.tabs.length; i++) {\n        this._accordion.tabs[i].active = false;\n      }\n      this._active = true;\n      this._accordion.open.emit({ originalEvent: event, index: index });\n    } else {\n      this._active = true;\n      this._accordion.open.emit({ originalEvent: event, index: index });\n    }\n\n    event.preventDefault();\n  }\n\n  /**\n   * Find index of specific tab of accordion\n   * @return index number of this tab\n   */\n  findTabIndex() {\n    let index = -1;\n    for (let i = 0; i < this._accordion.tabs.length; i++) {\n      if (this._accordion.tabs[i] === this) {\n        index = i;\n        break;\n      }\n    }\n    return index;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Md2Accordion } from './accordion';\nimport { Md2AccordionTab, Md2AccordionHeader } from './accordiontab';\n\nexport * from './accordion';\nexport * from './accordiontab';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [Md2Accordion, Md2AccordionTab, Md2AccordionHeader],\n  declarations: [Md2Accordion, Md2AccordionTab, Md2AccordionHeader],\n})\nexport class Md2AccordionModule { }\n","import {\n  Pipe,\n  PipeTransform\n} from '@angular/core';\n\n@Pipe({ name: 'highlight' })\nexport class HighlightPipe implements PipeTransform {\n  /**\n   * Transform function\n   * @param value string\n   * @param query string filter value\n   * @return filtered string with markup\n   */\n  transform(value: string, query: string) {\n    if (query.length < 1) { return value; }\n    return query ? value.replace(new RegExp(this._escapeRegexp(query), 'gi'),\n      '<span class=\"highlight\">$&</span>') : value;\n  }\n\n  /**\n   * filter pipe\n   * @param queryToEscape\n   * @return queryToEscape with replace string\n   */\n  private _escapeRegexp(queryToEscape: string) {\n    return queryToEscape.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n  }\n}\n","import {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor,\n} from '@angular/forms';\nimport {\n  coerceBooleanProperty,\n  UP_ARROW,\n  DOWN_ARROW,\n  ENTER,\n  ESCAPE,\n  TAB\n} from '../core/core';\n\nexport class Item {\n  text: string;\n  value: string;\n\n  constructor(source: any, textKey: string, valueKey: string) {\n    if (typeof source === 'string') {\n      this.text = this.value = source;\n    }\n    if (typeof source === 'object') {\n      this.text = source[textKey];\n      this.value = valueKey ? source[valueKey] : source;\n    }\n  }\n}\n\nlet nextId = 0;\n\nexport const MD2_AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => Md2Autocomplete),\n  multi: true\n};\n\n/** Change event object emitted by Md2Autocomplete. */\nexport class Md2AutocompleteChange {\n  source: Md2Autocomplete;\n  value: any;\n}\n\n@Component({\n  \n  selector: 'md2-autocomplete',\n  templateUrl: 'autocomplete.html',\n  styleUrls: ['autocomplete.scss'],\n  providers: [MD2_AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR],\n  host: {\n    'role': 'autocomplete',\n    '[id]': 'id',\n    '[attr.aria-label]': 'placeholder',\n    '[attr.aria-required]': 'required.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[class.md2-autocomplete-disabled]': 'disabled',\n  },\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'md2Autocomplete'\n})\n\nexport class Md2Autocomplete implements AfterContentInit, ControlValueAccessor {\n\n  constructor(private _element: ElementRef) { }\n\n  ngAfterContentInit() { this._isInitialized = true; }\n\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n  @Output() textChange = new EventEmitter();\n\n  private _value: any = '';\n  private _readonly: boolean = false;\n  private _required: boolean = false;\n  private _disabled: boolean = false;\n  private _isInitialized: boolean = false;\n\n  _onChange: (value: any) => void = () => { };\n  _onTouched = () => { };\n\n  private _items: Array<any> = [];\n  _list: Array<Item> = [];\n\n  private selectedItem: Item = null;\n  private noBlur: boolean = false;\n  _focusedOption: number = 0;\n  _inputValue: string = '';\n  _inputFocused: boolean = false;\n\n  @Input() id: string = 'md2-autocomplete-' + (++nextId);\n  @Input() tabindex: number = 0;\n  @Input() placeholder: string = '';\n  @Input('item-text') textKey: string = 'text';\n  @Input('item-value') valueKey: string = null;\n  @Input('min-length') minLength: number = 1;\n\n  @Input()\n  get readonly(): boolean { return this._readonly; }\n  set readonly(value) { this._readonly = coerceBooleanProperty(value); }\n\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value) { this._required = coerceBooleanProperty(value); }\n\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) { this._disabled = coerceBooleanProperty(value); }\n\n  @Input()\n  set items(value: Array<any>) { this._items = value; }\n\n  @Input()\n  get value(): any { return this._value; }\n  set value(value: any) {\n    if (value !== this._value) {\n      this._value = value;\n      this._inputValue = '';\n      if (value) {\n        let selItm = this._items.find((i: any) => this.equals(this.valueKey ?\n          i[this.valueKey] : i, value));\n        this.selectedItem = new Item(selItm, this.textKey, this.valueKey);\n        if (this.selectedItem) { this._inputValue = this.selectedItem.text; }\n      }\n      if (!this._inputValue) { this._inputValue = ''; }\n      if (this._isInitialized) {\n        this._emitChangeEvent();\n      }\n    }\n  }\n\n  /**\n   * Compare two vars or objects\n   * @param o1 compare first object\n   * @param o2 compare second object\n   * @return boolean comparation result\n   */\n  private equals(o1: any, o2: any) {\n    if (o1 === o2) { return true; }\n    if (o1 === null || o2 === null) { return false; }\n    if (o1 !== o1 && o2 !== o2) { return true; }\n    let t1 = typeof o1, t2 = typeof o2, key: any, keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      keySet = Object.create(null);\n      for (key in o1) {\n        if (!this.equals(o1[key], o2[key])) { return false; }\n        keySet[key] = true;\n      }\n      for (key in o2) {\n        if (!(key in keySet) && key.charAt(0) !== '$' && o2[key]) { return false; }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  get isMenuVisible(): boolean {\n    return ((this._inputFocused || this.noBlur) && this._list && this._list.length &&\n      !this.selectedItem) && !this.readonly ? true : false;\n  }\n\n  /**\n   * update scroll of suggestion menu\n   */\n  private updateScroll() {\n    if (this._focusedOption < 0) { return; }\n    let menuContainer = this._element.nativeElement.querySelector('.md2-autocomplete-menu');\n    if (!menuContainer) { return; }\n\n    let choices = menuContainer.querySelectorAll('.md2-option');\n    if (choices.length < 1) { return; }\n\n    let highlighted: any = choices[this._focusedOption];\n    if (!highlighted) { return; }\n\n    let top: number = highlighted.offsetTop + highlighted.clientHeight - menuContainer.scrollTop;\n    let height: number = menuContainer.offsetHeight;\n\n    if (top > height) {\n      menuContainer.scrollTop += top - height;\n    } else if (top < highlighted.clientHeight) {\n      menuContainer.scrollTop -= highlighted.clientHeight - top;\n    }\n  }\n\n  /**\n   * input event listner\n   * @param event\n   */\n  _handleKeyup(event: KeyboardEvent) {\n    this.textChange.emit(this._inputValue);\n  }\n\n  _handleKeydown(event: KeyboardEvent) {\n    if (this.disabled) { return; }\n    switch (event.keyCode) {\n      case TAB: this._handleMouseLeave(); break;\n      case ESCAPE:\n        event.stopPropagation();\n        event.preventDefault();\n        if (this._inputValue) {\n          this._onClear();\n        }\n        break;\n\n      case ENTER:\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.isMenuVisible) {\n          this._selectOption(event, this._focusedOption);\n        }\n        break;\n\n      case DOWN_ARROW:\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.isMenuVisible) {\n          this._focusedOption = (this._focusedOption === this._list.length - 1) ? 0 :\n            Math.min(this._focusedOption + 1, this._list.length - 1);\n          this.updateScroll();\n        }\n        break;\n      case UP_ARROW:\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.isMenuVisible) {\n          this._focusedOption = (this._focusedOption === 0) ? this._list.length - 1 :\n            Math.max(0, this._focusedOption - 1);\n          this.updateScroll();\n        }\n        break;\n      default:\n        setTimeout(() => {\n          this.updateItems();\n        }, 10);\n    }\n  }\n\n  /**\n   * select option\n   * @param event\n   * @param index of selected item\n   */\n  _selectOption(event: Event, index: number) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.selectedItem = this._list[index];\n    this._inputValue = this._list[index].text;\n    this.updateValue();\n    this._handleMouseLeave();\n  }\n\n  /**\n   * clear selected suggestion\n   */\n  _onClear() {\n    if (this.disabled) { return; }\n    this._inputValue = '';\n    this.selectedItem = null;\n    this.updateItems();\n    this._value = this.selectedItem ? this.selectedItem.value : this.selectedItem;\n    this.updateValue();\n  }\n\n  /**\n   * update value\n   */\n  private updateValue() {\n    this._value = this.selectedItem ? this.selectedItem.value : this.selectedItem;\n    this._emitChangeEvent();\n    this.onFocus();\n  }\n\n  /**\n   * component focus listener\n   */\n  private onFocus() {\n    if (this.disabled) { return; }\n    this._element.nativeElement.querySelector('input').focus();\n  }\n\n  /**\n   * input focus listener\n   */\n  _handleFocus() {\n    this._inputFocused = true;\n    this.updateItems();\n    this._focusedOption = 0;\n  }\n\n  /**\n   * input blur listener\n   */\n  _handleBlur() {\n    this._inputFocused = false;\n    this._onTouched();\n  }\n\n  /**\n   * suggestion menu mouse enter listener\n   */\n  _handleMouseEnter() { this.noBlur = true; }\n\n  /**\n   * suggestion menu mouse leave listener\n   */\n  _handleMouseLeave() { this.noBlur = false; }\n\n  /**\n   * Update suggestion to filter the query\n   * @param query\n   */\n  private updateItems() {\n    if (this._inputValue.length < this.minLength) {\n      this._list = [];\n    } else {\n      this._list = this._items.map((i: any) => new Item(i, this.textKey,\n        this.valueKey)).filter(i => new RegExp(this._inputValue.trim(), 'ig').test(i.text));\n      if (this._list.length && this._list[0].text !== this._inputValue) {\n        this.selectedItem = null;\n      }\n    }\n  }\n\n  _emitChangeEvent(): void {\n    let event = new Md2AutocompleteChange();\n    event.source = this;\n    event.value = this._value;\n    this._onChange(event.value);\n    this.change.emit(event);\n  }\n\n  writeValue(value: any): void {\n    if (value !== this._value) {\n      this._value = value;\n      this._inputValue = '';\n      if (value) {\n        let selItm = this._items.find((i: any) => this.equals(this.valueKey ?\n          i[this.valueKey] : i, value));\n        this.selectedItem = new Item(selItm, this.textKey, this.valueKey);\n        if (this.selectedItem) { this._inputValue = this.selectedItem.text; }\n      }\n      if (!this._inputValue) { this._inputValue = ''; }\n    }\n  }\n\n  registerOnChange(fn: (value: any) => void): void { this._onChange = fn; }\n\n  registerOnTouched(fn: () => {}): void { this._onTouched = fn; }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HighlightPipe } from './autocomplete-pipe';\nimport { Md2Autocomplete } from './autocomplete';\n\nexport * from './autocomplete';\nexport * from './autocomplete-pipe';\n\n@NgModule({\n  imports: [CommonModule, FormsModule],\n  exports: [Md2Autocomplete, HighlightPipe],\n  declarations: [Md2Autocomplete, HighlightPipe],\n})\nexport class Md2AutocompleteModule { }\n","import {\n  Component,\n  Input,\n  forwardRef,\n  Output,\n  ViewChild,\n  NgModule,\n  ElementRef,\n  EventEmitter,\n  AfterContentInit,\n  HostListener,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n  NgForm,\n  FormsModule\n} from '@angular/forms';\n\nimport { CommonModule } from '@angular/common';\nimport { Md2AutocompleteModule } from '../autocomplete/index';\nimport {\n  ENTER,\n  SPACE,\n  BACKSPACE,\n  DELETE,\n  COMMA,\n  LEFT_ARROW,\n  RIGHT_ARROW\n} from '../core/keyboard/keycodes';\n\nexport class Chip {\n  public text: string;\n  public value: string;\n\n  constructor(source: any, textKey: string, valueKey: string) {\n    if (typeof source === 'string') {\n      this.text = this.value = source;\n    }\n    if (typeof source === 'object') {\n      this.text = source[textKey];\n      this.value = valueKey ? source[valueKey] : source;\n    }\n  }\n}\n\nlet nextId = 0;\nexport const MD2_CHIPS_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => Md2Chips),\n  multi: true\n};\n\n/** Change event object emitted by Md2Chips. */\nexport class Md2ChipsChange {\n  source: Md2Chips;\n  value: any;\n}\n\n@Component({\n  selector: 'md2-chips',\n  templateUrl: 'chips.html',\n  styleUrls: ['chips.scss'],\n  providers: [MD2_CHIPS_CONTROL_VALUE_ACCESSOR],\n\n  host: {\n    'role': 'chips',\n    '[id]': 'id',\n    '[tabindex]': 'disabled ? -1 : tabindex',\n    '[class.chip-input-focus]': 'inputFocused || selectedChip >= 0',\n  },\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class Md2Chips implements ControlValueAccessor, AfterContentInit {\n  @Input() tabindex: number = 0;\n  @Input() addOnComma: boolean = true;\n  @Input() addOnEnter: boolean = true;\n  @Input() addOnPaste: boolean = true;\n  @Input() addOnSpace: boolean = false;\n  @Input() allowedPattern: RegExp = /.+/;\n  @Input() ngModel: string[];\n  @Input() pasteSplitPattern: string = ',';\n  @Input() placeholder: string = '';\n  @Input() autocompleteDataList: string[];\n  @Input() isAutoComplete: boolean = false;\n  @Input() isRemovable: boolean = true;\n  @Input() disabled: boolean = false;\n  @Input() minChips: number = 0;\n  @Input() maxChips: number = 10000;\n  @Input() type: string = 'text';\n  @Input() id: string = 'md2-chips-' + (++nextId);\n  @Input('autocomplete-item-text') autocompleteItemText: string = 'text';\n  @Input('autocomplete-item-value') autocompleteItemValue: string = 'value';\n  @Input('item-text') textKey: string = 'text';\n  @Input('item-value') valueKey: string = null;\n\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n  @ViewChild('chipInputForm') chipInputForm: NgForm;\n\n  _onChange: (value: any) => void = () => { };\n  _onTouched = () => { };\n\n  chipItemList: Array<Chip> = [];\n  inputValue: string = '';\n  selectedChip: number = -1;\n  inputFocused: boolean = false;\n  autoCompleteFocued: boolean = false;\n\n  private _value: any = '';\n  private splitRegExp: RegExp;\n  templateHtmlString: any;\n  item: any;\n  private isEmptyAutoComplete: boolean = true;\n\n  constructor(private elementRef: ElementRef) { }\n\n  get element() {\n    const elements: any = { root: this.elementRef.nativeElement, mainDiv: null, template: null };\n    elements.mainDiv = elements.root.querySelector('.md2-chips-container');\n    elements.template = elements.mainDiv.querySelector('.md2-template');\n    return elements;\n  }\n  @Input()\n  get value(): any { return this._value; }\n  set value(value: any) { this.setValue(value); }\n\n  /**\n   * set value\n   * @param value\n   */\n  set setValue(value: any) {\n    if (value !== this._value) {\n      this._value = value;\n      this.chipItemList = [];\n      if (value) {\n        if (value && value.length && Array.isArray(value)) {\n          for (let i = 0; i < value.length; i++) {\n            this.chipItemList.push(new Chip(value[i], this.textKey, this.valueKey));\n          }\n        }\n      }\n    }\n    this._emitChangeEvent();\n  }\n\n  getFocusAutocomplete() {\n    this._onTouched();\n  }\n\n  changeAutocomplete(value: any) {\n    if (value) {\n      this.addNewChip(value.value);\n      this.item = null;\n    }\n  }\n\n  ngAfterContentInit() {\n    let elements = this.element;\n    this.splitRegExp = new RegExp(this.pasteSplitPattern);\n    if (elements.template) {\n      this.templateHtmlString = elements.template.innerHTML;\n    }\n  }\n\n  // check autocomplete input is empty or not\n  valueupdate(evt: Event) {\n    this.isEmptyAutoComplete = evt ? false : true;\n  }\n\n  /**\n   * input key listener\n   * @param event\n   */\n  inputChanged(event: KeyboardEvent): void {\n    let key = event.keyCode;\n    switch (key) {\n      // back space\n      case BACKSPACE:\n        this.backspaceEvent();\n        break;\n      // delete\n      case DELETE:\n        this.backspaceEvent();\n        break;\n      // left arrow\n      case LEFT_ARROW:\n        if (this.isAutoComplete && this.isEmptyAutoComplete) {\n          this.leftArrowKeyEvents();\n        } else if (!this.isAutoComplete && !this.inputValue) {\n          this.leftArrowKeyEvents();\n        }\n        break;\n      // right arrow\n      case RIGHT_ARROW:\n        if (this.isAutoComplete && this.isEmptyAutoComplete) {\n          this.rightArrowKeyEvents();\n        } else if (!this.isAutoComplete && !this.inputValue) {\n          this.rightArrowKeyEvents();\n        }\n        break;\n      // enter\n      case ENTER:\n        if (this.addOnEnter) {\n          this.addNewChip(this.inputValue);\n          event.preventDefault();\n        }\n        break;\n      // comma\n      case COMMA:\n        if (this.addOnComma) {\n          this.addNewChip(this.inputValue);\n          event.preventDefault();\n        }\n        break;\n      // space\n      case SPACE:\n        if (this.addOnSpace) {\n          this.addNewChip(this.inputValue);\n          event.preventDefault();\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  @HostListener('focus')\n  _handleFocus() {\n    if (this.disabled) { return; }\n    if (!this.isAutoComplete) {\n      this.elementRef.nativeElement.querySelector('input.chip-input').focus();\n    } else {\n      this.autoCompleteFocued = true;\n      this._onTouched();\n    }\n    this._resetSelected();\n  }\n\n  inputBlurred(): void {\n    this.inputFocused = false;\n    if (this.inputValue) {\n      this.addNewChip(this.inputValue);\n    }\n    this._onTouched();\n  }\n\n  inputFocus(): void {\n    if (this.disabled) { return; }\n    this.inputFocused = true;\n  }\n\n  inputPaste(event: any): void {\n    let clipboardData = event.clipboardData ||\n      (event.originalEvent && event.originalEvent.clipboardData);\n    let pastedString = clipboardData.getData('text/plain').trim();\n    this.addNewChip(pastedString);\n    setTimeout(() => this._resetInput());\n  }\n\n  leftArrowKeyEvents() {\n    event.preventDefault();\n    if (this.selectedChip) {\n      if (this.selectedChip < 0) {\n        this.selectedChip = this.chipItemList.length - 1;\n      } else {\n        this.selectedChip = this.selectedChip - 1;\n      }\n    }\n  }\n  rightArrowKeyEvents() {\n    event.preventDefault();\n    if (this.selectedChip != -1) {\n      if (this.selectedChip >= this.chipItemList.length) {\n        this.selectedChip = 0;\n      } else {\n        this.selectedChip = this.selectedChip + 1;\n      }\n    }\n  }\n\n  private _isValid(chipString: any): boolean {\n    let typeString = typeof chipString;\n    let isExist: any;\n    if (typeString === 'string') {\n      chipString = chipString.trim();\n      isExist = this.chipItemList.filter((chip) => chip.text === chipString);\n    } else {\n      isExist = this.chipItemList.filter((chip) => chip.text === chipString.text);\n    }\n    if (this.chipItemList.indexOf(chipString) === -1 && (isExist.length ? false : true)) {\n      return this.allowedPattern.test(chipString);\n    }\n  }\n  /**\n  * add new chip\n  * @param chips\n  */\n  private addNewChip(chips: any): void {\n    let validInput = this._isValid(chips);\n    if (validInput) {\n      if (this.maxChips && this.maxChips < this.chipItemList.length - 1) {\n        return;\n      } else {\n        this.chipItemList.push(new Chip(chips, this.autocompleteItemText, this.autocompleteItemValue));\n        this.item = null;\n      }\n    }\n    this._resetSelected();\n    this._resetInput();\n    this.updateValue();\n  }\n\n  /**\n * remove selected chip\n * @param chipIndexToRemove index of selected chip\n */\n  removeSelectedChip(chipIndexToRemove: number): void {\n    this.chipItemList.splice(chipIndexToRemove, 1);\n    this._resetSelected();\n    this.updateValue();\n  }\n\n  private backspaceEvent(): void {\n    if (!this.inputValue.length && this.chipItemList.length &&\n      this.isRemovable && this.isEmptyAutoComplete) {\n      if (this.selectedChip != -1) {\n        this.removeSelectedChip(this.selectedChip);\n        this.selectedChip = this.chipItemList.length - 1;\n      } else {\n        this.selectedChip = this.chipItemList.length - 1;\n      }\n    }\n  }\n\n  private _resetSelected(): void {\n    this.selectedChip = -1;\n  }\n\n  private _resetInput(): void {\n    if (this.isAutoComplete) {\n      this.chipInputForm.controls['autocomplete'].setValue('');\n    } else {\n      this.chipInputForm.controls['chipInput'].setValue('');\n    }\n  }\n  /**\n   * update value\n   */\n  private updateValue() {\n    this._value = new Array<any>();\n    this._value = this.chipItemList.map((chip: any) => {\n      if (this.valueKey) {\n        let c: any = {};\n        c[this.textKey] = chip.text;\n        c[this.valueKey] = chip.value;\n        return c;\n      } else {\n        return chip.value;\n      }\n    });\n    this._emitChangeEvent();\n  }\n\n  /** Emits an event when the user selects a color. */\n  _emitChangeEvent(): void {\n    let event = new Md2ChipsChange();\n    event.source = this;\n    event.value = this._value;\n    this._onChange(event.value);\n    this.change.emit(event);\n  }\n\n  writeValue(value: any): void {\n    if (value !== this._value) {\n      this._value = value;\n      this.chipItemList = [];\n      if (value) {\n        if (value && value.length && Array.isArray(value)) {\n          for (let i = 0; i < value.length; i++) {\n            this.chipItemList.push(new Chip(value[i], this.textKey, this.valueKey));\n          }\n        }\n      }\n    }\n  }\n  registerOnChange(fn: (value: any) => void): void { this._onChange = fn; }\n  registerOnTouched(fn: () => {}): void { this._onTouched = fn; }\n}\n\nexport const MD2_CHIPS_DIRECTIVES: any[] = [Md2Chips];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, Md2AutocompleteModule],\n  declarations: MD2_CHIPS_DIRECTIVES,\n  exports: MD2_CHIPS_DIRECTIVES\n})\nexport class Md2ChipsModule { }\n","import {\n  Directive,\n  EventEmitter,\n  Input,\n  Output,\n} from '@angular/core';\n\n@Directive({\n  selector: '[collapse]',\n  host: {\n    'role': 'collapse',\n    '[class.in]': '_collapse',\n    '[class.collapse]': 'true',\n    '[class.collapsing]': '_collapsing',\n    '[attr.aria-expanded]': '_collapse',\n    '[attr.aria-hidden]': '!_collapse'\n  },\n  exportAs: 'md2Collapse'\n})\nexport class Md2Collapse {\n  _collapse: boolean = true;\n  _collapsing: boolean = false;\n\n  @Output() collapsed: EventEmitter<void> = new EventEmitter<void>();\n  @Output() expanded: EventEmitter<void> = new EventEmitter<void>();\n\n  @Input()\n  get collapse(): boolean { return this._collapse; }\n  set collapse(value: boolean) {\n    this._collapse = value;\n    this.toggle();\n  }\n\n  /**\n   * toggle collapse\n   */\n  toggle() {\n    if (this._collapse) { this.hide(); } else { this.show(); }\n  }\n\n  /**\n  * show collapse\n  */\n  show() {\n    this._collapsing = true;\n    this._collapse = true;\n    setTimeout(() => {\n      this._collapsing = false;\n    }, 4);\n    this.expanded.emit();\n  }\n\n  /**\n   * hide collapse\n   */\n  hide() {\n    this._collapsing = true;\n    this._collapse = false;\n    setTimeout(() => {\n      this._collapsing = false;\n    }, 4);\n    this.collapsed.emit();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Md2Collapse } from './collapse';\n\nexport * from './collapse';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [Md2Collapse],\n  declarations: [Md2Collapse],\n})\nexport class Md2CollapseModule { }\n","import { Injectable } from '@angular/core';\n\nexport const COLOR_RGB = /(rgb)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*%?,\\s*(\\d{1,3})\\s*%?(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/;\nexport const COLOR_HSL = /(hsl)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/;\n\nexport class Hsva {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\nexport class Hsla {\n  constructor(public h: number, public s: number, public l: number, public a: number) { }\n}\nexport class Rgba {\n  constructor(public r: number, public g: number, public b: number, public a: number) { }\n}\n\n@Injectable()\nexport class ColorUtil {\n  /**\n* hsla to hsva\n* @param hsla\n*/\n  hsla2hsva(hsla: Hsla) {\n    let h: number = Math.min(hsla.h, 1), s = Math.min(hsla.s, 1), l = Math.min(hsla.l, 1);\n    let a = Math.min(hsla.a, 1);\n    if (l === 0) {\n      return { h: h, s: 0, v: 0, a: a };\n    } else {\n      let v: number = l + s * (1 - Math.abs(2 * l - 1)) / 2;\n      return { h: h, s: 2 * (v - l) / v, v: v, a: a };\n    }\n  }\n\n  /**\n  * hsva to hsla\n  * @param hsva\n  */\n  hsva2hsla(hsva: Hsva) {\n    let h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\n    if (v === 0) {\n      return new Hsla(h, 0, 0, a);\n    } else if (s === 0 && v === 1) {\n      return new Hsla(h, 1, 1, a);\n    } else {\n      let l: number = v * (2 - s) / 2;\n      return new Hsla(h, v * s / (1 - Math.abs(2 * l - 1)), l, a);\n    }\n  }\n\n  /**\n   * rgba to hsva\n   * @param rgba\n   */\n  rgbaToHsva(rgba: Rgba) {\n    let r: number = Math.min(rgba.r, 1), g = Math.min(rgba.g, 1), b = Math.min(rgba.b, 1);\n    let a = Math.min(rgba.a, 1);\n    let max: number = Math.max(r, g, b), min = Math.min(r, g, b);\n    let h: number, s: number, v: number = max;\n    let d: number = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if (max === min) {\n      h = 0;\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n\n    return new Hsva(h, s, v, a);\n  }\n\n  /**\n   * hsva to rgba\n   * @param hsva\n   */\n  hsvaToRgba(hsva: Hsva) {\n    let h: number = hsva.h, s: number = hsva.s, v: number = hsva.v, a: number = hsva.a;\n    let r: number, g: number, b: number;\n\n    let i: number = Math.floor(h * 6);\n    let f: number = h * 6 - i;\n    let p: number = v * (1 - s);\n    let q: number = v * (1 - f * s);\n    let t: number = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v; g = t; b = p;\n        break;\n      case 1:\n        r = q; g = v; b = p;\n        break;\n      case 2:\n        r = p; g = v; b = t;\n        break;\n      case 3:\n        r = p; g = q; b = v;\n        break;\n      case 4:\n        r = t; g = p; b = v;\n        break;\n      case 5:\n        r = v; g = p; b = q;\n        break;\n    }\n\n    return new Rgba(r, g, b, a);\n  }\n\n  /**\n   * string to hsva\n   * @param colorString\n   */\n  stringToHsva(colorString: string) {\n    let stringParsers = [\n      {\n        re: COLOR_RGB,\n        parse: function (execResult: Array<string>) {\n          return new Rgba(parseInt(execResult[2]) / 255,\n            parseInt(execResult[3]) / 255,\n            parseInt(execResult[4]) / 255,\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n        }\n      },\n      {\n        re: COLOR_HSL,\n        parse: function (execResult: Array<string>) {\n          return new Hsla(parseInt(execResult[2]) / 360,\n            parseInt(execResult[3]) / 100,\n            parseInt(execResult[4]) / 100,\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n        }\n      },\n      {\n        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,\n        parse: function (execResult: Array<string>) {\n          return new Rgba(parseInt(execResult[1], 16) / 255,\n            parseInt(execResult[2], 16) / 255,\n            parseInt(execResult[3], 16) / 255,\n            1);\n        }\n      },\n      {\n        re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,\n        parse: function (execResult: Array<string>) {\n          return new Rgba(parseInt(execResult[1] + execResult[1], 16) / 255,\n            parseInt(execResult[2] + execResult[2], 16) / 255,\n            parseInt(execResult[3] + execResult[3], 16) / 255,\n            1);\n        }\n      }\n    ];\n    colorString = colorString.toLowerCase();\n    let hsva: any = null;\n    for (let key in stringParsers) {\n      if (stringParsers.hasOwnProperty(key)) {\n        let parser = stringParsers[key];\n        let match: Array<string> = parser.re.exec(colorString);\n        let color = match && parser.parse(match);\n        if (color) {\n          if (color instanceof Rgba) {\n            hsva = this.rgbaToHsva(color);\n          } else if (color instanceof Hsla) {\n            hsva = this.hsla2hsva(color);\n          }\n          return hsva;\n        }\n      }\n    }\n    return hsva;\n  }\n\n  /**\n   * output formate of color\n   * @param hsva\n   * @param outputFormat\n   */\n  outputFormat(hsva: Hsva, outputFormat: string) {\n    if (hsva.a < 1) {\n      switch (outputFormat) {\n        case 'hsl':\n          let hsla = this.hsva2hsla(hsva);\n          let hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100),\n            Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100\n          );\n          return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' +\n            hslaText.l + '%,' + hslaText.a + ')';\n        default:\n          let rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));\n          return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b +\n            ',' + Math.round(rgba.a * 100) / 100 + ')';\n      }\n    } else {\n      switch (outputFormat) {\n        case 'hsl':\n          let hsla = this.hsva2hsla(hsva);\n          let hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100),\n            Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\n          return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';\n        case 'rgb':\n          let rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));\n          return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n        default:\n          return this.hexText(this.denormalizeRGBA(this.hsvaToRgba(hsva)));\n      }\n    }\n  }\n  hexText(rgba: Rgba) {\n    let mainText = ((1 << 24) | (rgba.r << 16) | (rgba.g << 8) | rgba.b).toString(16);\n    let hexText = '#' + mainText.substr(1);\n    return hexText.toLowerCase();\n  }\n\n  denormalizeRGBA(rgba: Rgba) {\n    return new Rgba(Math.round(rgba.r * 255), Math.round(rgba.g * 255),\n      Math.round(rgba.b * 255), rgba.a);\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  ViewEncapsulation,\n  Directive,\n  OnDestroy,\n  Optional,\n  Renderer,\n  Self,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NgControl\n} from '@angular/forms';\nimport { coerceBooleanProperty } from '../core/coercion/boolean-property';\nimport { Overlay } from '../core/overlay/overlay';\nimport { OverlayRef } from '../core/overlay/overlay-ref';\nimport { OverlayState } from '../core/overlay/overlay-state';\nimport { PositionStrategy } from '../core/overlay/position/position-strategy';\nimport { TemplatePortal } from '../core/portal/portal';\nimport { Subscription } from 'rxjs';\nimport { ColorUtil, Rgba, Hsla, Hsva } from './color-util';\n\nexport class SliderPosition {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\nexport class SliderDimension {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\n\nexport type Container = 'inline' | 'dialog';\n\nlet nextId = 0;\n\n@Directive({\n  selector: '[text]',\n  host: {\n    '(input)': 'changeInput($event)'\n  }\n})\nexport class TextDirective {\n  @Output('newValue') newValue = new EventEmitter<any>();\n  @Input('text') text: any;\n  @Input('rg') rg: number;\n  changeInput(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    let value = event.target.value;\n    if (this.rg === undefined) {\n      this.newValue.emit(value);\n    } else {\n      let numeric = parseFloat(value);\n      if (!isNaN(numeric) && numeric >= 0 && numeric <= this.rg) {\n        this.newValue.emit({ v: numeric, rg: this.rg });\n      }\n    }\n  }\n}\n\n@Directive({\n  selector: '[colorpicker-slider]',\n  host: {\n    '(mousedown)': 'start($event)',\n    '(touchstart)': 'start($event)'\n  }\n})\nexport class ColorpickerSliderDirective {\n  @Input('colorpicker-slider') slider: string;\n  @Input('point-x') pointX: number;\n  @Input('point-y') pointY: number;\n  @Output('change') change = new EventEmitter<any>();\n  private listenerMove: any;\n  private listenerStop: any;\n\n  constructor(private _element: ElementRef) {\n    this.listenerMove = (event: any) => { this.move(event); };\n    this.listenerStop = () => { this.stop(); };\n  }\n\n  /**\n   * set cursor position\n   * @param event\n   */\n  setCursor(event: any) {\n    let height = this._getNativeElement().offsetHeight;\n    let width = this._getNativeElement().offsetWidth;\n    let x = Math.max(0, Math.min(this.getX(event), width));\n    let y = Math.max(0, Math.min(this.getY(event), height));\n\n    if (this.pointX !== undefined && this.pointY !== undefined) {\n      this.change.emit({\n        s: x / width, v: (1 - y / height),\n        pointX: this.pointX, pointY: this.pointY\n      });\n    } else if (this.pointX === undefined && this.pointY !== undefined) {\n      this.change.emit({ v: y / height, rg: this.pointY });\n    } else {\n      this.change.emit({ v: x / width, rg: this.pointX });\n    }\n  }\n\n  /**\n   * input event listner\n   * @param event\n   */\n  move(event: any) {\n    event.preventDefault();\n    this.setCursor(event);\n  }\n\n  /**\n   * input event listner\n   * @param event\n   */\n  start(event: any) {\n    this.setCursor(event);\n    document.addEventListener('mousemove', this.listenerMove);\n    document.addEventListener('touchmove', this.listenerMove);\n    document.addEventListener('mouseup', this.listenerStop);\n    document.addEventListener('touchend', this.listenerStop);\n  }\n\n  /**\n   * stop mouse event\n   */\n  stop() {\n    document.removeEventListener('mousemove', this.listenerMove);\n    document.removeEventListener('touchmove', this.listenerMove);\n    document.removeEventListener('mouseup', this.listenerStop);\n    document.removeEventListener('touchend', this.listenerStop);\n  }\n\n  /**\n   * get x\n   * @param event\n   */\n  getX(event: any) {\n    let boundingClientRect = this._getNativeElement().getBoundingClientRect();\n    return (event.pageX !== undefined ? event.pageX : event.touches[0].pageX) -\n      boundingClientRect.left - window.pageXOffset;\n  }\n\n  /**\n   * get y\n   * @param event\n   */\n  getY(event: any) {\n    let boundingClientRect = this._getNativeElement().getBoundingClientRect();\n    return (event.pageY !== undefined ? event.pageY : event.touches[0].pageY) -\n      boundingClientRect.top - window.pageYOffset;\n  }\n\n  _getNativeElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n}\n\n/**\n * Change event object emitted by Md2Colorpicker.\n */\nexport class Md2ColorChange {\n  constructor(public source: Md2Colorpicker, public color: string) { }\n}\n\n@Component({\n  \n  selector: 'md2-colorpicker',\n  templateUrl: 'colorpicker.html',\n  styleUrls: ['colorpicker.scss'],\n  host: {\n    'role': 'colorpicker',\n    '[id]': 'id',\n    '[class.md2-colorpicker-disabled]': 'disabled',\n    '[attr.aria-label]': 'placeholder',\n    '[attr.aria-required]': 'required.toString()',\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2Colorpicker implements OnDestroy, ControlValueAccessor {\n\n  private _portal: TemplatePortal;\n  private _overlayRef: OverlayRef;\n  private _backdropSubscription: Subscription;\n  private _positionSubscription: Subscription;\n\n  _innerValue: string = '';\n  _isColorpickerVisible: boolean;\n  _hueSliderColor: string;\n  slider: SliderPosition;\n  sliderDim: SliderDimension;\n  hsva: Hsva;\n  rgbaText: Rgba;\n  hslaText: Hsla;\n  outputColor: string;\n  alphaColor: string;\n  hexText: string;\n  format: number;\n  backColor: boolean = true;\n\n  private _created: boolean;\n  private _defalutColor: string = '#000000';\n  private _initialColor: string;\n\n  /** Whether or not the overlay panel is open. */\n  private _panelOpen = false;\n  private _color: string = null;\n\n  /** Whether filling out the select is required in the form.  */\n  _required: boolean = false;\n\n  /** Whether the select is disabled.  */\n  private _disabled: boolean = false;\n  isInputFocus: boolean = false;\n\n  /** The placeholder displayed in the trigger of the select. */\n  private _placeholder: string;\n  private _container: Container = 'inline';\n\n  fontColor: string;\n  _isDark: boolean;\n  isInputValidColor: boolean = false;\n\n  _onChange: (value: any) => void = () => { };\n  _onTouched = () => { };\n\n  @Input()\n  get color() { return this._color; }\n  set color(value: string) { this._color = value; }\n\n  /** Placeholder to be shown if no value has been selected. */\n  @Input()\n  get placeholder() { return this._placeholder; }\n  set placeholder(value: string) { this._placeholder = value; }\n\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value) { this._required = coerceBooleanProperty(value); }\n\n  /** Whether the component is disabled. */\n  @Input()\n  get disabled() { return this._disabled; }\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  @Input('format') cFormat: string = 'hex';\n  @Output('colorpickerChange') colorpickerChange = new EventEmitter<string>();\n  /** Event emitted when the selected date has been changed by the user. */\n  @Output() change: EventEmitter<Md2ColorChange> = new EventEmitter<Md2ColorChange>();\n  @Input() tabindex: number = 0;\n  @Input() id: string = 'md2-colorpicker-' + (++nextId);\n\n  get value(): any {\n    return this._innerValue;\n\n  }\n  /**\n  * set accessor including call the onchange callback\n  */\n  set value(v: any) {\n    if (v !== this._innerValue) {\n      if (v) {\n        this.hsva = this._util.stringToHsva(v);\n      }\n      this._innerValue = v;\n    }\n  }\n\n  @Input()\n  get container() { return this._container; }\n  set container(value: Container) {\n    if (this._container !== value) {\n      this._container = value || 'inline';\n      this.destroyPanel();\n    }\n  }\n\n  get setGradient() {\n    return {\n      'background-image': 'linear-gradient(to right, transparent, transparent),' +\n      'linear-gradient(to left, ' + this.hexText + ', rgba(255, 255, 255, 0))'\n    };\n\n  }\n\n  /** Event emitted when the select has been opened. */\n  @Output() onOpen: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the select has been closed. */\n  @Output() onClose: EventEmitter<void> = new EventEmitter<void>();\n\n  @ViewChild('portal') _templatePortal: TemplateRef<any>;\n\n  constructor(private _element: ElementRef, private _overlay: Overlay,\n    private _viewContainerRef: ViewContainerRef, private _renderer: Renderer,\n    private _util: ColorUtil, @Self() @Optional() public _control: NgControl) {\n    this._created = false;\n    if (this._control) {\n      this._control.valueAccessor = this;\n    }\n  }\n\n  ngOnDestroy() { this.destroyPanel(); }\n\n  /** Whether or not the overlay panel is open. */\n  get panelOpen(): boolean {\n    return this._panelOpen;\n  }\n\n  /** Toggles the overlay panel open or closed. */\n  toggle(): void {\n    this.panelOpen ? this.close() : this.open();\n  }\n\n  /** Opens the overlay panel. */\n  open(): void {\n    let hsva = this._util.stringToHsva(this.color + '');\n    this.isInputFocus = true;\n    if (hsva) {\n      this.hsva = hsva;\n    } else {\n      this.hsva = this._util.stringToHsva(this._defalutColor);\n    }\n\n    this.sliderDim = new SliderDimension(245, 250, 130, 245);\n    this.slider = new SliderPosition(0, 0, 0, 0);\n    if (this.cFormat === 'rgb') {\n      this.format = 1;\n    } else if (this.cFormat === 'hsl') {\n      this.format = 2;\n    } else {\n      this.format = 0;\n    }\n\n    this.update();\n    if (this.disabled) { return; }\n    if (!this._isColorpickerVisible) {\n      this._initialColor = this.color;\n      this.update();\n      this._isColorpickerVisible = true;\n    } else {\n      this._isColorpickerVisible = false;\n    }\n\n    this._createOverlay();\n\n    if (!this._portal) {\n      this._portal = new TemplatePortal(this._templatePortal, this._viewContainerRef);\n    }\n\n    this._overlayRef.attach(this._portal);\n    this._subscribeToBackdrop();\n    this._panelOpen = true;\n    this.onOpen.emit();\n  }\n\n  /** Closes the overlay panel and focuses the host element. */\n  close(): void {\n    this._panelOpen = false;\n    this.isInputFocus = false;\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._backdropSubscription.unsubscribe();\n    }\n    this._isColorpickerVisible = false;\n    if (this._innerValue) {\n      this.setColorFromString(this._innerValue);\n    }\n  }\n\n  /** Removes the panel from the DOM. */\n  destroyPanel(): void {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n\n      this._cleanUpSubscriptions();\n    }\n  }\n\n  _onBlur() {\n    if (!this.panelOpen) {\n      this._onTouched();\n    }\n  }\n  /**\n    * input event listner\n    * @param event\n    */\n  changeInput(event: any) {\n    let value = event.target.value;\n    this.colorpickerChange.emit(value);\n  }\n\n  /**\n  * set saturation,lightness,hue,alpha,RGB value\n  * @param val\n  * @param rg\n  */\n  setSaturation(val: { v: number, rg: number }) {\n    let hsla = this._util.hsva2hsla(this.hsva);\n    hsla.s = val.v / val.rg;\n    this.hsva = this._util.hsla2hsva(hsla);\n    this.update();\n  }\n\n  setLightness(val: { v: number, rg: number }) {\n    let hsla = this._util.hsva2hsla(this.hsva);\n    hsla.l = val.v / val.rg;\n    this.hsva = this._util.hsla2hsva(hsla);\n    this.update();\n  }\n\n  setHue(val: { v: number, rg: number }) {\n    this.hsva.h = val.v / val.rg;\n    this.update();\n  }\n\n  setAlpha(val: { v: number, rg: number }) {\n    this.hsva.a = val.v / val.rg;\n    this.update();\n  }\n\n  setR(val: { v: number, rg: number }) {\n    let rgba = this._util.hsvaToRgba(this.hsva);\n    rgba.r = val.v / val.rg;\n    this.hsva = this._util.rgbaToHsva(rgba);\n    this.update();\n  }\n  setG(val: { v: number, rg: number }) {\n    let rgba = this._util.hsvaToRgba(this.hsva);\n    rgba.g = val.v / val.rg;\n    this.hsva = this._util.rgbaToHsva(rgba);\n    this.update();\n  }\n  setB(val: { v: number, rg: number }) {\n    let rgba = this._util.hsvaToRgba(this.hsva);\n    rgba.b = val.v / val.rg;\n    this.hsva = this._util.rgbaToHsva(rgba);\n    this.update();\n  }\n  setSaturationAndBrightness(val: { s: number, v: number, pointX: number, pointY: number }) {\n    this.hsva.s = val.s / val.pointX;\n    this.hsva.v = val.v / val.pointY;\n    this.update();\n  }\n  clickOk() {\n    this._isColorpickerVisible = false;\n    this.isInputValidColor = false;\n    this.color = this._innerValue;\n\n    if (this._innerValue != this._initialColor) {\n      this._emitChangeEvent();\n    }\n    this.close();\n  }\n\n  /**\n  * deselect recent color and close popup\n  */\n  cancelColor() {\n    this._innerValue = this._initialColor;\n    this.close();\n  }\n  isValidColor(str: string) {\n    return str.match(/^#[a-f0-9]{6}$/i) !== null;\n  }\n  /**\n     * set color\n     * @param value\n     */\n  setColorFromString(value: string) {\n    if (!this.isValidColor(value)) {\n      value = '#000000';\n      this.backColor = false;\n    }\n    let hsva = this._util.stringToHsva(value);\n    if (hsva !== null) {\n      this.hsva = hsva;\n    }\n    this.update();\n  }\n\n  formatPolicy(value: number) {\n    this.format = value;\n    if (this.format === 0 && this.hsva.a < 1) {\n      this.format++;\n    }\n    return this.format;\n  }\n\n  /**\n   * update color\n   */\n  update() {\n    let hsla = this._util.hsva2hsla(this.hsva);\n    let rgba = this._util.denormalizeRGBA(this._util.hsvaToRgba(this.hsva));\n    let hueRgba = this._util.denormalizeRGBA(this._util.hsvaToRgba(\n      new Hsva(this.hsva.h, 1, 1, 1)));\n\n    this.alphaColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n    this._hueSliderColor = 'rgb(' + hueRgba.r + ',' + hueRgba.g + ',' + hueRgba.b + ')';\n    this.hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100),\n      Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\n    this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);\n    if (this.backColor) {\n      this.hexText = this._util.hexText(rgba);\n    }\n    this.backColor = true;\n    let colorCode = Math.round((this.rgbaText.r * 299 + this.rgbaText.g * 587 +\n      this.rgbaText.b * 114) / 1000);\n    if (colorCode >= 128 || this.hsva.a < 0.35) {\n      this.fontColor = 'black';\n      this._isDark = true;\n    } else {\n      this.fontColor = 'white';\n      this._isDark = false;\n    }\n\n    if (this.format === 0 && this.hsva.a < 1) {\n      this.format++;\n    }\n    this.outputColor = this._util.outputFormat(this.hsva, this.cFormat);\n    this.slider = new SliderPosition((this.hsva.h) * this.sliderDim.h,\n      this.hsva.s * this.sliderDim.s - 7, (1 - this.hsva.v) * this.sliderDim.v - 7,\n      this.hsva.a * this.sliderDim.a);\n    this._innerValue = this.outputColor;\n  }\n\n  clearColor(event: Event) {\n    event.stopPropagation();\n    this.color = '';\n    this._emitChangeEvent();\n  }\n\n  isDescendant(parent: any, child: any) {\n    let node = child.parentNode;\n    while (node !== null) {\n      if (node === parent) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  }\n\n  checkInputVal(): void {\n    this.hsva = this._util.stringToHsva(this.color + '');\n    this.isInputFocus = false;\n    if (this.hsva) {\n      if (this._innerValue !== this.color) {\n        this._emitChangeEvent();\n      }\n      this.isInputValidColor = false;\n    } else {\n      this.isInputValidColor = true;\n    }\n    this._onTouched();\n  }\n\n  /** Emits an event when the user selects a color. */\n  _emitChangeEvent(): void {\n    this._onChange(this.color);\n    this.change.emit(new Md2ColorChange(this, this.color));\n    this._innerValue = this.color;\n  }\n  writeValue(value: any): void {\n    this._innerValue = value;\n    this.color = value;\n  }\n\n  registerOnChange(fn: (value: any) => void): void { this._onChange = fn; }\n\n  registerOnTouched(fn: () => {}): void { this._onTouched = fn; }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  private _subscribeToBackdrop(): void {\n    this._backdropSubscription = this._overlayRef.backdropClick().subscribe(() => {\n      this._innerValue = this._initialColor;\n      this.close();\n    });\n  }\n\n  /**\n   *  This method creates the overlay from the provided panel's template and saves its\n   *  OverlayRef so that it can be attached to the DOM when open is called.\n   */\n  private _createOverlay(): void {\n    if (!this._overlayRef) {\n      let config = new OverlayState();\n      if (this.container === 'inline') {\n        config.positionStrategy = this._createPickerPositionStrategy();\n        config.hasBackdrop = true;\n        config.backdropClass = 'cdk-overlay-transparent-backdrop';\n        config.scrollStrategy = this._overlay.scrollStrategies.reposition();\n      } else {\n        config.positionStrategy = this._overlay.position()\n          .global()\n          .centerHorizontally()\n          .centerVertically();\n        config.hasBackdrop = true;\n      }\n      this._overlayRef = this._overlay.create(config);\n    }\n  }\n\n  /** Create the popup PositionStrategy. */\n  private _createPickerPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .connectedTo(this._element,\n      { originX: 'start', originY: 'top' },\n      { overlayX: 'start', overlayY: 'top' })\n      .withFallbackPosition(\n      { originX: 'end', originY: 'top' },\n      { overlayX: 'end', overlayY: 'top' })\n      .withFallbackPosition(\n      { originX: 'start', originY: 'bottom' },\n      { overlayX: 'start', overlayY: 'bottom' })\n      .withFallbackPosition(\n      { originX: 'end', originY: 'bottom' },\n      { overlayX: 'end', overlayY: 'bottom' });\n  }\n\n  private _cleanUpSubscriptions(): void {\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n    if (this._positionSubscription) {\n      this._positionSubscription.unsubscribe();\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { StyleModule, OverlayModule, PortalModule, A11yModule } from '../core/index';\nimport { Md2Colorpicker, ColorpickerSliderDirective, TextDirective } from './colorpicker';\nimport { ColorUtil } from './color-util';\n\n\nexport * from './colorpicker';\nexport * from './color-util';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    OverlayModule,\n    PortalModule,\n    StyleModule,\n    A11yModule,\n  ],\n  exports: [\n    Md2Colorpicker,\n    ColorpickerSliderDirective,\n    TextDirective\n  ],\n  declarations: [\n    Md2Colorpicker,\n    ColorpickerSliderDirective,\n    TextDirective\n  ],\n  providers: [ColorUtil]\n})\nexport class Md2ColorpickerModule { }\n","import {Component, ViewEncapsulation, ContentChildren, QueryList, Input} from '@angular/core';\nimport {mixinDisabled, CanDisable} from '../core/common-behaviors/disabled';\n\n// Boilerplate for applying mixins to Md2Optgroup.\nexport class Md2OptgroupBase { }\nexport const _Md2OptgroupMixinBase = mixinDisabled(Md2OptgroupBase);\n\n// Counter for unique group ids.\nlet nextId = 0;\n\n/**\n * Component that is used to group instances of `md2-option`.\n */\n@Component({\n  \n  selector: 'md2-optgroup',\n  templateUrl: 'optgroup.html',\n  styleUrls: ['optgroup.scss'],\n  encapsulation: ViewEncapsulation.None,\n  inputs: ['disabled'],\n  host: {\n    'class': 'md2-optgroup',\n    'role': 'group',\n    '[class.md2-optgroup-disabled]': 'disabled',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-labelledby]': '_labelId',\n  }\n})\nexport class Md2Optgroup extends _Md2OptgroupMixinBase implements CanDisable {\n  /** Label for the option group. */\n  @Input() label: string;\n\n  /** Unique id for the underlying label. */\n  _labelId: string = `md2-optgroup-label-${nextId++}`;\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  Optional,\n  NgModule,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ENTER, SPACE } from '../core/keyboard/keycodes';\nimport { coerceBooleanProperty } from '../core/coercion/boolean-property';\nimport { MdSelectionModule } from '../core/selection/index';\nimport { Md2Optgroup } from './optgroup';\n\n/**\n * Option IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueIdCounter = 0;\n\n/** Event object emitted by MdOption when selected or deselected. */\nexport class Md2OptionSelectionChange {\n  constructor(public source: Md2Option, public isUserInput = false) { }\n}\n\n\n/**\n * Single option inside of a `<md2-select>` element.\n */\n@Component({\n  \n  selector: 'md2-option',\n  host: {\n    'role': 'option',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[class.md2-selected]': 'selected',\n    '[class.md2-option-multiple]': 'multiple',\n    '[class.md2-active]': 'active',\n    '[id]': 'id',\n    '[attr.aria-selected]': 'selected.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[class.md2-option-disabled]': 'disabled',\n    '(click)': '_selectViaInteraction()',\n    '(keydown)': '_handleKeydown($event)',\n    '[class.md2-option]': 'true',\n  },\n  template: '<ng-content></ng-content>',\n  styleUrls: ['option.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2Option {\n  private _selected: boolean = false;\n  private _active: boolean = false;\n\n  /** Whether the option is disabled.  */\n  private _disabled: boolean = false;\n\n  private _id: string = `md2-option-${_uniqueIdCounter++}`;\n\n  /** Whether the wrapping component is in multiple selection mode. */\n  multiple: boolean = false;\n\n  /** The unique ID of the option. */\n  get id() { return this._id; }\n\n  /** Whether or not the option is currently selected. */\n  get selected(): boolean { return this._selected; }\n\n  /** The form value of the option. */\n  @Input() value: any;\n\n  /** Whether the option is disabled. */\n  @Input()\n  get disabled() { return (this.group && this.group.disabled) || this._disabled; }\n  set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n  /** Event emitted when the option is selected or deselected. */\n  @Output() onSelectionChange = new EventEmitter<Md2OptionSelectionChange>();\n\n  constructor(\n    @Optional() public readonly group: Md2Optgroup,\n    private _element: ElementRef) { }\n\n  /**\n   * Whether or not the option is currently active and ready to be selected.\n   * An active option displays styles as if it is focused, but the\n   * focus is actually retained somewhere else. This comes in handy\n   * for components like autocomplete where focus must remain on the input.\n   */\n  get active(): boolean {\n    return this._active;\n  }\n\n  /**\n   * The displayed value of the option. It is necessary to show the selected option in the\n   * select's trigger.\n   */\n  get viewValue(): string {\n    return this._getHostElement().textContent.trim();\n  }\n\n  /** Selects the option. */\n  select(): void {\n    this._selected = true;\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Deselects the option. */\n  deselect(): void {\n    this._selected = false;\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Sets focus onto this option. */\n  focus(): void {\n    this._getHostElement().focus();\n  }\n\n  /**\n   * This method sets display styles on the option to make it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setActiveStyles(): void {\n    this._active = true;\n  }\n\n  /**\n   * This method removes display styles on the option that made it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setInactiveStyles(): void {\n    this._active = false;\n  }\n\n  /** Ensures the option is selected when activated from the keyboard. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ENTER || event.keyCode === SPACE) {\n      this._selectViaInteraction();\n    }\n  }\n\n  /**\n   * Selects the option while indicating the selection came from the user. Used to\n   * determine if the select's view -> model callback should be invoked.\n   */\n  _selectViaInteraction(): void {\n    if (!this.disabled) {\n      this._selected = this.multiple ? !this._selected : true;\n      this._emitSelectionChangeEvent(true);\n    }\n  }\n\n  /** Returns the correct tabindex for the option depending on disabled state. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Fetches the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  /** Emits the selection change event. */\n  private _emitSelectionChangeEvent(isUserInput = false): void {\n    this.onSelectionChange.emit(new Md2OptionSelectionChange(this, isUserInput));\n  }\n\n}\n\n@NgModule({\n  imports: [CommonModule, MdSelectionModule],\n  exports: [Md2Option, Md2Optgroup],\n  declarations: [Md2Option, Md2Optgroup]\n})\nexport class Md2OptionModule { }\n","import {QueryList} from '@angular/core';\nimport {UP_ARROW, DOWN_ARROW, TAB} from '../core';\nimport {Observable, Subject} from 'rxjs';\n\n/**\n * This interface is for items that can be disabled. The type passed into\n * ListKeyManager must extend this interface.\n */\nexport interface CanDisable {\n  disabled?: boolean;\n}\n\n/**\n * This class manages keyboard events for selectable lists. If you pass it a query list\n * of items, it will set the active item correctly when arrow events occur.\n */\nexport class ListKeyManager<T extends CanDisable> {\n  private _activeItemIndex: number = null;\n  private _activeItem: T;\n  private _tabOut = new Subject<void>();\n  private _wrap: boolean = false;\n\n  constructor(private _items: QueryList<T>) {\n  }\n\n  /**\n   * Turns on wrapping mode, which ensures that the active item will wrap to\n   * the other end of list when there are no more items in the given direction.\n   *\n   * @returns The ListKeyManager that the method was called on.\n   */\n  withWrap(): this {\n    this._wrap = true;\n    return this;\n  }\n\n  /**\n   * Sets the active item to the item at the index specified.\n   *\n   * @param index The index of the item to be set as active.\n   */\n  setActiveItem(index: number): void {\n    this._activeItemIndex = index;\n    this._activeItem = this._items.toArray()[index];\n  }\n\n  /**\n   * Sets the active item depending on the key event passed in.\n   * @param event Keyboard event to be used for determining which element should be active.\n   */\n  onKeydown(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case DOWN_ARROW:\n        this.setNextItemActive();\n        break;\n      case UP_ARROW:\n        this.setPreviousItemActive();\n        break;\n      case TAB:\n        // Note that we shouldn't prevent the default action on tab.\n        this._tabOut.next(null);\n        return;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n  }\n\n  /** Returns the index of the currently active item. */\n  get activeItemIndex(): number {\n    return this._activeItemIndex;\n  }\n\n  /** Returns the currently active item. */\n  get activeItem(): T {\n    return this._activeItem;\n  }\n\n  /** Sets the active item to the first enabled item in the list. */\n  setFirstItemActive(): void {\n    this._setActiveItemByIndex(0, 1);\n  }\n\n  /** Sets the active item to the last enabled item in the list. */\n  setLastItemActive(): void {\n    this._setActiveItemByIndex(this._items.length - 1, -1);\n  }\n\n  /** Sets the active item to the next enabled item in the list. */\n  setNextItemActive(): void {\n    this._activeItemIndex === null ? this.setFirstItemActive() : this._setActiveItemByDelta(1);\n  }\n\n  /** Sets the active item to a previous enabled item in the list. */\n  setPreviousItemActive(): void {\n    this._activeItemIndex === null && this._wrap ? this.setLastItemActive()\n                                                 : this._setActiveItemByDelta(-1);\n  }\n\n  /**\n   * Allows setting of the activeItemIndex without any other effects.\n   * @param index The new activeItemIndex.\n   */\n  updateActiveItemIndex(index: number) {\n    this._activeItemIndex = index;\n  }\n\n  /**\n   * Observable that emits any time the TAB key is pressed, so components can react\n   * when focus is shifted off of the list.\n   */\n  get tabOut(): Observable<void> {\n    return this._tabOut.asObservable();\n  }\n\n  /**\n   * This method sets the active item, given a list of items and the delta between the\n   * currently active item and the new active item. It will calculate differently\n   * depending on whether wrap mode is turned on.\n   */\n  private _setActiveItemByDelta(delta: number, items = this._items.toArray()): void {\n    this._wrap ? this._setActiveInWrapMode(delta, items)\n               : this._setActiveInDefaultMode(delta, items);\n  }\n\n  /**\n   * Sets the active item properly given \"wrap\" mode. In other words, it will continue to move\n   * down the list until it finds an item that is not disabled, and it will wrap if it\n   * encounters either end of the list.\n   */\n  private _setActiveInWrapMode(delta: number, items: T[]): void {\n    // when active item would leave menu, wrap to beginning or end\n    this._activeItemIndex =\n      (this._activeItemIndex + delta + items.length) % items.length;\n\n    // skip all disabled menu items recursively until an enabled one is reached\n    if (items[this._activeItemIndex].disabled) {\n      this._setActiveInWrapMode(delta, items);\n    } else {\n      this.setActiveItem(this._activeItemIndex);\n    }\n  }\n\n  /**\n   * Sets the active item properly given the default mode. In other words, it will\n   * continue to move down the list until it finds an item that is not disabled. If\n   * it encounters either end of the list, it will stop and not wrap.\n   */\n  private _setActiveInDefaultMode(delta: number, items: T[]): void {\n    this._setActiveItemByIndex(this._activeItemIndex + delta, delta, items);\n  }\n\n  /**\n   * Sets the active item to the first enabled item starting at the index specified. If the\n   * item is disabled, it will move in the fallbackDelta direction until it either\n   * finds an enabled item or encounters the end of the list.\n   */\n  private _setActiveItemByIndex(index: number, fallbackDelta: number,\n                                  items = this._items.toArray()): void {\n    if (!items[index]) { return; }\n    while (items[index].disabled) {\n      index += fallbackDelta;\n      if (!items[index]) { return; }\n    }\n    this.setActiveItem(index);\n  }\n\n}\n","\nimport {QueryList} from '@angular/core';\nimport {ListKeyManager, CanDisable} from './list-key-manager';\n\n/**\n * This is the interface for focusable items (used by the FocusKeyManager).\n * Each item must know how to focus itself and whether or not it is currently disabled.\n */\nexport interface Focusable extends CanDisable {\n  focus(): void;\n}\n\n\nexport class FocusKeyManager extends ListKeyManager<Focusable> {\n\n  constructor(items: QueryList<Focusable>) {\n    super(items);\n  }\n\n  /**\n   * This method sets the active item to the item at the specified index.\n   * It also adds focuses the newly active item.\n   */\n  setActiveItem(index: number): void {\n    super.setActiveItem(index);\n\n    if (this.activeItem) {\n      this.activeItem.focus();\n    }\n  }\n\n}\n","import {\n  animate,\n  AnimationTriggerMetadata,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\n/**\n * The following are all the animations for the md2-select component, with each\n * const containing the metadata for one animation.\n *\n * The values below match the implementation of the AngularJS Material md2-select animation.\n */\n\n/**\n * This animation shrinks the placeholder text to 75% of its normal size and translates\n * it to either the top left corner (ltr) or top right corner (rtl) of the trigger,\n * depending on the text direction of the application.\n */\nexport const transformPlaceholder: AnimationTriggerMetadata = trigger('transformPlaceholder', [\n  state('floating-ltr', style({\n    top: '-22px',\n    left: '-2px',\n    transform: `scale(0.75)`\n  })),\n  state('floating-rtl', style({\n    top: '-22px',\n    left: '2px',\n    transform: `scale(0.75)`\n  })),\n  transition('* => *', animate(`400ms cubic-bezier(0.25, 0.8, 0.25, 1)`))\n]);\n\n/**\n * This animation transforms the select's overlay panel on and off the page.\n *\n * When the panel is attached to the DOM, it expands its width 32px, scales it up to\n * 100% on the Y axis, fades in its border, and translates slightly up and to the\n * side to ensure the option text correctly overlaps the trigger text.\n *\n * When the panel is removed from the DOM, it simply fades out linearly.\n */\nexport const transformPanel: AnimationTriggerMetadata = trigger('transformPanel', [\n  state('showing', style({\n    opacity: 1,\n    minWidth: 'calc(100% + 32px)',\n    transform: `scaleY(1)`\n  })),\n  transition('void => *', [\n    style({\n      opacity: 0,\n      minWidth: '100%',\n      transform: `scaleY(0)`\n    }),\n    animate(`150ms cubic-bezier(0.25, 0.8, 0.25, 1)`)\n  ]),\n  transition('* => void', [\n    animate('250ms 100ms linear', style({opacity: 0}))\n  ])\n]);\n\n/**\n * This animation fades in the background color and text content of the\n * select's options. It is time delayed to occur 100ms after the overlay\n * panel has transformed in.\n */\nexport const fadeInContent: AnimationTriggerMetadata  =  trigger('fadeInContent', [\n  state('showing', style({opacity: 1})),\n  transition('void => showing', [\n    style({opacity: 0}),\n    animate(`150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)`)\n  ])\n]);\n","/**\n * Returns an exception to be thrown when attempting to change a s\n * elect's `multiple` option after initialization.\n * @docs-private\n */\nexport function getMdSelectDynamicMultipleError(): Error {\n  return new Error('Cannot change `multiple` mode of select after initialization.');\n}\n\n/**\n * Returns an exception to be thrown when attempting to assign a non-array value to a select\n * in `multiple` mode. Note that `undefined` and `null` are still valid values to allow for\n * resetting the value.\n * @docs-private\n */\nexport function getMdSelectNonArrayValueError(): Error {\n  return new Error('Cannot assign truthy non-array value to select in `multiple` mode.');\n}\n","import {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  QueryList,\n  Renderer2,\n  Self,\n  ViewEncapsulation,\n  ViewChild,\n  ChangeDetectorRef,\n  Attribute,\n  OnInit,\n} from '@angular/core';\nimport { Md2Option, Md2OptionSelectionChange } from './option';\nimport { Md2Optgroup } from './optgroup';\nimport { ENTER, SPACE, UP_ARROW, DOWN_ARROW, HOME, END } from '../core/keyboard/keycodes';\nimport { FocusKeyManager } from '../core/a11y/focus-key-manager';\nimport { Dir } from '../core/rtl/dir';\nimport { Observable, merge, Subscription } from 'rxjs';\nimport { transformPlaceholder, transformPanel, fadeInContent } from './select-animations';\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\nimport { coerceBooleanProperty } from '../core/coercion/boolean-property';\nimport { ConnectedOverlayDirective } from '../core/overlay/overlay-directives';\nimport { ViewportRuler } from '../core/overlay/position/viewport-ruler';\nimport { SelectionModel } from '../core/selection/selection';\nimport { getMdSelectDynamicMultipleError, getMdSelectNonArrayValueError } from './select-errors';\nimport { startWith, filter } from 'rxjs/operators';\n\n/**\n * The following style constants are necessary to save here in order\n * to properly calculate the alignment of the selected option over\n * the trigger element.\n */\n\n/** The fixed height of every option element (option, group header etc.). */\nexport const SELECT_ITEM_HEIGHT = 48;\n\n/** The max height of the select's overlay panel */\nexport const SELECT_PANEL_MAX_HEIGHT = 256;\n\n/** The max number of options visible at once in the select panel. */\nexport const SELECT_MAX_OPTIONS_DISPLAYED =\n  Math.floor(SELECT_PANEL_MAX_HEIGHT / SELECT_ITEM_HEIGHT);\n\n/** The fixed height of the select's trigger element. */\nexport const SELECT_TRIGGER_HEIGHT = 30;\n\n/**\n * Must adjust for the difference in height between the option and the trigger,\n * so the text will align on the y axis.\n */\nexport const SELECT_ITEM_HEIGHT_ADJUSTMENT = (SELECT_ITEM_HEIGHT - SELECT_TRIGGER_HEIGHT) / 2;\n\n/** The panel's padding on the x-axis */\nexport const SELECT_PANEL_PADDING_X = 16;\n\n/** The panel's x axis padding if it is indented (e.g. there is an option group). */\nexport const SELECT_PANEL_INDENT_PADDING_X = SELECT_PANEL_PADDING_X * 2;\n\n/**\n * Distance between the panel edge and the option text in\n * multi-selection mode.\n *\n * (SELECT_PADDING * 1.75) + 20 = 48\n * The padding is multiplied by 1.75 because the checkbox's margin is half the padding, and\n * the browser adds ~4px, because we're using inline elements.\n * The checkbox width is 20px.\n */\nexport const SELECT_MULTIPLE_PANEL_PADDING_X = SELECT_PANEL_PADDING_X * 1.25 + 20;\n\n/**\n * The panel's padding on the y-axis. This padding indicates there are more\n * options available if you scroll.\n */\nexport const SELECT_PANEL_PADDING_Y = 16;\n\n/**\n * The select panel will only \"fit\" inside the viewport if it is positioned at\n * this value or more away from the viewport boundary.\n */\nexport const SELECT_PANEL_VIEWPORT_PADDING = 8;\n\n/** Change event object that is emitted when the select value has changed. */\nexport class Md2SelectChange {\n  constructor(public source: Md2Select, public value: any) { }\n}\n\n/** Allowed values for the floatPlaceholder option. */\nexport type Md2SelectFloatPlaceholderType = 'always' | 'never' | 'auto';\n\n@Component({\n  \n  selector: 'md2-select',\n  templateUrl: 'select.html',\n  styleUrls: ['select.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    'role': 'listbox',\n    '[attr.tabindex]': 'tabIndex',\n    '[attr.aria-label]': '_ariaLabel',\n    '[attr.aria-labelledby]': 'ariaLabelledby',\n    '[attr.aria-required]': 'required.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-invalid]': '_control?.invalid || \"false\"',\n    '[attr.aria-owns]': '_optionIds',\n    '[class.md2-select-disabled]': 'disabled',\n    '[class.md2-select]': 'true',\n    '(keydown)': '_handleClosedKeydown($event)',\n    '(blur)': '_onBlur()',\n  },\n  animations: [\n    transformPlaceholder,\n    transformPanel,\n    fadeInContent\n  ],\n  exportAs: 'md2Select',\n})\nexport class Md2Select implements AfterContentInit, OnDestroy, OnInit, ControlValueAccessor {\n  /** Whether or not the overlay panel is open. */\n  private _panelOpen = false;\n\n  /** Subscriptions to option events. */\n  private _optionSubscription: Subscription;\n\n  /** Subscription to changes in the option list. */\n  private _changeSubscription: Subscription;\n\n  /** Subscription to tab events while overlay is focused. */\n  private _tabSubscription: Subscription;\n\n  /** Whether filling out the select is required in the form.  */\n  private _required: boolean = false;\n\n  /** Whether the select is disabled.  */\n  private _disabled: boolean = false;\n\n  /** The scroll position of the overlay panel, calculated to center the selected option. */\n  private _scrollTop = 0;\n\n  /** The placeholder displayed in the trigger of the select. */\n  private _placeholder: string;\n\n  /** Whether the component is in multiple selection mode. */\n  private _multiple: boolean = false;\n\n  /** Deals with the selection logic. */\n  _selectionModel: SelectionModel<Md2Option>;\n\n  /** The animation state of the placeholder. */\n  private _placeholderState = '';\n\n  /** Tab index for the element. */\n  private _tabIndex: number;\n\n  /** Theme color for the component. */\n  private _color: string;\n\n  /**\n   * The width of the trigger. Must be saved to set the min width of the overlay panel\n   * and the width of the selected value.\n   */\n  _triggerWidth: number;\n\n  /** Manages keyboard events for options in the panel. */\n  _keyManager: FocusKeyManager;\n\n  /**\n   * The width of the selected option's value. Must be set programmatically\n   * to ensure its overflow is clipped, as it's absolutely positioned.\n   */\n  _selectedValueWidth: number;\n\n  /** View -> model callback called when value changes */\n  _onChange: (value: any) => void = () => { };\n\n  /** View -> model callback called when select has been touched */\n  _onTouched = () => { };\n\n  /** The IDs of child options to be passed to the aria-owns attribute. */\n  _optionIds: string = '';\n\n  /** The value of the select panel's transform-origin property. */\n  _transformOrigin: string = 'top';\n\n  /** Whether the panel's animation is done. */\n  _panelDoneAnimating: boolean = false;\n\n  /**\n   * The y-offset of the overlay panel in relation to the trigger's top start corner.\n   * This must be adjusted to align the selected option text over the trigger text.\n   * when the panel opens. Will change based on the y-position of the selected option.\n   */\n  _offsetY = 0;\n\n  /**\n   * This position config ensures that the top \"start\" corner of the overlay\n   * is aligned with with the top \"start\" of the origin by default (overlapping\n   * the trigger completely). If the panel cannot fit below the trigger, it\n   * will fall back to a position above the trigger.\n   */\n  _positions = [\n    {\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'top',\n    },\n    {\n      originX: 'start',\n      originY: 'bottom',\n      overlayX: 'start',\n      overlayY: 'bottom',\n    },\n  ];\n\n  /** Trigger that opens the select. */\n  @ViewChild('trigger') trigger: ElementRef;\n\n  /** Overlay pane containing the options. */\n  @ViewChild(ConnectedOverlayDirective) overlayDir: ConnectedOverlayDirective;\n\n  /** All of the defined select options. */\n  @ContentChildren(Md2Option, { descendants: true }) options: QueryList<Md2Option>;\n\n  /** All of the defined groups of options. */\n  @ContentChildren(Md2Optgroup) optionGroups: QueryList<Md2Optgroup>;\n\n  /** Placeholder to be shown if no value has been selected. */\n  @Input()\n  get placeholder() { return this._placeholder; }\n  set placeholder(value: string) {\n    this._placeholder = value;\n\n    // Must wait to record the trigger width to ensure placeholder width is included.\n    Promise.resolve(null).then(() => this._setTriggerWidth());\n  }\n\n  /** Whether the component is disabled. */\n  @Input()\n  get disabled() { return this._disabled; }\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n\n  /** Whether the component is required. */\n  @Input()\n  get required() { return this._required; }\n  set required(value: any) { this._required = coerceBooleanProperty(value); }\n\n  /** Whether the user should be allowed to select multiple options. */\n  @Input()\n  get multiple(): boolean { return this._multiple; }\n  set multiple(value: boolean) {\n    if (this._selectionModel) {\n      throw getMdSelectDynamicMultipleError();\n    }\n\n    this._multiple = coerceBooleanProperty(value);\n  }\n\n  /** Whether to float the placeholder text. */\n  @Input()\n  get floatPlaceholder(): Md2SelectFloatPlaceholderType { return this._floatPlaceholder; }\n  set floatPlaceholder(value: Md2SelectFloatPlaceholderType) {\n    this._floatPlaceholder = value || 'auto';\n  }\n  private _floatPlaceholder: Md2SelectFloatPlaceholderType = 'auto';\n\n  /** Tab index for the select element. */\n  @Input()\n  get tabIndex(): number { return this._disabled ? -1 : this._tabIndex; }\n  set tabIndex(value: number) {\n    if (typeof value !== 'undefined') {\n      this._tabIndex = value;\n    }\n  }\n\n  /** Aria label of the select. If not specified, the placeholder will be used as label. */\n  @Input('aria-label') ariaLabel: string = '';\n\n  /** Input that can be used to specify the `aria-labelledby` attribute. */\n  @Input('aria-labelledby') ariaLabelledby: string = '';\n\n  /** Combined stream of all of the child options' change events. */\n  get optionSelectionChanges(): Observable<Md2OptionSelectionChange> {\n    return merge(...this.options.map(option => option.onSelectionChange));\n  }\n\n  /** Event emitted when the select has been opened. */\n  @Output() onOpen: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the select has been closed. */\n  @Output() onClose: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the selected value has been changed by the user. */\n  @Output() change: EventEmitter<Md2SelectChange> = new EventEmitter<Md2SelectChange>();\n\n  constructor(private _element: ElementRef, private _renderer: Renderer2,\n    private _viewportRuler: ViewportRuler, private _changeDetectorRef: ChangeDetectorRef,\n    @Optional() private _dir: Dir, @Self() @Optional() public _control: NgControl,\n    @Attribute('tabindex') tabIndex: string) {\n\n    if (this._control) {\n      this._control.valueAccessor = this;\n    }\n\n    this._tabIndex = parseInt(tabIndex) || 0;\n  }\n\n  ngOnInit() {\n    this._selectionModel = new SelectionModel<Md2Option>(this.multiple, null, false);\n  }\n\n  ngAfterContentInit() {\n    this._initKeyManager();\n\n    this._changeSubscription = this.options.changes.pipe(startWith(null)).subscribe(() => {\n      this._resetOptions();\n\n      if (this._control) {\n        // Defer setting the value in order to avoid the \"Expression\n        // has changed after it was checked\" errors from Angular.\n        Promise.resolve(null).then(() => this._setSelectionByValue(this._control.value));\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this._dropSubscriptions();\n\n    if (this._changeSubscription) {\n      this._changeSubscription.unsubscribe();\n    }\n\n    if (this._tabSubscription) {\n      this._tabSubscription.unsubscribe();\n    }\n  }\n\n  /** Toggles the overlay panel open or closed. */\n  toggle(): void {\n    this.panelOpen ? this.close() : this.open();\n  }\n\n  /** Opens the overlay panel. */\n  open(): void {\n    if (this.disabled || !this.options.length) {\n      return;\n    }\n\n    if (!this._triggerWidth) {\n      this._setTriggerWidth();\n    }\n\n    this._calculateOverlayPosition();\n    this._placeholderState = this._floatPlaceholderState();\n    this._panelOpen = true;\n  }\n\n  /** Closes the overlay panel and focuses the host element. */\n  close(): void {\n    if (this._panelOpen) {\n      this._panelOpen = false;\n\n      if (this._selectionModel.isEmpty()) {\n        this._placeholderState = '';\n      }\n\n      this._focusHost();\n    }\n  }\n\n  /**\n   * Sets the select's value. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param value New value to be written to the model.\n   */\n  writeValue(value: any): void {\n    if (this.options) {\n      this._setSelectionByValue(value);\n    }\n  }\n\n  /**\n   * Saves a callback function to be invoked when the select's value\n   * changes from user input. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the value changes.\n   */\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChange = fn;\n  }\n\n  /**\n   * Saves a callback function to be invoked when the select is blurred\n   * by the user. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the component has been touched.\n   */\n  registerOnTouched(fn: () => {}): void {\n    this._onTouched = fn;\n  }\n\n  /**\n   * Disables the select. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param isDisabled Sets whether the component is disabled.\n   */\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  /** Whether or not the overlay panel is open. */\n  get panelOpen(): boolean {\n    return this._panelOpen;\n  }\n\n  /** The currently selected option. */\n  get selected(): Md2Option | Md2Option[] {\n    return this.multiple ? this._selectionModel.selected : this._selectionModel.selected[0];\n  }\n\n  /** The value displayed in the trigger. */\n  get triggerValue(): string {\n    if (this._multiple) {\n      let selectedOptions = this._selectionModel.selected.map(option => option.viewValue);\n\n      if (this._isRtl()) {\n        selectedOptions.reverse();\n      }\n\n      // TODO(crisbeto): delimiter should be configurable for proper localization.\n      return selectedOptions.join(', ');\n    }\n\n    return this._selectionModel.selected[0].viewValue;\n  }\n\n  /** Whether the element is in RTL mode. */\n  _isRtl(): boolean {\n    return this._dir ? this._dir.value === 'rtl' : false;\n  }\n\n  /**\n   * Sets the width of the trigger element. This is necessary to match\n   * the overlay width to the trigger width.\n   */\n  private _setTriggerWidth(): void {\n    this._triggerWidth = this._getTriggerRect().width;\n  }\n\n  /** Handles the keyboard interactions of a closed select. */\n  _handleClosedKeydown(event: KeyboardEvent): void {\n    if (!this.disabled) {\n      if (event.keyCode === ENTER || event.keyCode === SPACE) {\n        event.preventDefault(); // prevents the page from scrolling down when pressing space\n        this.open();\n      } else if (event.keyCode === UP_ARROW || event.keyCode === DOWN_ARROW) {\n        this._handleArrowKey(event);\n      }\n    }\n  }\n\n  /** Handles keypresses inside the panel. */\n  _handlePanelKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === HOME || event.keyCode === END) {\n      event.preventDefault();\n      event.keyCode === HOME ? this._keyManager.setFirstItemActive() :\n        this._keyManager.setLastItemActive();\n    } else {\n      this._keyManager.onKeydown(event);\n    }\n  }\n\n  /**\n   * When the panel element is finished transforming in (though not fading in), it\n   * emits an event and focuses an option if the panel is open.\n   */\n  _onPanelDone(): void {\n    if (this.panelOpen) {\n      this._focusCorrectOption();\n      this.onOpen.emit();\n    } else {\n      this.onClose.emit();\n      this._panelDoneAnimating = false;\n      this.overlayDir.offsetX = 0;\n    }\n  }\n\n  /**\n   * When the panel content is done fading in, the _panelDoneAnimating property is\n   * set so the proper class can be added to the panel.\n   */\n  _onFadeInDone(): void {\n    this._panelDoneAnimating = this.panelOpen;\n  }\n\n  /**\n   * Calls the touched callback only if the panel is closed. Otherwise, the trigger will\n   * \"blur\" to the panel when it opens, causing a false positive.\n   */\n  _onBlur() {\n    if (!this.panelOpen) {\n      this._onTouched();\n    }\n  }\n\n  /**\n   * Callback that is invoked when the overlay panel has been attached.\n   */\n  _onAttached(): void {\n    this._calculateOverlayOffsetX();\n    this._setScrollTop();\n  }\n\n  /**\n   * Sets the scroll position of the scroll container. This must be called after\n   * the overlay pane is attached or the scroll container element will not yet be\n   * present in the DOM.\n   */\n  private _setScrollTop(): void {\n    const scrollContainer =\n      this.overlayDir.overlayRef.overlayElement.querySelector('.md2-select-panel');\n    scrollContainer.scrollTop = this._scrollTop;\n  }\n\n  /**\n   * Sets the selected option based on a value. If no option can be\n   * found with the designated value, the select trigger is cleared.\n   */\n  private _setSelectionByValue(value: any | any[]): void {\n    const isArray = Array.isArray(value);\n\n    if (this.multiple && value && !isArray) {\n      throw getMdSelectNonArrayValueError();\n    }\n\n    this._clearSelection();\n\n    if (isArray) {\n      value.forEach((currentValue: any) => this._selectValue(currentValue));\n      this._sortValues();\n    } else {\n      this._selectValue(value);\n    }\n\n    this._setValueWidth();\n\n    if (this._selectionModel.isEmpty()) {\n      this._placeholderState = '';\n    }\n\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Finds and selects and option based on its value.\n   * @returns Option that has the corresponding value.\n   */\n  private _selectValue(value: any): Md2Option {\n    let optionsArray = this.options.toArray();\n    let correspondingOption = optionsArray.find(option => option.value != null\n      && option.value != undefined && this.equals(option.value, value));\n\n    if (correspondingOption) {\n      correspondingOption.select();\n      this._selectionModel.select(correspondingOption);\n      this._keyManager.setActiveItem(optionsArray.indexOf(correspondingOption));\n    }\n\n    return correspondingOption;\n  }\n\n  /**\n   * Compare two vars or objects\n   * @param o1 compare first object\n   * @param o2 compare second object\n   * @return boolean comparation result\n   */\n  private equals(o1: any, o2: any) {\n    if (o1 === o2) { return true; }\n    if (o1 === null || o2 === null) { return false; }\n    if (o1 !== o1 && o2 !== o2) { return true; }\n    let t1 = typeof o1, t2 = typeof o2, key: any, keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      keySet = Object.create(null);\n      for (key in o1) {\n        if (!this.equals(o1[key], o2[key])) { return false; }\n        keySet[key] = true;\n      }\n      for (key in o2) {\n        if (!(key in keySet) && key.charAt(0) !== '$' && o2[key]) { return false; }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Clears the select trigger and deselects every option in the list.\n   * @param skip Option that should not be deselected.\n   */\n  private _clearSelection(skip?: Md2Option): void {\n    this._selectionModel.clear();\n    this.options.forEach(option => {\n      if (option !== skip) {\n        option.deselect();\n      }\n    });\n  }\n\n  private _getTriggerRect(): ClientRect {\n    return this.trigger.nativeElement.getBoundingClientRect();\n  }\n\n  /** Sets up a key manager to listen to keyboard events on the overlay panel. */\n  private _initKeyManager() {\n    this._keyManager = new FocusKeyManager(this.options);\n    this._tabSubscription = this._keyManager.tabOut.subscribe(() => this.close());\n  }\n\n  /** Drops current option subscriptions and IDs and resets from scratch. */\n  private _resetOptions(): void {\n    this._dropSubscriptions();\n    this._listenToOptions();\n    this._setOptionIds();\n    this._setOptionMultiple();\n  }\n\n  /** Listens to user-generated selection events on each option. */\n  private _listenToOptions(): void {\n    this._optionSubscription = this.optionSelectionChanges\n      .pipe(filter(event => event.isUserInput))\n      .subscribe(event => {\n        this._onSelect(event.source);\n        this._setValueWidth();\n\n        if (!this.multiple) {\n          this.close();\n        }\n      });\n  }\n\n  /** Invoked when an option is clicked. */\n  private _onSelect(option: Md2Option): void {\n    const wasSelected = this._selectionModel.isSelected(option);\n\n    if (this.multiple) {\n      this._selectionModel.toggle(option);\n      wasSelected ? option.deselect() : option.select();\n      this._sortValues();\n    } else {\n      this._clearSelection(option.value == null ? null : option);\n\n      if (option.value == null) {\n        this._propagateChanges(option.value);\n      } else {\n        this._selectionModel.select(option);\n      }\n    }\n\n    if (wasSelected !== this._selectionModel.isSelected(option)) {\n      this._propagateChanges();\n    }\n  }\n\n  /**\n   * Sorts the model values, ensuring that they keep the same\n   * order that they have in the panel.\n   */\n  private _sortValues(): void {\n    if (this._multiple) {\n      this._selectionModel.clear();\n\n      this.options.forEach(option => {\n        if (option.selected) {\n          this._selectionModel.select(option);\n        }\n      });\n    }\n  }\n\n  /** Unsubscribes from all option subscriptions. */\n  private _dropSubscriptions(): void {\n    if (this._optionSubscription) {\n      this._optionSubscription.unsubscribe();\n      this._optionSubscription = null;\n    }\n  }\n\n  /** Emits change event to set the model value. */\n  private _propagateChanges(fallbackValue?: any): void {\n    let valueToEmit = null;\n\n    if (Array.isArray(this.selected)) {\n      valueToEmit = this.selected.map(option => option.value);\n    } else {\n      valueToEmit = this.selected ? this.selected.value : fallbackValue;\n    }\n\n    this._onChange(valueToEmit);\n    this.change.emit(new Md2SelectChange(this, valueToEmit));\n  }\n\n  /** Records option IDs to pass to the aria-owns property. */\n  private _setOptionIds() {\n    this._optionIds = this.options.map(option => option.id).join(' ');\n  }\n\n  /**\n   * Sets the `multiple` property on each option. The promise is necessary\n   * in order to avoid Angular errors when modifying the property after init.\n   */\n  private _setOptionMultiple() {\n    if (this.multiple) {\n      Promise.resolve(null).then(() => {\n        this.options.forEach(option => option.multiple = this.multiple);\n      });\n    }\n  }\n\n  /**\n   * Must set the width of the selected option's value programmatically\n   * because it is absolutely positioned and otherwise will not clip\n   * overflow. The selection arrow is 9px wide, add 4px of padding = 13\n   */\n  private _setValueWidth() {\n    this._selectedValueWidth = this._triggerWidth - 13;\n  }\n\n  /**\n   * Focuses the selected item. If no option is selected, it will focus\n   * the first item instead.\n   */\n  private _focusCorrectOption(): void {\n    if (this._selectionModel.isEmpty()) {\n      this._keyManager.setFirstItemActive();\n    } else {\n      this._keyManager.setActiveItem(this._getOptionIndex(this._selectionModel.selected[0]));\n    }\n  }\n\n  /** Focuses the host element when the panel closes. */\n  private _focusHost(): void {\n    this._element.nativeElement.focus();\n  }\n\n  /** Gets the index of the provided option in the option list. */\n  private _getOptionIndex(option: Md2Option): number {\n    return this.options.reduce((result: number, current: Md2Option, index: number) => {\n      return result === undefined ? (option === current ? index : undefined) : result;\n    }, undefined);\n  }\n\n  /** Calculates the scroll position and x- and y-offsets of the overlay panel. */\n  private _calculateOverlayPosition(): void {\n    const items = this._getItemCount();\n    const panelHeight = Math.min(items * SELECT_ITEM_HEIGHT, SELECT_PANEL_MAX_HEIGHT);\n    const scrollContainerHeight = items * SELECT_ITEM_HEIGHT;\n\n    // The farthest the panel can be scrolled before it hits the bottom\n    const maxScroll = scrollContainerHeight - panelHeight;\n\n    if (this._selectionModel.hasValue()) {\n      let selectedIndex = this._getOptionIndex(this._selectionModel.selected[0]);\n\n      selectedIndex += this._getLabelCountBeforeOption(selectedIndex);\n\n      // We must maintain a scroll buffer so the selected option will be scrolled to the\n      // center of the overlay panel rather than the top.\n      const scrollBuffer = panelHeight / 2;\n      this._scrollTop = this._calculateOverlayScroll(selectedIndex, scrollBuffer, maxScroll);\n      this._offsetY = this._calculateOverlayOffsetY(selectedIndex, scrollBuffer, maxScroll);\n    } else {\n      // If no option is selected, the panel centers on the first option. In this case,\n      // we must only adjust for the height difference between the option element\n      // and the trigger element, then multiply it by -1 to ensure the panel moves\n      // in the correct direction up the page.\n      this._offsetY = (SELECT_ITEM_HEIGHT - SELECT_TRIGGER_HEIGHT) / 2 * -1;\n    }\n\n    this._checkOverlayWithinViewport(maxScroll);\n  }\n\n  /**\n   * Calculates the scroll position of the select's overlay panel.\n   *\n   * Attempts to center the selected option in the panel. If the option is\n   * too high or too low in the panel to be scrolled to the center, it clamps the\n   * scroll position to the min or max scroll positions respectively.\n   */\n  _calculateOverlayScroll(selectedIndex: number, scrollBuffer: number,\n    maxScroll: number): number {\n    const optionOffsetFromScrollTop = SELECT_ITEM_HEIGHT * selectedIndex;\n    const halfOptionHeight = SELECT_ITEM_HEIGHT / 2;\n\n    // Starts at the optionOffsetFromScrollTop, which scrolls the option to the top of the\n    // scroll container, then subtracts the scroll buffer to scroll the option down to\n    // the center of the overlay panel. Half the option height must be re-added to the\n    // scrollTop so the option is centered based on its middle, not its top edge.\n    const optimalScrollPosition = optionOffsetFromScrollTop - scrollBuffer + halfOptionHeight;\n    return clampValue(0, optimalScrollPosition, maxScroll);\n  }\n\n  /**\n   * Figures out the appropriate animation state for the placeholder.\n   */\n  _getPlaceholderAnimationState(): string {\n    if (this.floatPlaceholder === 'never') {\n      return '';\n    }\n\n    if (this.floatPlaceholder === 'always') {\n      return this._floatPlaceholderState();\n    }\n\n    return this._placeholderState;\n  }\n\n  /**\n   * Determines the CSS `opacity` of the placeholder element.\n   */\n  _getPlaceholderOpacity(): string {\n    return (this.floatPlaceholder !== 'never' || this._selectionModel.isEmpty()) ?\n      '1' : '0';\n  }\n\n  /** Returns the aria-label of the select component. */\n  get _ariaLabel(): string {\n    // If an ariaLabelledby value has been set, the select should not overwrite the\n    // `aria-labelledby` value by setting the ariaLabel to the placeholder.\n    return this.ariaLabelledby ? null : this.ariaLabel || this.placeholder;\n  }\n\n  /**\n   * Sets the x-offset of the overlay panel in relation to the trigger's top start corner.\n   * This must be adjusted to align the selected option text over the trigger text when\n   * the panel opens. Will change based on LTR or RTL text direction. Note that the offset\n   * can't be calculated until the panel has been attached, because we need to know the\n   * content width in order to constrain the panel within the viewport.\n   */\n  private _calculateOverlayOffsetX(): void {\n    const overlayRect = this.overlayDir.overlayRef.overlayElement.getBoundingClientRect();\n    const viewportRect = this._viewportRuler.getViewportRect();\n    const isRtl = this._isRtl();\n    let offsetX: number;\n\n    // Adjust the offset, depending on the option padding.\n    if (this.multiple) {\n      offsetX = SELECT_MULTIPLE_PANEL_PADDING_X;\n    } else {\n      let selected = this._selectionModel.selected[0];\n      offsetX = selected && selected.group ? SELECT_PANEL_INDENT_PADDING_X : SELECT_PANEL_PADDING_X;\n    }\n\n    // Invert the offset in LTR.\n    if (!isRtl) {\n      offsetX *= -1;\n    }\n\n    // Determine how much the select overflows on each side.\n    const leftOverflow = 0 - (overlayRect.left + offsetX\n      - (isRtl ? SELECT_PANEL_PADDING_X * 2 : 0));\n    const rightOverflow = overlayRect.right + offsetX - viewportRect.width\n      + (isRtl ? 0 : SELECT_PANEL_PADDING_X * 2);\n\n    // If the element overflows on either side, reduce the offset to allow it to fit.\n    if (leftOverflow > 0) {\n      offsetX += leftOverflow + SELECT_PANEL_VIEWPORT_PADDING;\n    } else if (rightOverflow > 0) {\n      offsetX -= rightOverflow + SELECT_PANEL_VIEWPORT_PADDING;\n    }\n\n    // Set the offset directly in order to avoid having to go through change detection and\n    // potentially triggering \"changed after it was checked\" errors.\n    this.overlayDir.offsetX = offsetX;\n    this.overlayDir.overlayRef.updatePosition();\n  }\n\n  /**\n   * Calculates the y-offset of the select's overlay panel in relation to the\n   * top start corner of the trigger. It has to be adjusted in order for the\n   * selected option to be aligned over the trigger when the panel opens.\n   */\n  private _calculateOverlayOffsetY(selectedIndex: number, scrollBuffer: number,\n    maxScroll: number): number {\n    let optionOffsetFromPanelTop: number;\n\n    if (this._scrollTop === 0) {\n      optionOffsetFromPanelTop = selectedIndex * SELECT_ITEM_HEIGHT;\n    } else if (this._scrollTop === maxScroll) {\n      const firstDisplayedIndex = this._getItemCount() - SELECT_MAX_OPTIONS_DISPLAYED;\n      const selectedDisplayIndex = selectedIndex - firstDisplayedIndex;\n\n      // Because the panel height is longer than the height of the options alone,\n      // there is always extra padding at the top or bottom of the panel. When\n      // scrolled to the very bottom, this padding is at the top of the panel and\n      // must be added to the offset.\n      optionOffsetFromPanelTop =\n        selectedDisplayIndex * SELECT_ITEM_HEIGHT + SELECT_PANEL_PADDING_Y;\n    } else {\n      // If the option was scrolled to the middle of the panel using a scroll buffer,\n      // its offset will be the scroll buffer minus the half height that was added to\n      // center it.\n      optionOffsetFromPanelTop = scrollBuffer - SELECT_ITEM_HEIGHT / 2;\n    }\n\n    // The final offset is the option's offset from the top, adjusted for the height\n    // difference, multiplied by -1 to ensure that the overlay moves in the correct\n    // direction up the page.\n    return optionOffsetFromPanelTop * -1 - SELECT_ITEM_HEIGHT_ADJUSTMENT;\n  }\n\n  /**\n   * Checks that the attempted overlay position will fit within the viewport.\n   * If it will not fit, tries to adjust the scroll position and the associated\n   * y-offset so the panel can open fully on-screen. If it still won't fit,\n   * sets the offset back to 0 to allow the fallback position to take over.\n   */\n  private _checkOverlayWithinViewport(maxScroll: number): void {\n    const viewportRect = this._viewportRuler.getViewportRect();\n    const triggerRect = this._getTriggerRect();\n\n    const topSpaceAvailable = triggerRect.top - SELECT_PANEL_VIEWPORT_PADDING;\n    const bottomSpaceAvailable =\n      viewportRect.height - triggerRect.bottom - SELECT_PANEL_VIEWPORT_PADDING;\n\n    const panelHeightTop = Math.abs(this._offsetY);\n    const totalPanelHeight =\n      Math.min(this._getItemCount() * SELECT_ITEM_HEIGHT, SELECT_PANEL_MAX_HEIGHT);\n    const panelHeightBottom = totalPanelHeight - panelHeightTop - triggerRect.height;\n\n    if (panelHeightBottom > bottomSpaceAvailable) {\n      this._adjustPanelUp(panelHeightBottom, bottomSpaceAvailable);\n    } else if (panelHeightTop > topSpaceAvailable) {\n      this._adjustPanelDown(panelHeightTop, topSpaceAvailable, maxScroll);\n    } else {\n      this._transformOrigin = this._getOriginBasedOnOption();\n    }\n  }\n\n  /** Adjusts the overlay panel up to fit in the viewport. */\n  private _adjustPanelUp(panelHeightBottom: number, bottomSpaceAvailable: number) {\n    const distanceBelowViewport = panelHeightBottom - bottomSpaceAvailable;\n\n    // Scrolls the panel up by the distance it was extending past the boundary, then\n    // adjusts the offset by that amount to move the panel up into the viewport.\n    this._scrollTop -= distanceBelowViewport;\n    this._offsetY -= distanceBelowViewport;\n    this._transformOrigin = this._getOriginBasedOnOption();\n\n    // If the panel is scrolled to the very top, it won't be able to fit the panel\n    // by scrolling, so set the offset to 0 to allow the fallback position to take\n    // effect.\n    if (this._scrollTop <= 0) {\n      this._scrollTop = 0;\n      this._offsetY = 0;\n      this._transformOrigin = `50% bottom 0px`;\n    }\n  }\n\n  /** Adjusts the overlay panel down to fit in the viewport. */\n  private _adjustPanelDown(panelHeightTop: number, topSpaceAvailable: number,\n    maxScroll: number) {\n    const distanceAboveViewport = panelHeightTop - topSpaceAvailable;\n\n    // Scrolls the panel down by the distance it was extending past the boundary, then\n    // adjusts the offset by that amount to move the panel down into the viewport.\n    this._scrollTop += distanceAboveViewport;\n    this._offsetY += distanceAboveViewport;\n    this._transformOrigin = this._getOriginBasedOnOption();\n\n    // If the panel is scrolled to the very bottom, it won't be able to fit the\n    // panel by scrolling, so set the offset to 0 to allow the fallback position\n    // to take effect.\n    if (this._scrollTop >= maxScroll) {\n      this._scrollTop = maxScroll;\n      this._offsetY = 0;\n      this._transformOrigin = `50% top 0px`;\n      return;\n    }\n  }\n\n  /** Sets the transform origin point based on the selected option. */\n  private _getOriginBasedOnOption(): string {\n    const originY =\n      Math.abs(this._offsetY) - SELECT_ITEM_HEIGHT_ADJUSTMENT + SELECT_ITEM_HEIGHT / 2;\n    return `50% ${originY}px 0px`;\n  }\n\n  /** Figures out the floating placeholder state value. */\n  private _floatPlaceholderState(): string {\n    return this._isRtl() ? 'floating-rtl' : 'floating-ltr';\n  }\n\n  /** Handles the user pressing the arrow keys on a closed select.  */\n  private _handleArrowKey(event: KeyboardEvent): void {\n    if (this._multiple) {\n      event.preventDefault();\n      this.open();\n    } else {\n      const prevActiveItem = this._keyManager.activeItem;\n\n      // Cycle though the select options even when the select is closed,\n      // matching the behavior of the native select element.\n      // TODO(crisbeto): native selects also cycle through the options with left/right arrows,\n      // however the key manager only supports up/down at the moment.\n      this._keyManager.onKeydown(event);\n\n      const currentActiveItem = this._keyManager.activeItem as Md2Option;\n\n      if (currentActiveItem !== prevActiveItem) {\n        this._clearSelection();\n        this._setSelectionByValue(currentActiveItem.value);\n        this._propagateChanges();\n      }\n    }\n  }\n\n  /** Calculates the amount of items in the select. This includes options and group labels. */\n  private _getItemCount(): number {\n    return this.options.length + this.optionGroups.length;\n  }\n\n  /**\n   * Calculates the amount of option group labels that precede the specified option.\n   * Useful when positioning the panel, because the labels will offset the index of the\n   * currently-selected option.\n   */\n  private _getLabelCountBeforeOption(optionIndex: number): number {\n    if (this.optionGroups.length) {\n      let options = this.options.toArray();\n      let groups = this.optionGroups.toArray();\n      let groupCounter = 0;\n\n      for (let i = 0; i < optionIndex + 1; i++) {\n        if (options[i].group && options[i].group === groups[groupCounter]) {\n          groupCounter++;\n        }\n      }\n\n      return groupCounter;\n    }\n\n    return 0;\n  }\n\n}\n\n/** Clamps a value n between min and max values. */\nfunction clampValue(min: number, n: number, max: number): number {\n  return Math.min(Math.max(min, n), max);\n}\n","import { Directive } from '@angular/core';\n\n\n/**\n * Fixed header that will be rendered above a select's options.\n */\n@Directive({\n  selector: 'md2-select-header',\n  host: {\n    'class': 'md2-select-header',\n  }\n})\nexport class Md2SelectHeader { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Md2Select } from './select';\nimport { Md2SelectHeader } from './select-header';\nimport { Md2OptionModule } from './option';\nimport { MdCommonModule, OverlayModule } from '../core/index';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OverlayModule,\n    Md2OptionModule,\n    MdCommonModule,\n  ],\n  exports: [Md2Select, Md2SelectHeader, Md2OptionModule, MdCommonModule],\n  declarations: [Md2Select, Md2SelectHeader],\n})\nexport class Md2SelectModule { }\n\n\nexport * from './select';\nexport * from './select-header';\nexport * from './option';\nexport * from './optgroup';\nexport { fadeInContent, transformPanel, transformPlaceholder } from './select-animations';\n","import {\n  Component,\n  Directive,\n  EventEmitter,\n  Input,\n  Output,\n  OnInit,\n  Optional,\n  DoCheck,\n  IterableDiffers,\n  IterableDiffer,\n  ViewEncapsulation,\n  NgModule,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Md2SelectModule } from '../select/index';\n\nexport class Md2PaginationChange {\n  source: Md2Pagination;\n  activePage: number;\n}\n\nexport interface SortEvent {\n  sortBy: string | string[];\n  sortOrder: string;\n}\n\nexport interface PageEvent {\n  activePage: number;\n  rowsPerPage: number;\n  dataLength: number;\n}\n\nexport interface DataEvent {\n  length: number;\n}\n\n@Directive({\n  selector: 'table[md2Data]',\n  exportAs: 'md2DataTable'\n})\nexport class Md2DataTable implements DoCheck {\n\n  private diff: IterableDiffer<any>;\n  private isDataChanged = false;\n  private _data: Array<any> = [];\n  private _activePage: number = 1;\n  private _rowsPerPage: number = 1000;\n  private _sortBy: string | Array<string> = '';\n  private _sortOrder: string = 'asc';\n\n  data: Array<any>;\n\n  @Input()\n  get md2Data() { return this._data; }\n  set md2Data(value: Array<any>) {\n    if (this._data !== value) {\n      this._data = value || [];\n      this.recalculatePage();\n      this.isDataChanged = true;\n    }\n  }\n\n  @Input()\n  get activePage() { return this._activePage; }\n  set activePage(value: number) {\n    if (this._activePage !== value) {\n      this._activePage = value;\n    }\n  }\n\n  @Input()\n  get rowsPerPage() { return this._rowsPerPage; }\n  set rowsPerPage(value: number) {\n    if (this._rowsPerPage !== value) {\n      this._rowsPerPage = value;\n      this.setPage(this.activePage, value);\n      this.isDataChanged = true;\n    }\n  }\n\n  @Input()\n  get sortBy() { return this._sortBy; }\n  set sortBy(value: string | Array<string>) {\n    if (this._sortBy !== value) {\n      this._sortBy = value;\n      if (value) {\n        this.onSortChange.next({ sortBy: this.sortBy, sortOrder: this.sortOrder });\n      }\n      this.isDataChanged = true;\n    }\n  }\n\n  @Input()\n  get sortOrder() { return this._sortOrder; }\n  set sortOrder(value: string) {\n    if (!(value === 'asc' || value === 'desc')) {\n      console.warn('sortOrder value must be one of [\"asc\", \"desc\"], but is:', value);\n      value = 'asc';\n    }\n    if (this._sortOrder !== value) {\n      this._sortOrder = value;\n      this.isDataChanged = true;\n    }\n  }\n\n  @Output() activePageChange = new EventEmitter<number>();\n  @Output() rowsPerPageChange = new EventEmitter<number>();\n  @Output() sortByChange = new EventEmitter<string | string[]>();\n  @Output() sortOrderChange = new EventEmitter<string>();\n\n  onSortChange = new EventEmitter<SortEvent>();\n  onPageChange = new EventEmitter<PageEvent>();\n\n  constructor(private differs: IterableDiffers) {\n    this.diff = differs.find([]).create(null);\n  }\n\n  ngDoCheck(): any {\n    let changes = this.diff.diff(this.md2Data);\n    if (changes) {\n      this.recalculatePage();\n      this.isDataChanged = true;\n    }\n    if (this.isDataChanged) {\n      this.fillData();\n      this.diff.diff(this.md2Data);\n      this.isDataChanged = false;\n    }\n  }\n\n  getSort(): SortEvent {\n    return { sortBy: this.sortBy, sortOrder: this.sortOrder };\n  }\n\n  setSort(sortBy: string | string[], sortOrder: string) {\n    if (this.sortBy !== sortBy || this.sortOrder !== sortOrder) {\n      this.sortBy = sortBy;\n      this.sortOrder = sortOrder;\n      this.isDataChanged = true;\n      this.onSortChange.next({ sortBy: sortBy, sortOrder: sortOrder });\n      this.sortByChange.emit(this.sortBy);\n      this.sortOrderChange.emit(this.sortOrder);\n    }\n  }\n\n  getPage(): PageEvent {\n    return {\n      activePage: this.activePage,\n      rowsPerPage: this.rowsPerPage,\n      dataLength: this.md2Data.length\n    };\n  }\n\n  setPage(activePage: number, rowsPerPage: number): void {\n    if (this.rowsPerPage !== rowsPerPage || this.activePage !== activePage) {\n      this.activePage = this.activePage !== activePage ?\n        activePage : this.calculateNewActivePage(this.rowsPerPage, rowsPerPage);\n      if (this.rowsPerPage !== rowsPerPage) {\n        this._rowsPerPage = rowsPerPage;\n        this.rowsPerPageChange.emit(this.rowsPerPage);\n      }\n      this.isDataChanged = true;\n      this.onPageChange.emit({\n        activePage: this.activePage,\n        rowsPerPage: this.rowsPerPage,\n        dataLength: this.md2Data ? this.md2Data.length : 0\n      });\n      this.activePageChange.emit(this.activePage);\n    }\n  }\n\n  private calculateNewActivePage(previousRowsPerPage: number, currentRowsPerPage: number): number {\n    let firstRowOnPage = (this.activePage - 1) * previousRowsPerPage + 1;\n    let newActivePage = Math.ceil(firstRowOnPage / currentRowsPerPage);\n    return newActivePage;\n  }\n\n  private recalculatePage() {\n    let lastPage = Math.ceil(this.md2Data.length / this.rowsPerPage);\n    if (lastPage < this.activePage) {\n      this._activePage = lastPage || 1;\n      setTimeout(() => {\n        this.activePageChange.emit(this.activePage);\n      }, 10);\n    } else { }\n\n    this.onPageChange.emit({\n      activePage: this.activePage,\n      rowsPerPage: this.rowsPerPage,\n      dataLength: this.md2Data.length\n    });\n  }\n\n  private fillData() {\n    let offset = (this.activePage - 1) * this.rowsPerPage;\n    let data = this.md2Data;\n    let sortInt = this.sortOrder === 'desc' ? -1 : 1;\n    if (this.sortBy) {\n      data = data.sort((a: any, b: any) => {\n        let x = this.caseInsensitiveIteratee(a);\n        let y = this.caseInsensitiveIteratee(b);\n        return ((x > y) ? 1 : (y > x) ? -1 : 0) * sortInt;\n      });\n    }\n    this.data = data.slice(offset, offset + this.rowsPerPage);\n  }\n\n  private caseInsensitiveIteratee(value: any) {\n    if (typeof this.sortBy === 'string' || this.sortBy instanceof String) {\n      for (let sortByProperty of this.sortBy.split('.')) {\n        value = value[sortByProperty];\n      }\n    } else {\n      value = value[this.sortBy + ''];\n    }\n    if (value && typeof value === 'string' || value instanceof String) {\n      return value.toLowerCase();\n    }\n    return value;\n  }\n\n}\n\n@Component({\n  selector: '[md2SortBy]',\n  templateUrl: 'sort.html',\n  styleUrls: ['data-table.scss'],\n  host: {\n    '[class.md2-sort-active]': '_isAsc || _isDesc',\n    '(click)': '_sort()'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2DataTableSortBy implements OnInit {\n\n  @Input() md2SortBy: string;\n\n  _isAsc: boolean = false;\n  _isDesc: boolean = false;\n\n  constructor(private _md2Table: Md2DataTable) {\n  }\n\n  ngOnInit() {\n    this._md2Table.onSortChange.subscribe((event: SortEvent) => {\n      this._isAsc = (event.sortBy === this.md2SortBy && event.sortOrder === 'asc');\n      this._isDesc = (event.sortBy === this.md2SortBy && event.sortOrder === 'desc');\n    });\n  }\n\n  _sort() {\n    if (this._isAsc) {\n      this._md2Table.setSort(this.md2SortBy, 'desc');\n    } else {\n      this._md2Table.setSort(this.md2SortBy, 'asc');\n    }\n  }\n\n}\n\n@Component({\n  selector: 'md2-pagination',\n  templateUrl: 'pagination.html',\n  styleUrls: ['data-table.scss'],\n  exportAs: 'md2Pagination',\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2Pagination {\n\n  _activePage: number = 1;\n\n  @Input() rowsPerPageSet: any = [];\n  @Input() md2Table: Md2DataTable;\n  @Input() paginationLabel: string = 'Rows per page:';\n\n  _rowsPerPage: number;\n  _dataLength: number = 0;\n  _lastPage: number;\n\n  constructor( @Optional() private _dataTable: Md2DataTable) { }\n\n  ngDoCheck() {\n    this.md2Table = this.md2Table || this._dataTable;\n    this.onPageChangeSubscriber(this.md2Table.getPage());\n    this.md2Table.onPageChange.subscribe(this.onPageChangeSubscriber);\n  }\n\n  _setPage(pageNumber: number): void {\n    this.md2Table.setPage(pageNumber, this._rowsPerPage);\n  }\n\n  _setRows(event: any): void {\n    this.md2Table.setPage(this._activePage, parseInt(event.value));\n  }\n\n  private onPageChangeSubscriber = (event: PageEvent) => {\n    this._activePage = event.activePage;\n    this._rowsPerPage = event.rowsPerPage;\n    this._dataLength = event.dataLength;\n    this._lastPage = Math.ceil(this._dataLength / this._rowsPerPage);\n  }\n\n}\n\nexport const MD2_DATA_TABLE_DIRECTIVES: any[] = [\n  Md2DataTable,\n  Md2DataTableSortBy,\n  Md2Pagination\n];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, Md2SelectModule],\n  exports: MD2_DATA_TABLE_DIRECTIVES,\n  declarations: MD2_DATA_TABLE_DIRECTIVES,\n})\nexport class Md2DataTableModule { }\n","import { Injectable } from '@angular/core';\n\nconst SUPPORTS_INTL_API = false; // typeof Intl != 'undefined';\n\n\n/** The default month names to use if Intl API is not available. */\nconst DEFAULT_MONTH_NAMES = {\n  'long': [\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\n    'October', 'November', 'December'\n  ],\n  'short': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  'narrow': ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D']\n};\n\n\n/** The default date names to use if Intl API is not available. */\nconst DEFAULT_DATE_NAMES = range(31, i => String(i + 1));\n\n/** The default hour names to use if Intl API is not available. */\nconst DEFAULT_HOUR_NAMES = range(24, i => String(i));\n\n/** The default minute names to use if Intl API is not available. */\nconst DEFAULT_MINUTE_NAMES = range(60, i => String(i));\n\n\n/** The default day of the week names to use if Intl API is not available. */\nconst DEFAULT_DAY_OF_WEEK_NAMES = {\n  'long': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  'short': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  'narrow': ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n};\n\n\n/** Creates an array and fills it with values. */\nfunction range<T>(length: number, valueFunction: (index: number) => T): T[] {\n  const valuesArray = Array(length);\n  for (let i = 0; i < length; i++) {\n    valuesArray[i] = valueFunction(i);\n  }\n  return valuesArray;\n}\n\nexport interface Months {\n  long: Array<string>;\n  short: Array<string>;\n  narrow: Array<string>;\n}\n\nexport interface DaysOfWeek {\n  long: Array<string>;\n  short: Array<string>;\n  narrow: Array<string>;\n}\n\n@Injectable()\nexport class DateLocale {\n\n  locale: any;\n  months: Months;\n  daysOfWeek: DaysOfWeek;\n  dates: Array<string>;\n  hours: Array<string>;\n  minutes: Array<string>;\n  firstDayOfWeek: number = 0;\n\n  getDayOfWeek(date: Date): number {\n    return date.getDay();\n  }\n\n  getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (this.months) { return this.months[style]; }\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { month: style });\n      return range(12, i => this._stripDirectionalityCharacters(dtf.format(new Date(2017, i, 1))));\n    }\n    return DEFAULT_MONTH_NAMES[style];\n  }\n\n  getDateNames(): string[] {\n    if (this.dates) { return this.dates; }\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { day: 'numeric' });\n      return range(31, i => this._stripDirectionalityCharacters(\n        dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DATE_NAMES;\n  }\n\n  getHourNames(): string[] {\n    if (this.hours) { return this.hours; }\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { hour: 'numeric' });\n      return range(24, i => this._stripDirectionalityCharacters(\n        dtf.format(new Date(2017, 0, 0, i))));\n    }\n    return DEFAULT_HOUR_NAMES;\n  }\n\n  getMinuteNames(): string[] {\n    if (this.minutes) { return this.minutes; }\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { minute: 'numeric' });\n      return range(60, i => this._stripDirectionalityCharacters(\n        dtf.format(new Date(2017, 0, 0, 0, i))));\n    }\n    return DEFAULT_MINUTE_NAMES;\n  }\n\n  getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (this.daysOfWeek) { return this.daysOfWeek[style]; }\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { weekday: style });\n      return range(7, i => this._stripDirectionalityCharacters(\n        dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DAY_OF_WEEK_NAMES[style];\n  }\n\n  getYearName(date: Date): string {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, { year: 'numeric' });\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return String(date.getFullYear());\n  }\n\n  getFirstDayOfWeek(): number {\n    // We can't tell using native JS Date what the first day of the week is, we default to Sunday.\n    return this.firstDayOfWeek;\n  }\n\n  format(date: Date, displayFormat: Object): string {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, displayFormat);\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return this._stripDirectionalityCharacters(date.toDateString());\n  }\n\n  getDateLabel(d: Date): string {\n    let day: string = this.getDayOfWeekNames('short')[d.getDay()];\n    let date: string = this.getDateNames()[d.getDate() - 1];\n    let month: string = this.getMonthNames('short')[d.getMonth()];\n    return `${day}, ${month} ${date}`;\n  }\n\n  getHoursLabel(d: Date): string { return `${this.getHourNames()[d.getHours()]}`; }\n\n  getMinutesLabel(d: Date): string { return `${this.getMinuteNames()[d.getMinutes()]}`; }\n\n  getMonthLabel(d: Date): string {\n    return `${this.getMonthNames('long')[d.getMonth()]} ${this.getYearName(d)}`;\n  }\n\n  /**\n   * Strip out unicode LTR and RTL characters. Edge and IE insert these into formatted dates while\n   * other browsers do not. We remove them to make output consistent and because they interfere with\n   * date parsing.\n   * @param s The string to strip direction characters from.\n   * @returns The stripped string.\n   */\n  private _stripDirectionalityCharacters(s: string) {\n    return s.replace(/[\\u200e\\u200f]/g, '');\n  }\n}\n","import { DateLocale } from './date-locale';\n\nexport class DateUtil {\n\n  _locale: DateLocale = new DateLocale();\n\n  parseDateMap: any = {\n    'y': 0,      // placeholder -> ctorIndex\n    'Y': [0, -2000],\n    'M': [1, 1], // placeholder -> [ctorIndex, offset|value array]\n    'n': [1, this._locale.getMonthNames('short')],\n    'N': [1, this._locale.getMonthNames('long')],\n    'd': 2,\n    'm': 4,\n    'H': 3,\n    'h': 3,\n    'K': [3, 1],\n    'k': [3, 1],\n    's': 5,\n    'S': 6,\n    'a': [3, ['am', 'pm']],\n    'A': [3, ['AM', 'PM']]\n  };\n\n  replace(s: string, regexp: any, sub?: string) {\n    return (s != null ? '' + s : '').replace(regexp, sub != null ? sub : '');\n  }\n\n  startsWith(base: any, start: any) {\n    return start != null && base.substr(0, start.length) == start;\n  }\n\n  isType(s: any, o: any) {\n    return typeof s == o;\n  }\n\n  isFunction(f: any) {\n    return this.isType(f, 'function');\n  }\n\n  isList(v: any) {\n    return !!v && v.length != null && !this.isString(v) && !this.isNode(v) && !this.isFunction(v);\n  }\n\n  isString(s: any) {\n    return this.isType(s, 'string');\n  }\n\n  isObject(f: any) {\n    return !!f && this.isType(f, 'object');\n  }\n\n  isNode(n: any) {\n    return n && n['nodeType'];\n  }\n\n  isNumber(n: any) {\n    return this.isType(n, 'number');\n  }\n\n  getFindFunc(findFunc: any) {\n    return this.isFunction(findFunc) ? findFunc : (obj: any, index: any) => {\n      if (findFunc === obj) {\n        return index;\n      }\n    };\n  }\n\n  getFindIndex(list: any, index: any, defaultIndex: any) {\n    return index == null ? defaultIndex :\n      index < 0 ? Math.max(list.length + index, 0) : Math.min(list.length, index);\n  }\n\n  find(list: any, findFunc: any, startIndex?: any, endIndex?: any) {\n    let f = this.getFindFunc(findFunc);\n    let e = this.getFindIndex(list, endIndex, list.length);\n    let r: any;\n    for (let i = this.getFindIndex(list, startIndex, 0); i < e; i++) {\n      if ((r = f.call(list, list[i], i)) != null) {\n        return r;\n      }\n    }\n  }\n\n  parseDate(date: string, fmt: string) {\n    let indexMap: any = {}; // contains reGroupPosition -> typeLetter or [typeLetter, value array]\n    let reIndex = 1;\n    let timezoneOffsetMatch: any;\n    let timezoneIndex: any;\n    let match: any;\n\n    let format = this.replace(fmt, /^\\?/);\n    if (format != fmt && !this.replace(date, /^\\s+|\\s+$/g)) {\n      return null;\n    }\n\n    if (match = /^\\[([+-])(\\d\\d)(\\d\\d)\\]\\s*(.*)/.exec(format)) {\n      timezoneOffsetMatch = match;\n      format = match[4];\n    }\n\n    let parser = new RegExp(format.replace(/(.)(\\1*)(?:\\[([^\\]]*)\\])?/g,\n      (wholeMatch, placeholderChar, placeholderDigits, param) => {\n        if (/[dmhkyhs]/i.test(placeholderChar)) {\n          indexMap[reIndex++] = placeholderChar;\n          let plen = placeholderDigits.length + 1;\n          return '(\\\\d' + (plen < 2 ? '+' : ('{1,' + plen + '}')) + ')';\n        } else if (placeholderChar == 'z') {\n          timezoneIndex = reIndex;\n          reIndex += 3;\n          return '([+-])(\\\\d\\\\d)(\\\\d\\\\d)';\n        } else if (/[NnaA]/.test(placeholderChar)) {\n          indexMap[reIndex++] = [placeholderChar, param && param.split(',')];\n          return '([a-zA-Z\\\\u0080-\\\\u1fff]+)';\n        } else if (/w/i.test(placeholderChar)) {\n          return '[a-zA-Z\\\\u0080-\\\\u1fff]+';\n        } else if (/\\s/.test(placeholderChar)) {\n          return '\\\\s+';\n        } else {\n          return this.replace(wholeMatch, /[\\\\\\[\\]\\/{}()*+?.$|^-]/g, '\\\\$&');\n        }\n      }));\n\n    if (!(match = parser.exec(date))) {\n      return undefined;\n    }\n\n    let ctorArgs = [0, 0, 0, 0, 0, 0, 0];\n    for (let i = 1; i < reIndex; i++) {\n      let matchVal = match[i];\n      let indexEntry: any = indexMap[i];\n      if (this.isList(indexEntry)) { // for a, n or N\n        let placeholderChar = indexEntry[0];\n        let mapEntry = this.parseDateMap[placeholderChar];\n        let ctorIndex = mapEntry[0];\n        let valList = indexEntry[1] || mapEntry[1];\n        let listValue = this.find(valList,\n          (v: any, index: any) => {\n            if (this.startsWith(matchVal.toLowerCase(), v.toLowerCase())) {\n              return index;\n            }\n          });\n        if (listValue == null) {\n          return undefined;\n        }\n        if (placeholderChar == 'a' || placeholderChar == 'A') {\n          ctorArgs[ctorIndex] += listValue * 12;\n        } else {\n          ctorArgs[ctorIndex] = listValue;\n        }\n      } else if (indexEntry) { // for numeric values (yHmMs)\n        let value = parseFloat(matchVal);\n        let mapEntry = this.parseDateMap[indexEntry];\n        if (this.isList(mapEntry)) {\n          ctorArgs[mapEntry[0]] += value - mapEntry[1];\n        } else {\n          ctorArgs[mapEntry] += value;\n        }\n      }\n    }\n    let d = new Date(ctorArgs[0], ctorArgs[1], ctorArgs[2], ctorArgs[3], ctorArgs[4],\n      ctorArgs[5], ctorArgs[6]);\n    return d;\n  }\n\n  today(): Date {\n    return new Date();\n  }\n\n  parse(value: any): Date | null {\n    let timestamp = typeof value == 'number' ? value : Date.parse(value);\n    return isNaN(timestamp) ? null : new Date(timestamp);\n  }\n\n  getYear(date: Date): number {\n    return date.getFullYear();\n  }\n\n  getMonth(date: Date): number {\n    return date.getMonth();\n  }\n\n  getDate(date: Date): number {\n    return date.getDate();\n  }\n\n  getHours(date: Date): number {\n    return date.getHours();\n  }\n\n  getMinutes(date: Date): number {\n    return date.getMinutes();\n  }\n\n  getSeconds(date: Date): number {\n    return date.getSeconds();\n  }\n\n  createDate(year: number, month: number, date: number,\n    hours: number, minutes: number, seconds: number): Date {\n    // Check for invalid month and date (except upper bound on date which we have to check after\n    // creating the Date).\n    if (month < 0 || month > 11 || date < 1) {\n      return null;\n    }\n\n    let result = this._createDateWithOverflow(year, month, date, hours, minutes, seconds);\n\n    // Check that the date wasn't above the upper bound for the month, causing the month to\n    // overflow.\n    if (result.getMonth() != month) {\n      return null;\n    }\n\n    return result;\n  }\n\n  clone(date: Date): Date {\n    return this.createDate(this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date), this.getMinutes(date), this.getSeconds(date));\n  }\n\n  getNumDaysInMonth(date: Date): number {\n    return this.getDate(this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date) + 1, 0, 0, 0, 0));\n  }\n\n  addCalendarYears(date: Date, years: number): Date {\n    return this.addCalendarMonths(date, years * 12);\n  }\n\n  addCalendarMonths(date: Date, months: number): Date {\n    let newDate = this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date) + months, this.getDate(date), this.getHours(date),\n      this.getMinutes(date), this.getSeconds(date));\n\n    // It's possible to wind up in the wrong month if the original month has more days than the new\n    // month. In this case we want to go to the last day of the desired month.\n    // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n    // guarantee this.\n    if (this.getMonth(newDate) != ((this.getMonth(date) + months) % 12 + 12) % 12) {\n      newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0,\n        this.getHours(newDate), this.getMinutes(newDate), this.getSeconds(newDate));\n    }\n\n    return newDate;\n  }\n\n  addCalendarDays(date: Date, days: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date) + days,\n      this.getHours(date), this.getMinutes(date), this.getSeconds(date));\n  }\n\n  addCalendarHours(date: Date, hours: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date) + hours, this.getMinutes(date), this.getSeconds(date));\n  }\n\n  addCalendarMinutes(date: Date, minutes: number): Date {\n    return this._createDateWithOverflow(\n      this.getYear(date), this.getMonth(date), this.getDate(date),\n      this.getHours(date), this.getMinutes(date) + minutes, this.getSeconds(date));\n  }\n  getISODateString(date: Date): string {\n    return [\n      date.getUTCFullYear(),\n      this._2digit(date.getUTCMonth() + 1),\n      this._2digit(date.getUTCDate())\n    ].join('-');\n  }\n\n  /** Creates a date but allows the month and date to overflow. */\n  private _createDateWithOverflow(year: number, month: number, date: number,\n    hours: number, minutes: number, seconds: number) {\n    let result = new Date(year, month, date, hours, minutes, seconds);\n\n    // We need to correct for the fact that JS native Date treats years in range [0, 99] as\n    // abbreviations for 19xx.\n    if (year >= 0 && year < 100) {\n      result.setFullYear(this.getYear(result) - 1900);\n    }\n    return result;\n  }\n\n  /**\n   * Pads a number to make it two digits.\n   * @param n The number to pad.\n   * @returns The padded number.\n   */\n  private _2digit(n: number) {\n    return ('00' + n).slice(-2);\n  }\n\n  compareDate(first: Date, second: Date): number {\n    return this.getYear(first) - this.getYear(second) ||\n      this.getMonth(first) - this.getMonth(second) ||\n      this.getDate(first) - this.getDate(second);\n  }\n\n  /**\n   * Gets the first day of the month for the given date's month.\n   */\n  getFirstDateOfWeek(date: Date, firstDayOfWeek: number) {\n    let day: number = date.getDate() - ((7 + date.getDay() - firstDayOfWeek) % 7);\n    return new Date(date.getFullYear(), date.getMonth(), day, date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets the first day of the month for the given date's month.\n   */\n  getFirstDateOfMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth(), 1);\n  }\n\n  /**\n   * Gets the number of days in the month for the given date's month.\n   */\n  getNumberOfDaysInMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  }\n\n  /**\n   * Get an arbitrary date in the month after the given date's month.\n   */\n  getDateInNextMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 1,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Get an arbitrary date in the month before the given date's month.\n   */\n  getDateInPreviousMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth() - 1, 1,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets whether two dates have the same year.\n   */\n  isSameYear(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getFullYear() === d2.getFullYear();\n  }\n\n  /**\n   * Gets whether two dates have the same month and year.\n   */\n  isSameMonthAndYear(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth();\n  }\n\n  /**\n   * Gets whether two dates are the same day (not not necesarily the same time).\n   */\n  isSameDay(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getDate() == d2.getDate() && this.isSameMonthAndYear(d1, d2);\n  }\n\n  /**\n   * Gets whether two dates are the same hours.\n   */\n  isSameHour(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getHours() == d2.getHours() && this.isSameDay(d1, d2);\n  }\n\n  /**\n   * Gets whether two dates are the same minutes.\n   */\n  isSameMinute(d1: Date, d2: Date) {\n    return d1 && d2 && d1.getMinutes() == d2.getMinutes() && this.isSameHour(d1, d2);\n  }\n\n  /**\n   * Gets whether a date is in the month immediately after some date.\n   * @param startDate The date from which to compare.\n   * @param endDate The date to check.\n   * @returns \n   */\n  isInNextMonth(startDate: Date, endDate: Date) {\n    let nextMonth = this.getDateInNextMonth(startDate);\n    return this.isSameMonthAndYear(nextMonth, endDate);\n  }\n\n  /**\n   * Gets whether a date is in the month immediately before some date.\n   * @param startDate The date from which to compare.\n   * @param endDate The date to check.\n   * @returns \n   */\n  isInPreviousMonth(startDate: Date, endDate: Date) {\n    let previousMonth = this.getDateInPreviousMonth(startDate);\n    return this.isSameMonthAndYear(endDate, previousMonth);\n  }\n\n  /**\n   * Gets the midpoint between two dates.\n   * @param d1\n   * @param d2\n   * @returns \n   */\n  getDateMidpoint(d1: Date, d2: Date) {\n    return this.createDateAtMidnight((d1.getTime() + d2.getTime()) / 2);\n  }\n\n  /**\n   * Gets the week of the month that a given date occurs in.\n   * @param date\n   * @returns Index of the week of the month (zero-based).\n   */\n  getWeekOfMonth(date: Date) {\n    let firstDayOfMonth = this.getFirstDateOfMonth(date);\n    return Math.floor((firstDayOfMonth.getDay() + date.getDate() - 1) / 7);\n  }\n\n  /**\n   * Gets the week of the year that a given date occurs in.\n   * @param date\n   * @returns Index of the week according to ISO-8601.\n   */\n  getWeekOfYear(date: Date) {\n    // Copy date so don't modify original\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n    // Set to nearest Thursday: current date + 4 - current day number\n    // Make Sunday's day number 7\n    d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n    // Get first day of year\n    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n    // Calculate full weeks to nearest Thursday and return weekNo\n    return Math.ceil(( ( (+d - +yearStart) / 86400000) + 1) / 7);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of minutes. Number of minutes can be negative.\n   * @param date\n   * @param numberOfMinutes\n   * @returns \n   */\n  incrementMinutes(date: Date, numberOfMinutes: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(),\n      date.getHours(), date.getMinutes() + numberOfMinutes);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of hours. Number of hours can be negative.\n   * @param date\n   * @param numberOfHours\n   * @returns \n   */\n  incrementHours(date: Date, numberOfHours: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(),\n      date.getHours() + numberOfHours, date.getMinutes());\n  }\n\n  /**\n   * Gets a new date incremented by the given number of days. Number of days can be negative.\n   * @param date\n   * @param numberOfDays\n   * @returns \n   */\n  incrementDays(date: Date, numberOfDays: number) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate() + numberOfDays,\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Gets a new date incremented by the given number of months. Number of months can be negative.\n   * If the date of the given month does not match the target month, the date will be set to the\n   * last day of the month.\n   * @param date\n   * @param numberOfMonths\n   * @returns \n   */\n  incrementMonths(date: Date, numberOfMonths: number) {\n    // If the same date in the target month does not actually exist, the Date object will\n    // automatically advance *another* month by the number of missing days.\n    // For example, if you try to go from Jan. 30 to Feb. 30, you'll end up on March 2.\n    // So, we check if the month overflowed and go to the last day of the target month instead.\n    let dateInTargetMonth = new Date(date.getFullYear(), date.getMonth() + numberOfMonths, 1,\n      date.getHours(), date.getMinutes());\n    let numberOfDaysInMonth = this.getNumberOfDaysInMonth(dateInTargetMonth);\n    if (numberOfDaysInMonth < date.getDate()) {\n      dateInTargetMonth.setDate(numberOfDaysInMonth);\n    } else {\n      dateInTargetMonth.setDate(date.getDate());\n    }\n\n    return dateInTargetMonth;\n  }\n\n  /**\n   * Get the integer distance between two months. This *only* considers the month and year\n   * portion of the Date instances.\n   *\n   * @param start\n   * @param end\n   * @returns Number of months between `start` and `end`. If `end` is before `start`\n   *     chronologically, this number will be negative.\n   */\n  getMonthDistance(start: Date, end: Date) {\n    return (12 * (end.getFullYear() - start.getFullYear())) + (end.getMonth() - start.getMonth());\n  }\n\n  /**\n   * Gets the last day of the month for the given date.\n   * @param date\n   * @returns \n   */\n  getLastDateOfMonth(date: Date) {\n    return new Date(date.getFullYear(), date.getMonth(), this.getNumberOfDaysInMonth(date),\n      date.getHours(), date.getMinutes());\n  }\n\n  /**\n   * Checks whether a date is valid.\n   * @param date\n   * @return  Whether the date is a valid Date.\n   */\n  isValidDate(date: Date) {\n    return date != null && date.getTime && !isNaN(date.getTime());\n  }\n\n  /**\n   * Sets a date's time to midnight.\n   * @param date\n   */\n  setDateTimeToMidnight(date: Date) {\n    if (this.isValidDate(date)) {\n      date.setHours(0, 0, 0, 0);\n    }\n  }\n\n  /**\n   * Creates a date with the time set to midnight.\n   * Drop-in replacement for two forms of the Date constructor:\n   * 1. No argument for Date representing now.\n   * 2. Single-argument value representing number of seconds since Unix Epoch\n   * or a Date object.\n   * @param value\n   * @return New date with time set to midnight.\n   */\n  createDateAtMidnight(value: any) {\n    let date: Date;\n    if (!value) {\n      date = new Date();\n    } else {\n      date = new Date(value);\n    }\n    this.setDateTimeToMidnight(date);\n    return date;\n  }\n\n  /**\n   * Checks if a date is within a min and max range, ignoring the time component.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param date\n   * @param minDate\n   * @param maxDate\n   */\n  isDateWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    let dateAtMidnight = this.createDateAtMidnight(date);\n    let minDateAtMidnight = this.isValidDate(minDate) ? this.createDateAtMidnight(minDate) : null;\n    let maxDateAtMidnight = this.isValidDate(maxDate) ? this.createDateAtMidnight(maxDate) : null;\n    return (!minDateAtMidnight || minDateAtMidnight <= dateAtMidnight) &&\n      (!maxDateAtMidnight || maxDateAtMidnight >= dateAtMidnight);\n  }\n\n  /**\n   * Checks if a date is within a min and max range.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param date\n   * @param minDate\n   * @param maxDate\n   */\n  isFullDateWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    minDate = this.isValidDate(minDate) ? minDate : null;\n    maxDate = this.isValidDate(maxDate) ? maxDate : null;\n    return (!minDate || minDate <= date) &&\n      (!maxDate || maxDate >= date);\n  }\n\n  /**\n   * Gets a new date incremented by the given number of years. Number of years can be negative.\n   * See `incrementMonths` for notes on overflow for specific dates.\n   * @param date\n   * @param numberOfYears\n   * @returns \n   */\n  incrementYears(date: Date, numberOfYears: number) {\n    return this.incrementMonths(date, numberOfYears * 12);\n  }\n\n  /**\n   * Get the integer distance between two years. This *only* considers the year portion of the\n   * Date instances.\n   *\n   * @param start\n   * @param end\n   * @returns Number of months between `start` and `end`. If `end` is before `start`\n   *     chronologically, this number will be negative.\n   */\n  getYearDistance(start: Date, end: Date) {\n    return end.getFullYear() - start.getFullYear();\n  }\n\n  /**\n   * Clamps a date between a minimum and a maximum date.\n   * @param date Date to be clamped\n   * @param minDate Minimum date\n   * @param maxDate Maximum date\n   * @return\n   */\n  clampDate(date: Date, minDate: Date, maxDate: Date) {\n    let boundDate = date;\n    if (minDate && date < minDate) {\n      boundDate = new Date(minDate.getTime());\n    }\n    if (maxDate && date > maxDate) {\n      boundDate = new Date(maxDate.getTime());\n    }\n    return boundDate;\n  }\n\n  /**\n   * Extracts and parses the timestamp from a DOM node.\n   * @param node Node from which the timestamp will be extracted.\n   * @return Time since epoch.\n   */\n  getTimestampFromNode(node: any) {\n    if (node && node.hasAttribute('data-timestamp')) {\n      return Number(node.getAttribute('data-timestamp'));\n    }\n  }\n\n  /**\n   * Checks if a month is within a min and max range, ignoring the date and time components.\n   * If minDate or maxDate are not dates, they are ignored.\n   * @param date\n   * @param minDate\n   * @param maxDate\n   */\n  isMonthWithinRange(date: Date, minDate: Date, maxDate: Date) {\n    let month = date.getMonth();\n    let year = date.getFullYear();\n\n    return (!minDate || minDate.getFullYear() < year || minDate.getMonth() <= month) &&\n      (!maxDate || maxDate.getFullYear() > year || maxDate.getMonth() >= month);\n  }\n\n  /**\n   * Compares two dates.\n   * @param first The first date to compare.\n   * @param second The second date to compare.\n   * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n   *     a number greater than 0 if the first date is later.\n   */\n  compareDateAndTime(first: Date, second: Date): number {\n    return this.getYear(first) - this.getYear(second) ||\n      this.getMonth(first) - this.getMonth(second) ||\n      this.getDate(first) - this.getDate(second) ||\n      this.getHours(first) - this.getDate(second) ||\n      this.getMinutes(first) - this.getDate(second) ||\n      this.getSeconds(first) - this.getDate(second);\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDate(first: Date | null, second: Date | null): boolean {\n    return first && second ? !this.compareDate(first, second) : first == second;\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDateAndTime(first: Date | null, second: Date | null): boolean {\n    return first && second ? !this.compareDateAndTime(first, second) : first == second;\n  }\n\n}\n","import {\n  animate,\n  AnimationTriggerMetadata,\n  keyframes,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\n/**\n * This animation fades in the background color and text content of the\n * select's options. It is time delayed to occur 100ms after the overlay\n * panel has transformed in.\n */\nexport const fadeInContent: AnimationTriggerMetadata = trigger('fadeInContent', [\n  state('showing', style({ opacity: 1 })),\n  transition('void => showing', [\n    style({ opacity: 0 }),\n    animate(`150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)`)\n  ])\n]);\n\nexport const slideCalendar: AnimationTriggerMetadata = trigger('slideCalendar', [\n  transition('* => left', [\n    animate(180, keyframes([\n      style({ transform: 'translateX(100%)', offset: 0.5 }),\n      style({ transform: 'translateX(-100%)', offset: 0.51 }),\n      style({ transform: 'translateX(0)', offset: 1 })\n    ]))\n  ]),\n  transition('* => right', [\n    animate(180, keyframes([\n      style({ transform: 'translateX(-100%)', offset: 0.5 }),\n      style({ transform: 'translateX(100%)', offset: 0.51 }),\n      style({ transform: 'translateX(0)', offset: 1 })\n    ]))\n  ])\n]);\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  Optional,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  DOWN_ARROW,\n  END,\n  ENTER,\n  HOME,\n  LEFT_ARROW,\n  PAGE_DOWN,\n  PAGE_UP,\n  RIGHT_ARROW,\n  UP_ARROW\n} from '../core/keyboard/keycodes';\nimport { DateLocale } from './date-locale';\nimport { DateUtil } from './date-util';\nimport { slideCalendar } from './datepicker-animations';\nimport { MATERIAL_COMPATIBILITY_MODE } from '../core';\n\n\n/**\n * A calendar that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-calendar',\n  templateUrl: 'calendar.html',\n  styleUrls: ['calendar.scss'],\n  host: {\n    '[class.md2-calendar]': 'true',\n    'tabindex': '0',\n    '(keydown)': '_handleCalendarBodyKeydown($event)',\n  },\n  animations: [slideCalendar],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2Calendar implements AfterContentInit {\n\n  /** Whether the Week-number should be displayed */\n  @Input() displayWeek: boolean;\n\n  @Input() type: 'date' | 'time' | 'month' | 'datetime' = 'date';\n\n  /** A date representing the period (month or year) to start the calendar in. */\n  @Input() startAt: Date;\n\n  /** Whether the calendar should be started in month or year view. */\n  @Input() startView: 'clock' | 'month' | 'year' = 'month';\n\n  /** The currently selected date. */\n  @Input() selected: Date;\n\n  /** The minimum selectable date. */\n  @Input() minDate: Date;\n\n  /** The maximum selectable date. */\n  @Input() maxDate: Date;\n\n  @Input() timeInterval: number = 1;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: Date) => boolean;\n\n  /** Emits when the currently selected date changes. */\n  @Output() selectedChange = new EventEmitter<Date>();\n\n  /** Date filter for the month and year views. */\n  _dateFilterForViews = (date: Date) => {\n    return !!date &&\n      (!this.dateFilter || this.dateFilter(date)) &&\n      (!this.minDate || this._util.compareDate(date, this.minDate) >= 0) &&\n      (!this.maxDate || this._util.compareDate(date, this.maxDate) <= 0);\n  }\n\n  /**\n   * The current active date. This determines which time period is shown and which date is\n   * highlighted when using keyboard navigation.\n   */\n  get _activeDate(): Date { return this._clampedActiveDate; }\n  set _activeDate(value: Date) {\n    let oldActiveDate = this._clampedActiveDate;\n    this._clampedActiveDate = this._util.clampDate(value, this.minDate, this.maxDate);\n    if (oldActiveDate && this._clampedActiveDate && this._currentView === 'month' &&\n      !this._util.isSameMonthAndYear(oldActiveDate, this._clampedActiveDate)) {\n      if (this._util.isInNextMonth(oldActiveDate, this._clampedActiveDate)) {\n        this.calendarState('right');\n      } else {\n        this.calendarState('left');\n      }\n    }\n  }\n  private _clampedActiveDate: Date;\n\n  /** Whether the calendar is in month view. */\n  _currentView: 'clock' | 'month' | 'year' = 'month';\n  _clockView: 'hour' | 'minute' = 'hour';\n\n  /** The label for the current calendar view. */\n  get _yearLabel(): string {\n    return this._locale.getYearName(this._activeDate);\n  }\n\n  get _monthYearLabel(): string {\n    return this._currentView === 'month' ? this._locale.getMonthLabel(this._activeDate) :\n      this._locale.getYearName(this._activeDate);\n  }\n\n  get _dateLabel(): string {\n    return this._locale.getDateLabel(this._activeDate);\n  }\n\n  get _hoursLabel(): string {\n    return ('0' + this._locale.getHoursLabel(this._activeDate)).slice(-2);\n  }\n\n  get _minutesLabel(): string {\n    return ('0' + this._locale.getMinutesLabel(this._activeDate)).slice(-2);\n  }\n\n  _calendarState: string;\n\n  constructor(private _elementRef: ElementRef, private _ngZone: NgZone,\n    private _locale: DateLocale, private _util: DateUtil) {\n  }\n\n  ngAfterContentInit() {\n    this._activeDate = this.startAt || this._util.today();\n    this._elementRef.nativeElement.focus();\n    if (this.type === 'month') {\n      this._currentView = 'year';\n    } else if (this.type === 'time') {\n      this._currentView = 'clock';\n    } else {\n      this._currentView = this.startView || 'month';\n    }\n  }\n\n  /** Handles date selection in the month view. */\n  _dateSelected(date: Date): void {\n    if (this.type == 'date') {\n      if (!this._util.sameDate(date, this.selected)) {\n        this.selectedChange.emit(date);\n      }\n    } else {\n      this._activeDate = date;\n      this._currentView = 'clock';\n    }\n  }\n\n  /** Handles month selection in the year view. */\n  _monthSelected(month: Date): void {\n    if (this.type == 'month') {\n      if (!this._util.isSameMonthAndYear(month, this.selected)) {\n        this.selectedChange.emit(this._util.getFirstDateOfMonth(month));\n      }\n    } else {\n      this._activeDate = month;\n      this._currentView = 'month';\n      this._clockView = 'hour';\n    }\n  }\n\n  _timeSelected(date: Date): void {\n    if (this._clockView !== 'minute') {\n      this._activeDate = date;\n      this._clockView = 'minute';\n    } else {\n      if (!this._util.sameDateAndTime(date, this.selected)) {\n        this.selectedChange.emit(date);\n      }\n    }\n  }\n\n  _onActiveDateChange(date: Date) {\n    this._activeDate = date;\n  }\n\n  _yearClicked(): void {\n    this._currentView = 'year';\n  }\n  _dateClicked(): void {\n    this._currentView = 'month';\n  }\n\n  _hoursClicked(): void {\n    this._currentView = 'clock';\n    this._clockView = 'hour';\n  }\n  _minutesClicked(): void {\n    this._currentView = 'clock';\n    this._clockView = 'minute';\n  }\n\n  /** Handles user clicks on the previous button. */\n  _previousClicked(): void {\n    this._activeDate = this._currentView === 'month' ?\n      this._util.addCalendarMonths(this._activeDate, -1) :\n      this._util.addCalendarYears(this._activeDate, -1);\n  }\n\n  /** Handles user clicks on the next button. */\n  _nextClicked(): void {\n    this._activeDate = this._currentView === 'month' ?\n      this._util.addCalendarMonths(this._activeDate, 1) :\n      this._util.addCalendarYears(this._activeDate, 1);\n  }\n\n  /** Whether the previous period button is enabled. */\n  _previousEnabled(): boolean {\n    if (!this.minDate) {\n      return true;\n    }\n    return !this.minDate || !this._isSameView(this._activeDate, this.minDate);\n  }\n\n  /** Whether the next period button is enabled. */\n  _nextEnabled(): boolean {\n    return !this.maxDate || !this._isSameView(this._activeDate, this.maxDate);\n  }\n\n  /** Handles keydown events on the calendar body. */\n  _handleCalendarBodyKeydown(event: KeyboardEvent): void {\n    // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n    // disabled ones from being selected. This may not be ideal, we should look into whether\n    // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n    if (this._currentView === 'month') {\n      this._handleCalendarBodyKeydownInMonthView(event);\n    } else if (this._currentView === 'year') {\n      this._handleCalendarBodyKeydownInYearView(event);\n    } else {\n      this._handleCalendarBodyKeydownInClockView(event);\n    }\n  }\n\n  /** Whether the two dates represent the same view in the current view mode (month or year). */\n  private _isSameView(date1: Date, date2: Date): boolean {\n    return this._currentView === 'month' ?\n      this._util.getYear(date1) == this._util.getYear(date2) &&\n      this._util.getMonth(date1) == this._util.getMonth(date2) :\n      this._util.getYear(date1) == this._util.getYear(date2);\n  }\n\n  /** Handles keydown events on the calendar body when calendar is in month view. */\n  private _handleCalendarBodyKeydownInMonthView(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        this._activeDate = this._util.addCalendarDays(this._activeDate, -1);\n        break;\n      case RIGHT_ARROW:\n        this._activeDate = this._util.addCalendarDays(this._activeDate, 1);\n        break;\n      case UP_ARROW:\n        this._activeDate = this._util.addCalendarDays(this._activeDate, -7);\n        break;\n      case DOWN_ARROW:\n        this._activeDate = this._util.addCalendarDays(this._activeDate, 7);\n        break;\n      case HOME:\n        this._activeDate = this._util.addCalendarDays(this._activeDate,\n          1 - this._util.getDate(this._activeDate));\n        break;\n      case END:\n        this._activeDate = this._util.addCalendarDays(this._activeDate,\n          (this._util.getNumDaysInMonth(this._activeDate) -\n            this._util.getDate(this._activeDate)));\n        break;\n      case PAGE_UP:\n        this._activeDate = event.altKey ?\n          this._util.addCalendarYears(this._activeDate, -1) :\n          this._util.addCalendarMonths(this._activeDate, -1);\n        break;\n      case PAGE_DOWN:\n        this._activeDate = event.altKey ?\n          this._util.addCalendarYears(this._activeDate, 1) :\n          this._util.addCalendarMonths(this._activeDate, 1);\n        break;\n      case ENTER:\n        if (this._dateFilterForViews(this._activeDate)) {\n          this._dateSelected(this._activeDate);\n          // Prevent unexpected default actions such as form submission.\n          event.preventDefault();\n        }\n        return;\n      default:\n        // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n        return;\n    }\n\n    // Prevent unexpected default actions such as form submission.\n    event.preventDefault();\n  }\n\n  /** Handles keydown events on the calendar body when calendar is in year view. */\n  private _handleCalendarBodyKeydownInYearView(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        this._activeDate = this._util.addCalendarMonths(this._activeDate, -1);\n        break;\n      case RIGHT_ARROW:\n        this._activeDate = this._util.addCalendarMonths(this._activeDate, 1);\n        break;\n      case UP_ARROW:\n        this._activeDate = this._prevMonthInSameCol(this._activeDate);\n        break;\n      case DOWN_ARROW:\n        this._activeDate = this._nextMonthInSameCol(this._activeDate);\n        break;\n      case HOME:\n        this._activeDate = this._util.addCalendarMonths(this._activeDate,\n          -this._util.getMonth(this._activeDate));\n        break;\n      case END:\n        this._activeDate = this._util.addCalendarMonths(this._activeDate,\n          11 - this._util.getMonth(this._activeDate));\n        break;\n      case PAGE_UP:\n        this._activeDate =\n          this._util.addCalendarYears(this._activeDate, event.altKey ? -10 : -1);\n        break;\n      case PAGE_DOWN:\n        this._activeDate =\n          this._util.addCalendarYears(this._activeDate, event.altKey ? 10 : 1);\n        break;\n      case ENTER:\n        this._monthSelected(this._activeDate);\n        break;\n      default:\n        // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n        return;\n    }\n\n    // Prevent unexpected default actions such as form submission.\n    event.preventDefault();\n  }\n\n  /** Handles keydown events on the calendar body when calendar is in month view. */\n  private _handleCalendarBodyKeydownInClockView(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case UP_ARROW:\n        this._activeDate = this._clockView == 'hour' ?\n          this._util.addCalendarHours(this._activeDate, 1) :\n          this._util.addCalendarMinutes(this._activeDate, 1);\n        break;\n      case DOWN_ARROW:\n        this._activeDate = this._clockView == 'hour' ?\n          this._util.addCalendarHours(this._activeDate, -1) :\n          this._util.addCalendarMinutes(this._activeDate, -1);\n        break;\n      case ENTER:\n        this._timeSelected(this._activeDate);\n        return;\n      default:\n        // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n        return;\n    }\n\n    // Prevent unexpected default actions such as form submission.\n    event.preventDefault();\n  }\n\n  /**\n   * Determine the date for the month that comes before the given month in the same column in the\n   * calendar table.\n   */\n  private _prevMonthInSameCol(date: Date): Date {\n    // Determine how many months to jump forward given that there are 2 empty slots at the beginning\n    // of each year.\n    let increment = this._util.getMonth(date) <= 4 ? -5 :\n      (this._util.getMonth(date) >= 7 ? -7 : -12);\n    return this._util.addCalendarMonths(date, increment);\n  }\n\n  /**\n   * Determine the date for the month that comes after the given month in the same column in the\n   * calendar table.\n   */\n  private _nextMonthInSameCol(date: Date): Date {\n    // Determine how many months to jump forward given that there are 2 empty slots at the beginning\n    // of each year.\n    let increment = this._util.getMonth(date) <= 4 ? 7 :\n      (this._util.getMonth(date) >= 7 ? 5 : 12);\n    return this._util.addCalendarMonths(date, increment);\n  }\n\n  private calendarState(direction: string): void {\n    this._calendarState = direction;\n  }\n\n  _calendarStateDone() {\n    this._calendarState = '';\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n  NgZone,\n  Self,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport { coerceBooleanProperty } from '../core/coercion/boolean-property';\nimport { Overlay } from '../core/overlay/overlay';\nimport { OverlayRef } from '../core/overlay/overlay-ref';\nimport { ComponentPortal } from '../core/portal/portal';\nimport { OverlayState } from '../core/overlay/overlay-state';\nimport { Dir } from '../core/rtl/dir';\nimport { PositionStrategy } from '../core/overlay/position/position-strategy';\nimport { Subscription } from 'rxjs';\nimport { ESCAPE } from '../core/keyboard/keycodes';\nimport { Md2Calendar } from './calendar';\nimport { DateLocale } from './date-locale';\nimport { DateUtil } from './date-util';\nimport { first } from 'rxjs/operators';\n\n/** Change event object emitted by Md2Select. */\nexport class Md2DateChange {\n  constructor(public source: Md2Datepicker, public value: Date) { }\n}\n\n/** Used to generate a unique ID for each datepicker instance. */\nlet datepickerUid = 0;\n\n\n/**\n * Component used as the content for the datepicker dialog and popup. We use this instead of using\n * Md2Calendar directly as the content so we can control the initial focus. This also gives us a\n * place to put additional features of the popup that are not part of the calendar itself in the\n * future. (e.g. confirmation buttons).\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-datepicker-content',\n  templateUrl: 'datepicker-content.html',\n  styleUrls: ['datepicker-content.scss'],\n  host: {\n    'class': 'md2-datepicker-content',\n    '[class.md2-datepicker-content-touch]': 'datepicker?.touchUi',\n    '(keydown)': '_handleKeydown($event)',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2DatepickerContent {\n  datepicker: Md2Datepicker;\n\n  @ViewChild(Md2Calendar) _calendar: Md2Calendar;\n\n  /**\n   * Handles keydown event on datepicker content.\n   * @param event The event.\n   */\n  _handleKeydown(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case ESCAPE:\n        this.datepicker.close();\n        break;\n      default:\n        /* Return so that we don't preventDefault on keys that are not explicitly handled. */\n        return;\n    }\n\n    event.preventDefault();\n  }\n}\n\n\nexport const MD2_DATEPICKER_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => Md2Datepicker),\n  multi: true\n};\n\nexport const MD2_DATEPICKER_VALIDATORS: any = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => Md2Datepicker),\n  multi: true\n};\n\n/* Component responsible for managing the datepicker popup/dialog. */\n@Component({\n  \n  selector: 'md2-datepicker',\n  templateUrl: 'datepicker.html',\n  styleUrls: ['datepicker.scss'],\n  providers: [MD2_DATEPICKER_VALUE_ACCESSOR, MD2_DATEPICKER_VALIDATORS],\n  host: {\n    'role': 'datepicker',\n    '[class.md2-datepicker-disabled]': 'disabled',\n    '[class.md2-datepicker-opened]': 'opened',\n    '[attr.aria-label]': 'placeholder',\n    '[attr.aria-required]': 'required.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n  },\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Md2Datepicker implements OnDestroy, ControlValueAccessor {\n\n  _onChange: (value: any) => void = () => { };\n  _onTouched = () => { };\n  _validatorOnChange = () => { };\n\n  _inputFocused: boolean = false;\n\n  /** The date to open the calendar to initially. */\n  @Input() startAt: Date;\n\n  /** The view that the calendar should start in. */\n  @Input() startView: 'clock' | 'month' | 'year' = 'month';\n\n  /**\n   * Whether the calendar UI is in touch mode. In touch mode the calendar opens in a dialog rather\n   * than a popup and elements have more padding to allow for bigger touch targets.\n   */\n  @Input() touchUi = false;\n\n  /** Whether the Week-number should be displayed */\n  @Input() displayWeek: boolean;\n\n  @Input() tabindex: number = 0;\n  @Input() mode: 'auto' | 'portrait' | 'landscape' = 'auto';\n  @Input() placeholder: string;\n  @Input() timeInterval: number = 1;\n  @Input() id: string;\n\n  @Input()\n  get type() { return this._type; }\n  set type(value: 'date' | 'time' | 'month' | 'datetime') {\n    this._type = value || 'date';\n    this._inputValue = this._formatDate(this._value);\n  }\n  private _type: 'date' | 'time' | 'month' | 'datetime' = 'date';\n\n  @Input()\n  get format() {\n    return this._format || (this.type === 'month' ? 'MMMM y' : this.type === 'date' ?\n      'dd/MM/y' : this.type === 'time' ? 'HH:mm' : this.type === 'datetime' ?\n        'dd/MM/y HH:mm' : 'dd/MM/y');\n  }\n  set format(value: string) {\n    if (this._format !== value) {\n      this._format = value;\n      this._inputValue = this._formatDate(this._value);\n    }\n  }\n  private _format: string;\n\n  /** The minimum valid date. */\n  @Input()\n  get min(): Date { return this._minDate; }\n  set min(value: Date) {\n    this._minDate = value;\n    this._validatorOnChange();\n  }\n  _minDate: Date;\n\n  /** The maximum valid date. */\n  @Input()\n  get max(): Date { return this._maxDate; }\n  set max(value: Date) {\n    this._maxDate = value;\n    this._validatorOnChange();\n  }\n  _maxDate: Date;\n\n  @Input() set dateFilter(filter: (date: Date | null) => boolean) {\n    this._dateFilter = filter;\n    this._validatorOnChange();\n  }\n  _dateFilter: (date: Date | null) => boolean;\n\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value) { this._required = coerceBooleanProperty(value); }\n  private _required: boolean = false;\n\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) { this._disabled = coerceBooleanProperty(value); }\n  private _disabled: boolean = false;\n\n  @Input()\n  get value() { return this._value; }\n  set value(value: Date) {\n    this._value = this.coerceDateProperty(value);\n    this._selected = this._value;\n    this.startAt = this._value;\n    setTimeout(() => {\n      this._inputValue = this._formatDate(this._value);\n    });\n  }\n  private _value: Date;\n\n  _inputValue: string = '';\n\n  @Input()\n  get openOnFocus(): boolean { return this._openOnFocus; }\n  set openOnFocus(value: boolean) { this._openOnFocus = coerceBooleanProperty(value); }\n  private _openOnFocus: boolean;\n\n  @Input()\n  set isOpen(value: boolean) {\n    if (value && !this.opened) { this.open(); }\n  }\n\n  /** Event emitted when the select has been opened. */\n  @Output() onOpen: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the select has been closed. */\n  @Output() onClose: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Event emitted when the selected date has been changed by the user. */\n  @Output() change: EventEmitter<Md2DateChange> = new EventEmitter<Md2DateChange>();\n\n  /** Emits new selected date when selected date changes. */\n  @Output() selectedChanged = new EventEmitter<Date>();\n\n  /** Whether the calendar is open. */\n  opened = false;\n\n  /** The currently selected date. */\n  _selected: Date = null;\n\n  /** A reference to the overlay when the calendar is opened as a popup. */\n  private _popupRef: OverlayRef;\n\n  /** A reference to the overlay when the calendar is opened as a dialog. */\n  private _dialogRef: OverlayRef;\n\n  /** A portal containing the calendar for this datepicker. */\n  private _calendarPortal: ComponentPortal<Md2DatepickerContent>;\n\n  private _inputSubscription: Subscription;\n\n  /** The form control validator for the min date. */\n  private _minValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    return (!this.min || !control.value ||\n      this._util.compareDate(this.min, control.value) <= 0) ?\n      null : { 'md2DatepickerMin': { 'min': this.min, 'actual': control.value } };\n  }\n\n  /** The form control validator for the max date. */\n  private _maxValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    return (!this.max || !control.value ||\n      this._util.compareDate(this.max, control.value) >= 0) ?\n      null : { 'md2DatepickerMax': { 'max': this.max, 'actual': control.value } };\n  }\n\n  /** The form control validator for the date filter. */\n  private _filterValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    return !this._dateFilter || !control.value || this._dateFilter(control.value) ?\n      null : { 'md2DatepickerFilter': true };\n  }\n\n  /** The combined form control validator for this input. */\n  private _validator: ValidatorFn =\n  Validators.compose([this._minValidator, this._maxValidator, this._filterValidator]);\n\n  constructor(private _element: ElementRef,\n    private _overlay: Overlay,\n    private _ngZone: NgZone,\n    private _viewContainerRef: ViewContainerRef,\n    private _locale: DateLocale,\n    private _util: DateUtil,\n    @Optional() private _dir: Dir) {\n    this.id = (this.id) ? this.id : `md2-datepicker-${datepickerUid++}`;\n  }\n\n  ngOnDestroy() {\n    this.close();\n    if (this._popupRef) {\n      this._popupRef.dispose();\n    }\n    if (this._dialogRef) {\n      this._dialogRef.dispose();\n    }\n    if (this._inputSubscription) {\n      this._inputSubscription.unsubscribe();\n    }\n  }\n\n  registerOnValidatorChange(fn: () => void): void {\n    this._validatorOnChange = fn;\n  }\n\n  validate(c: AbstractControl): ValidationErrors | null {\n    return this._validator ? this._validator(c) : null;\n  }\n\n  writeValue(value: any): void {\n    this.value = value;\n  }\n\n  registerOnChange(fn: (value: any) => void): void { this._onChange = fn; }\n\n  registerOnTouched(fn: () => {}): void { this._onTouched = fn; }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  _handleFocus() {\n    this._inputFocused = true;\n    if (!this.opened && this.openOnFocus) {\n      this.open();\n    }\n  }\n\n  _handleBlur(event: Event) {\n    this._inputFocused = false;\n    if (!this.opened) {\n      this._onTouched();\n    }\n    let el: any = event.target;\n    let date: Date = this._util.parseDate(el.value, this.format);\n    if (!date) {\n      date = this._util.parse(el.value);\n    }\n    if (date != null && date.getTime && !isNaN(date.getTime())) {\n\n      let d: Date = new Date(this.value);\n      if (this.type !== 'time') {\n        d.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n      }\n      if (this.type !== 'date') {\n        d.setHours(date.getHours(), date.getMinutes());\n      }\n      if (!this._util.isSameMinute(this.value, d)) {\n        this.value = this._util.createDate(d.getFullYear(),\n          d.getMonth(),\n          d.getDate(),\n          d.getHours(),\n          d.getMinutes(),\n          d.getSeconds());\n        this._emitChangeEvent();\n      }\n    } else {\n      if (this.value) {\n        this.value = null;\n        this._emitChangeEvent();\n      }\n      el.value = null;\n    }\n  }\n\n  private coerceDateProperty(value: any): Date {\n    let v: Date = null;\n    if (value != null && value.getTime && !isNaN(value.getTime())) {\n      v = value;\n    } else {\n      if (value && this.type === 'time') {\n        let t = value + '';\n        v = new Date();\n        v.setHours(parseInt(t.substring(0, 2)));\n        v.setMinutes(parseInt(t.substring(3, 5)));\n      } else {\n        let timestamp = Date.parse(value);\n        v = isNaN(timestamp) ? null : new Date(timestamp);\n      }\n    }\n    let d: Date = v ? this._util.createDate(v.getFullYear(),\n      v.getMonth(),\n      v.getDate(),\n      v.getHours(),\n      v.getMinutes(),\n      v.getSeconds()) : null;\n    return d;\n  }\n\n  /**\n   * format date\n   * @param date Date Object\n   * @return string with formatted date\n   */\n  private _formatDate(date: Date): string {\n    if (!this.format || !date) { return ''; }\n\n    let format = this.format;\n\n    /* Years */\n    if (format.indexOf('yy') > -1) {\n      format = format.replace('yy', ('00' + this._util.getYear(date)).slice(-2));\n    } else if (format.indexOf('y') > -1) {\n      format = format.replace('y', '' + this._util.getYear(date));\n    }\n\n    /* Days */\n    if (format.indexOf('dd') > -1) {\n      format = format.replace('dd', ('0' + this._util.getDate(date)).slice(-2));\n    } else if (format.indexOf('d') > -1) {\n      format = format.replace('d', '' + this._util.getDate(date));\n    }\n\n    /* Hours */\n    if (/[aA]/.test(format)) {\n      /* 12-hour */\n      if (format.indexOf('HH') > -1) {\n        format = format.replace('HH',\n          ('0' + this._getHours12(this._util.getHours(date))).slice(-2));\n      } else if (format.indexOf('H') > -1) {\n        format = format.replace('H',\n          '' + this._getHours12(this._util.getHours(date)));\n      }\n      format = format.replace('A', ((this._util.getHours(date) < 12) ? 'AM' : 'PM'))\n        .replace('a', ((this._util.getHours(date) < 12) ? 'am' : 'pm'));\n    } else {\n      /* 24-hour */\n      if (format.indexOf('HH') > -1) {\n        format = format.replace('HH', ('0' + this._util.getHours(date)).slice(-2));\n      } else if (format.indexOf('H') > -1) {\n        format = format.replace('H', '' + this._util.getHours(date));\n      }\n    }\n\n    /* Minutes */\n    if (format.indexOf('mm') > -1) {\n      format = format.replace('mm', ('0' + this._util.getMinutes(date)).slice(-2));\n    } else if (format.indexOf('m') > -1) {\n      format = format.replace('m', '' + this._util.getMinutes(date));\n    }\n\n    /* Seconds */\n    if (format.indexOf('ss') > -1) {\n      format = format.replace('ss', ('0' + this._util.getSeconds(date)).slice(-2));\n    } else if (format.indexOf('s') > -1) {\n      format = format.replace('s', '' + this._util.getSeconds(date));\n    }\n\n    /* Months */\n    if (format.indexOf('MMMM') > -1) {\n      format = format.replace('MMMM',\n        this._locale.getMonthNames('long')[this._util.getMonth(date)]);\n    } else if (format.indexOf('MMM') > -1) {\n      format = format.replace('MMM',\n        this._locale.getMonthNames('short')[this._util.getMonth(date)]);\n    } else if (format.indexOf('MM') > -1) {\n      format = format.replace('MM', ('0' + (this._util.getMonth(date) + 1)).slice(-2));\n    } else if (format.indexOf('M') > -1) {\n      format = format.replace('M', '' + (this._util.getMonth(date) + 1));\n    }\n\n    return format;\n  }\n\n  /**\n   * Get an hour of the date in the 12-hour format\n   * @param date Date Object\n   * @return hour of the date in the 12-hour format\n   */\n  private _getHours12(hours: number): number {\n    if (hours == 0) {\n      hours = 12;\n    } else if (hours > 12) {\n      hours -= 12;\n    }\n    return hours;\n  }\n\n  /** Selects the given date and closes the currently open popup or dialog. */\n  _selectAndClose(date: Date): void {\n    let oldValue = this._selected;\n    this.value = date;\n    if (!this._util.sameDateAndTime(oldValue, this._selected)) {\n      this._emitChangeEvent();\n    }\n    this.close();\n  }\n\n  /** Emits an event when the user selects a date. */\n  _emitChangeEvent(): void {\n    this._onChange(this.value);\n    this.change.emit(new Md2DateChange(this, this.value));\n  }\n\n  /** Open the calendar. */\n  open(): void {\n    if (this.opened) { return; }\n\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal(Md2DatepickerContent, this._viewContainerRef);\n    }\n\n    this.touchUi ? this._openAsDialog() : this._openAsPopup();\n    this.opened = true;\n    this.onOpen.emit();\n  }\n\n  /** Close the calendar. */\n  close(): void {\n    if (!this.opened) {\n      return;\n    }\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n    if (this._dialogRef && this._dialogRef.hasAttached()) {\n      this._dialogRef.detach();\n    }\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n    this.opened = false;\n    this.onClose.emit();\n  }\n\n  /** Open the calendar as a dialog. */\n  private _openAsDialog(): void {\n    if (!this._dialogRef) {\n      this._createDialog();\n    }\n\n    if (!this._dialogRef.hasAttached()) {\n      let componentRef: ComponentRef<Md2DatepickerContent> =\n        this._dialogRef.attach(this._calendarPortal);\n      componentRef.instance.datepicker = this;\n    }\n\n    this._dialogRef.backdropClick().subscribe(() => this.close());\n  }\n\n  /** Open the calendar as a popup. */\n  private _openAsPopup(): void {\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n    if (!this._popupRef.hasAttached()) {\n      let componentRef: ComponentRef<Md2DatepickerContent> =\n        this._popupRef.attach(this._calendarPortal);\n      componentRef.instance.datepicker = this;\n\n      /* Update the position once the calendar has rendered. */\n      this._ngZone.onStable.pipe(first()).subscribe(() => this._popupRef.updatePosition());\n    }\n\n    this._popupRef.backdropClick().subscribe(() => this.close());\n  }\n\n  /** Create the dialog. */\n  private _createDialog(): void {\n    const overlayState = new OverlayState();\n    overlayState.positionStrategy = this._overlay.position().global()\n      .centerHorizontally()\n      .centerVertically();\n    overlayState.hasBackdrop = true;\n    overlayState.backdropClass = 'cdk-overlay-dark-backdrop';\n    overlayState.direction = this._dir ? this._dir.value : 'ltr';\n    this._dialogRef = this._overlay.create(overlayState);\n  }\n\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayState = new OverlayState();\n    overlayState.positionStrategy = this._createPopupPositionStrategy();\n    overlayState.hasBackdrop = true;\n    overlayState.backdropClass = 'cdk-overlay-transparent-backdrop';\n    overlayState.direction = this._dir ? this._dir.value : 'ltr';\n    overlayState.scrollStrategy = this._overlay.scrollStrategies.reposition();\n\n    this._popupRef = this._overlay.create(overlayState);\n  }\n\n  /** Create the popup PositionStrategy. */\n  private _createPopupPositionStrategy(): PositionStrategy {\n    return this._overlay.position()\n      .connectedTo(this._element,\n      { originX: 'start', originY: 'bottom' },\n      { overlayX: 'start', overlayY: 'top' })\n      .withFallbackPosition(\n      { originX: 'start', originY: 'top' },\n      { overlayX: 'start', overlayY: 'bottom' })\n      .withFallbackPosition(\n      { originX: 'end', originY: 'bottom' },\n      { overlayX: 'end', overlayY: 'top' })\n      .withFallbackPosition(\n      { originX: 'end', originY: 'top' },\n      { overlayX: 'end', overlayY: 'bottom' });\n  }\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { Md2Datepicker } from './datepicker';\n\n\n@Component({\n  \n  selector: 'button[md2DatepickerToggle]',\n  template: '',\n  styleUrls: ['datepicker-toggle.scss'],\n  host: {\n    'type': 'button',\n    'class': 'md2-datepicker-toggle',\n    'aria-label': 'Open calendar',\n    '(click)': '_open($event)',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2DatepickerToggle<D> {\n  /** Datepicker instance that the button will toggle. */\n  @Input('md2DatepickerToggle') datepicker: Md2Datepicker;\n\n  _open(event: Event): void {\n    if (this.datepicker) {\n      this.datepicker.open();\n      event.stopPropagation();\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\n\n\n/**\n * An internal class that represents the data corresponding to a single calendar cell.\n * @docs-private\n */\nexport class Md2CalendarCell {\n  constructor(public value: number,\n              public displayValue: string,\n              public ariaLabel: string,\n              public enabled: boolean,\n              public header?: string) {}\n}\n\n\n/**\n * An internal component used to display calendar data in a table.\n * @docs-private\n */\n@Component({\n  \n  selector: '[md2-calendar-body]',\n  templateUrl: 'calendar-body.html',\n  styleUrls: ['calendar-body.scss'],\n  host: {\n    'class': 'md2-calendar-body',\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2CalendarBody {\n  /** The label for the table. (e.g. \"Jan 2017\"). */\n  @Input() label: string;\n\n  /** The cells to display in the table. */\n  @Input() rows: Md2CalendarCell[][];\n\n  /** The value in the table that corresponds to today. */\n  @Input() todayValue: number;\n\n  /** The value in the table that is currently selected. */\n  @Input() selectedValue: number;\n\n  /** The minimum number of free cells needed to fit the label in the first row. */\n  @Input() labelMinRequiredCells: number;\n\n  /** The number of columns in the table. */\n  @Input() numCols = 7;\n\n  /** Whether to allow selection of disabled cells. */\n  @Input() allowDisabledSelection = false;\n\n  /** The cell number of the active cell in the table. */\n  @Input() activeCell = 0;\n\n  /** Whether the Week-number should be displayed */\n  @Input() displayWeek: boolean;\n\n  /** Emits when a new value is selected. */\n  @Output() selectedValueChange = new EventEmitter<number>();\n\n  _cellClicked(cell: Md2CalendarCell): void {\n    if (!this.allowDisabledSelection && !cell.enabled) {\n      return;\n    }\n    this.selectedValueChange.emit(cell.value);\n  }\n\n  /** The number of blank cells to put at the beginning for the first row. */\n  get _firstRowOffset(): number {\n    return this.rows && this.rows.length && this.rows[0].length ?\n        this.numCols - this.rows[0].length : 0;\n  }\n\n  _isActiveCell(rowIndex: number, colIndex: number): boolean {\n    let cellNumber = rowIndex * this.numCols + colIndex;\n\n    // Account for the fact that the first row may not have as many cells.\n    if (rowIndex) {\n      cellNumber -= this._firstRowOffset;\n    }\n\n    return cellNumber == this.activeCell;\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  Optional,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { DateLocale } from './date-locale';\nimport { DateUtil } from './date-util';\nimport { Md2CalendarCell } from './calendar-body';\nimport { MD_DATE_FORMATS, MdDateFormats } from '../core/datetime/date-formats';\nimport { slideCalendar } from './datepicker-animations';\n\n\nconst DAYS_PER_WEEK = 7;\n\n\n/**\n * An internal component used to display a single month in the datepicker.\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-month-view',\n  templateUrl: 'month-view.html',\n  animations: [slideCalendar],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2MonthView implements AfterContentInit {\n  /** Whether the Week-number should be displayed */\n  @Input() displayWeek: boolean;\n\n  /**\n   * The date to display in this month view (everything other than the month and year is ignored).\n   */\n  @Input()\n  get activeDate(): Date { return this._activeDate; }\n  set activeDate(value: Date) {\n    let oldActiveDate = this._activeDate;\n    this._activeDate = value || this._util.today();\n    if (oldActiveDate && this._activeDate &&\n      !this._util.isSameMonthAndYear(oldActiveDate, this._activeDate)) {\n      this._init();\n      if (this._util.isInNextMonth(oldActiveDate, this._activeDate)) {\n        this.calendarState('right');\n      } else {\n        this.calendarState('left');\n      }\n    }\n  }\n  private _activeDate: Date;\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): Date { return this._selected; }\n  set selected(value: Date) {\n    this._selected = value;\n    this._selectedDate = this._getDateInCurrentMonth(this.selected);\n  }\n  private _selected: Date;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: Date) => boolean;\n\n  /** Emits when a new date is selected. */\n  @Output() selectedChange = new EventEmitter<Date>();\n\n  /** Grid of calendar cells representing the dates of the month. */\n  _weeks: Md2CalendarCell[][];\n\n  /** The number of blank cells in the first row before the 1st of the month. */\n  _firstWeekOffset: number;\n\n  /**\n   * The date of the month that the currently selected Date falls on.\n   * Null if the currently selected Date is in another month.\n   */\n  _selectedDate: number;\n\n  /** The date of the month that today falls on. Null if today is in another month. */\n  _todayDate: number;\n\n  /** The names of the weekdays. */\n  _weekdays: { long: string, narrow: string }[];\n\n  _calendarState: string;\n\n  constructor(private _locale: DateLocale, public _util: DateUtil,\n    @Optional() @Inject(MD_DATE_FORMATS) private _dateFormats: MdDateFormats) {\n    if (!this._dateFormats) {\n      throw Error('MD_DATE_FORMATS');\n    }\n\n    const firstDayOfWeek = this._locale.getFirstDayOfWeek();\n    const narrowWeekdays = this._locale.getDayOfWeekNames('narrow');\n    const longWeekdays = this._locale.getDayOfWeekNames('long');\n\n    // Rotate the labels for days of the week based on the configured first day of the week.\n    let weekdays = longWeekdays.map((long, i) => {\n      return { long, narrow: narrowWeekdays[i] };\n    });\n    this._weekdays = weekdays.slice(firstDayOfWeek).concat(weekdays.slice(0, firstDayOfWeek));\n\n    this._activeDate = this._util.today();\n  }\n\n  ngAfterContentInit(): void {\n    this._init();\n  }\n\n  /** Handles when a new date is selected. */\n  _dateSelected(date: number) {\n    this.selectedChange.emit(this._util.createDate(\n      this._util.getYear(this.activeDate), this._util.getMonth(this.activeDate),\n      date, this._util.getHours(this.activeDate),\n      this._util.getMinutes(this.activeDate),\n      this._util.getSeconds(this.activeDate)));\n  }\n\n  /** Initializes this month view. */\n  private _init() {\n    this._selectedDate = this._getDateInCurrentMonth(this.selected);\n    this._todayDate = this._getDateInCurrentMonth(this._util.today());\n\n    let firstOfMonth = this._util.createDate(this._util.getYear(this.activeDate),\n      this._util.getMonth(this.activeDate), 1,\n      this._util.getHours(this.activeDate),\n      this._util.getMinutes(this.activeDate),\n      this._util.getSeconds(this.activeDate));\n    this._firstWeekOffset =\n      (DAYS_PER_WEEK + this._locale.getDayOfWeek(firstOfMonth) -\n        this._locale.getFirstDayOfWeek()) % DAYS_PER_WEEK;\n\n    this._createWeekCells();\n  }\n\n  /** Creates MdCalendarCells for the dates in this month. */\n  private _createWeekCells() {\n    let daysInMonth = this._util.getNumDaysInMonth(this.activeDate);\n    let dateNames = this._locale.getDateNames();\n    let oldWeek;\n    this._weeks = [];\n\n    for (let i = 0, cell = this._firstWeekOffset; i < daysInMonth; i++ , cell++) {\n      let date = this._util.createDate(\n        this._util.getYear(this.activeDate),\n        this._util.getMonth(this.activeDate), i + 1,\n        this._util.getHours(this.activeDate),\n        this._util.getMinutes(this.activeDate),\n        this._util.getSeconds(this.activeDate));\n      let enabled = !this.dateFilter ||\n        this.dateFilter(date);\n      let ariaLabel = this._locale.format(date, this._dateFormats.display.dateA11yLabel);\n      let newWeek = this._util.getWeekOfYear(date);\n      if (oldWeek !== newWeek) {\n        this._weeks.push([]);\n        oldWeek = newWeek;\n        cell = 0;\n      }\n      this._weeks[this._weeks.length - 1]\n        .push(new Md2CalendarCell(i + 1, dateNames[i], ariaLabel, enabled, newWeek.toString()));\n    }\n  }\n\n  /**\n   * Gets the date in this month that the given Date falls on.\n   * Returns null if the given Date is in another month.\n   */\n  private _getDateInCurrentMonth(date: Date): number {\n    return this._util.isSameMonthAndYear(date, this.activeDate) ?\n      this._util.getDate(date) : null;\n  }\n\n  private calendarState(direction: string): void {\n    this._calendarState = direction;\n  }\n\n  _calendarStateDone() {\n    this._calendarState = '';\n  }\n\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  Optional,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { DateLocale } from './date-locale';\nimport { DateUtil } from './date-util';\nimport { Md2CalendarCell } from './calendar-body';\nimport { MD_DATE_FORMATS, MdDateFormats } from '../core/datetime/date-formats';\nimport { slideCalendar } from './datepicker-animations';\n\n\n/**\n * An internal component used to display a single year in the datepicker.\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-year-view',\n  templateUrl: 'year-view.html',\n  animations: [slideCalendar],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2YearView implements AfterContentInit {\n  /** The date to display in this year view (everything other than the year is ignored). */\n  @Input()\n  get activeDate(): Date { return this._activeDate; }\n  set activeDate(value: Date) {\n    let oldActiveDate = this._activeDate;\n    this._activeDate = value || this._util.today();\n    if (oldActiveDate && this._activeDate &&\n      !this._util.isSameYear(oldActiveDate, this._activeDate)) {\n      this._init();\n      // if (oldActiveDate < this._activeDate) {\n      //  this.calendarState('right');\n      // } else {\n      //  this.calendarState('left');\n      // }\n    }\n  }\n  private _activeDate: Date;\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): Date { return this._selected; }\n  set selected(value: Date) {\n    this._selected = value;\n    this._selectedMonth = this._getMonthInCurrentYear(this.selected);\n  }\n  private _selected: Date;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: Date) => boolean;\n\n  /** Emits when a new month is selected. */\n  @Output() selectedChange = new EventEmitter<Date>();\n\n  /** Grid of calendar cells representing the months of the year. */\n  _months: Md2CalendarCell[][];\n\n  /** The label for this year (e.g. \"2017\"). */\n  _yearLabel: string;\n\n  /** The month in this year that today falls on. Null if today is in a different year. */\n  _todayMonth: number;\n\n  /**\n   * The month in this year that the selected Date falls on.\n   * Null if the selected Date is in a different year.\n   */\n  _selectedMonth: number;\n\n  _calendarState: string;\n\n  constructor(private _locale: DateLocale, public _util: DateUtil,\n    @Optional() @Inject(MD_DATE_FORMATS) private _dateFormats: MdDateFormats) {\n    if (!this._dateFormats) {\n      throw Error('MD_DATE_FORMATS');\n    }\n\n    this._activeDate = this._util.today();\n  }\n\n  ngAfterContentInit() {\n    this._init();\n  }\n\n  /** Handles when a new month is selected. */\n  _monthSelected(month: number) {\n    this.selectedChange.emit(this._util.createDate(\n      this._util.getYear(this.activeDate), month,\n      this._util.getDate(this.activeDate),\n      this._util.getHours(this.activeDate),\n      this._util.getMinutes(this.activeDate),\n      this._util.getSeconds(this.activeDate)));\n  }\n\n  /** Initializes this month view. */\n  private _init() {\n    this._selectedMonth = this._getMonthInCurrentYear(this.selected);\n    this._todayMonth = this._getMonthInCurrentYear(this._util.today());\n    this._yearLabel = this._locale.getYearName(this.activeDate);\n\n    let monthNames = this._locale.getMonthNames('short');\n    // First row of months only contains 5 elements so we can fit the year label on the same row.\n    this._months = [[0, 1, 2, 3, 4], [5, 6, 7, 8, 9, 10, 11]].map(row => row.map(\n      month => this._createCellForMonth(month, monthNames[month])));\n  }\n\n  /**\n   * Gets the month in this year that the given Date falls on.\n   * Returns null if the given Date is in another year.\n   */\n  private _getMonthInCurrentYear(date: Date) {\n    return this._util.isSameYear(date, this.activeDate) ?\n      this._util.getMonth(date) : null;\n  }\n\n  /** Creates an MdCalendarCell for the given month. */\n  private _createCellForMonth(month: number, monthName: string) {\n    let ariaLabel = this._locale.format(\n      this._util.createDate(this._util.getYear(this.activeDate), month, 1,\n        this._util.getHours(this.activeDate),\n        this._util.getMinutes(this.activeDate),\n        this._util.getSeconds(this.activeDate)),\n      this._dateFormats.display.monthYearA11yLabel);\n    return new Md2CalendarCell(\n      month, monthName.toLocaleUpperCase(), ariaLabel, this._isMonthEnabled(month));\n  }\n\n  /** Whether the given month is enabled. */\n  private _isMonthEnabled(month: number) {\n    if (!this.dateFilter) {\n      return true;\n    }\n\n    let firstOfMonth = this._util.createDate(\n      this._util.getYear(this.activeDate), month, 1,\n      this._util.getHours(this.activeDate),\n      this._util.getMinutes(this.activeDate),\n      this._util.getSeconds(this.activeDate));\n\n    // If any date in the month is enabled count the month as enabled.\n    for (let date = firstOfMonth; this._util.getMonth(date) == month;\n      date = this._util.addCalendarDays(date, 1)) {\n      if (this.dateFilter(date)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private calendarState(direction: string): void {\n    this._calendarState = direction;\n  }\n\n  _calendarStateDone() {\n    this._calendarState = '';\n  }\n\n}\n","import {\n  AfterContentInit,\n  // ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  // ViewEncapsulation\n} from '@angular/core';\nimport { DateUtil } from './date-util';\nimport { DateLocale } from './date-locale';\n\nexport const CLOCK_RADIUS = 50;\nexport const CLOCK_INNER_RADIUS = 27.5;\nexport const CLOCK_OUTER_RADIUS = 41.25;\nexport const CLOCK_TICK_RADIUS = 7.0833;\n\nexport type ClockView = 'hour' | 'minute';\n\n/**\n * A clock that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-clock',\n  templateUrl: 'clock.html',\n  styleUrls: ['clock.scss'],\n  host: {\n    'role': 'clock',\n    '(mousedown)': '_handleMousedown($event)',\n  },\n  // encapsulation: ViewEncapsulation.None,\n  // changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Md2Clock implements AfterContentInit {\n  /**\n   * The date to display in this clock view.\n   */\n  @Input()\n  get activeDate(): Date { return this._activeDate; }\n  set activeDate(value: Date) {\n    let oldActiveDate = this._activeDate;\n    this._activeDate = this._util.clampDate(value, this.min, this.max);\n    if (!this._util.isSameMinute(oldActiveDate, this._activeDate)) {\n      this._init();\n    }\n  }\n  private _activeDate: Date;\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): Date { return this._selected; }\n  set selected(value: Date) {\n    this._selected = this._util.parse(value);\n    if (this._selected) { this.activeDate = this._selected; }\n  }\n  private _selected: Date;\n\n  /** The minimum selectable date. */\n  @Input()\n  get min(): Date { return this._min; }\n  set min(date: Date) { this._min = this._util.parse(date); }\n  private _min: Date;\n\n  /** The maximum selectable date. */\n  @Input()\n  get max(): Date { return this._max; }\n  set max(date: Date) { this._max = this._util.parse(date); }\n  private _max: Date;\n\n  /** Whether the clock should be started in hour or minute view. */\n  @Input()\n  set startView(value: ClockView) {\n    this._hourView = value != 'minute';\n  }\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: Date) => boolean;\n\n  @Input() interval: number = 1;\n\n  @Input() twelvehour: boolean = false;\n\n  /** Emits when the currently selected date changes. */\n  @Output() selectedChange = new EventEmitter<Date>();\n\n  @Output() activeDateChange = new EventEmitter<Date>();\n\n  /** Hours and Minutes representing the clock view. */\n  _hours: Array<Object> = [];\n  _minutes: Array<Object> = [];\n\n  /** Whether the clock is in hour view. */\n  _hourView: boolean = true;\n\n  _selectedHour: number;\n  _selectedMinute: number;\n\n  get _hand(): any {\n    this._selectedHour = this._util.getHours(this.activeDate);\n    this._selectedMinute = this._util.getMinutes(this.activeDate);\n    let deg = 0;\n    let radius = CLOCK_OUTER_RADIUS;\n    if (this._hourView) {\n      let outer = this.activeDate.getHours() > 0 && this.activeDate.getHours() < 13;\n      radius = outer ? CLOCK_OUTER_RADIUS : CLOCK_INNER_RADIUS;\n      if (this.twelvehour) {\n        radius = CLOCK_OUTER_RADIUS;\n      }\n      deg = Math.round(this.activeDate.getHours() * (360 / (24 / 2)));\n    } else {\n      deg = Math.round(this.activeDate.getMinutes() * (360 / 60));\n    }\n    return {\n      'transform': `rotate(${deg}deg)`,\n      'height': `${radius}%`,\n      'margin-top': `${50 - radius}%`\n    };\n  }\n\n  private mouseMoveListener: any;\n  private mouseUpListener: any;\n\n  constructor(private _element: ElementRef,\n    private _locale: DateLocale, private _util: DateUtil) {\n    this.mouseMoveListener = (event: any) => { this._handleMousemove(event); };\n    this.mouseUpListener = () => { this._handleMouseup(); };\n  }\n\n  ngAfterContentInit() {\n    this.activeDate = this._activeDate || this._util.today();\n    this._init();\n  }\n\n  /** Handles mousedown events on the clock body. */\n  _handleMousedown(event: any) {\n    this.setTime(event);\n    document.addEventListener('mousemove', this.mouseMoveListener);\n    document.addEventListener('touchmove', this.mouseMoveListener);\n    document.addEventListener('mouseup', this.mouseUpListener);\n    document.addEventListener('touchend', this.mouseUpListener);\n  }\n\n  _handleMousemove(event: any) {\n    event.preventDefault();\n    this.setTime(event);\n  }\n\n  _handleMouseup() {\n    document.removeEventListener('mousemove', this.mouseMoveListener);\n    document.removeEventListener('touchmove', this.mouseMoveListener);\n    document.removeEventListener('mouseup', this.mouseUpListener);\n    document.removeEventListener('touchend', this.mouseUpListener);\n    this.selectedChange.emit(this.activeDate);\n  }\n\n  /** Initializes this clock view. */\n  private _init() {\n    this._hours.length = 0;\n    this._minutes.length = 0;\n\n    let hourNames = this._locale.getHourNames();\n    let minuteNames = this._locale.getMinuteNames();\n\n    if (this.twelvehour) {\n      for (let i = 1; i < (hourNames.length / 2) + 1; i++) {\n        let radian = i / 6 * Math.PI;\n        let radius = CLOCK_OUTER_RADIUS;\n        let date = new Date(this.activeDate.getTime());\n        date.setHours(i + 1, 0, 0, 0);\n        let enabled = this._util.isFullDateWithinRange(date, this.min, this.max);\n        this._hours.push({\n          value: i,\n          displayValue: i === 0 ? '00' : hourNames[i],\n          enabled: enabled,\n          top: CLOCK_RADIUS - Math.cos(radian) * radius - CLOCK_TICK_RADIUS,\n          left: CLOCK_RADIUS + Math.sin(radian) * radius - CLOCK_TICK_RADIUS,\n        });\n      }\n    } else {\n      for (let i = 0; i < hourNames.length; i++) {\n        let radian = i / 6 * Math.PI;\n        let outer = i > 0 && i < 13,\n          radius = outer ? CLOCK_OUTER_RADIUS : CLOCK_INNER_RADIUS;\n        let date = new Date(this.activeDate.getTime());\n        date.setHours(i + 1, 0, 0, 0);\n        let enabled = this._util.isFullDateWithinRange(date, this.min, this.max);\n        this._hours.push({\n          value: i,\n          displayValue: i === 0 ? '00' : hourNames[i],\n          enabled: enabled,\n          top: CLOCK_RADIUS - Math.cos(radian) * radius - CLOCK_TICK_RADIUS,\n          left: CLOCK_RADIUS + Math.sin(radian) * radius - CLOCK_TICK_RADIUS,\n          fontSize: i > 0 && i < 13 ? '' : '80%'\n        });\n      }\n    }\n\n    for (let i = 0; i < minuteNames.length; i += 5) {\n      let radian = i / 30 * Math.PI;\n      let date = new Date(this.activeDate.getTime());\n      date.setMinutes(i, 0, 0);\n      let enabled = this._util.isFullDateWithinRange(date, this.min, this.max);\n      this._minutes.push({\n        value: i,\n        displayValue: i === 0 ? '00' : minuteNames[i],\n        enabled: enabled,\n        top: CLOCK_RADIUS - Math.cos(radian) * CLOCK_OUTER_RADIUS - CLOCK_TICK_RADIUS,\n        left: CLOCK_RADIUS + Math.sin(radian) * CLOCK_OUTER_RADIUS - CLOCK_TICK_RADIUS,\n      });\n    }\n  }\n\n  /**\n   * Set Time\n   * @param event\n   */\n  private setTime(event: any) {\n    let trigger = this._element.nativeElement;\n    let triggerRect = trigger.getBoundingClientRect();\n    let width = trigger.offsetWidth;\n    let height = trigger.offsetHeight;\n    let pageX = event.pageX !== undefined ? event.pageX : event.touches[0].pageX;\n    let pageY = event.pageY !== undefined ? event.pageY : event.touches[0].pageY;\n    let x = (width / 2) - (pageX - triggerRect.left - window.pageXOffset);\n    let y = (height / 2) - (pageY - triggerRect.top - window.pageYOffset);\n    let radian = Math.atan2(-x, y);\n    let unit = Math.PI / (this._hourView ? 6 : (this.interval ? (30 / this.interval) : 30));\n    let z = Math.sqrt(x * x + y * y);\n    let outer = this._hourView && z > ((width * (CLOCK_OUTER_RADIUS / 100)) +\n      (width * (CLOCK_INNER_RADIUS / 100))) / 2;\n    let value = 0;\n\n    if (radian < 0) { radian = Math.PI * 2 + radian; }\n    value = Math.round(radian / unit);\n    radian = value * unit;\n\n    let date = new Date(this.activeDate.getTime());\n    if (this._hourView) {\n      if (this.twelvehour) {\n        value = value === 0 ? 12 : value;\n      } else {\n        if (value === 12) { value = 0; }\n        value = outer ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n      }\n      date.setHours(value);\n    } else {\n      if (this.interval) { value *= this.interval; }\n      if (value === 60) { value = 0; }\n      date.setMinutes(value);\n    }\n    this.activeDate = this._util.clampDate(date, this.min, this.max);\n    this.activeDateChange.emit(this.activeDate);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StyleModule, OverlayModule, PortalModule, A11yModule } from '../core/index';\nimport { Md2Datepicker, Md2DatepickerContent } from './datepicker';\nimport { Md2DatepickerToggle } from './datepicker-toggle';\nimport { Md2Calendar } from './calendar';\nimport { Md2MonthView } from './month-view';\nimport { Md2YearView } from './year-view';\nimport { Md2CalendarBody } from './calendar-body';\nimport { Md2Clock } from './clock';\nimport { DateLocale } from './date-locale';\nimport { DateUtil } from './date-util';\n\n\nexport * from './datepicker';\nexport * from './month-view';\nexport * from './year-view';\nexport * from './calendar-body';\nexport * from './clock';\nexport * from './date-locale';\nexport * from './date-util';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OverlayModule,\n    PortalModule,\n    StyleModule,\n    A11yModule,\n  ],\n  exports: [\n    Md2Datepicker,\n    Md2DatepickerToggle,\n    Md2Calendar,\n    Md2CalendarBody,\n    Md2Calendar,\n    Md2MonthView,\n    Md2YearView,\n    Md2CalendarBody,\n    Md2Clock,\n  ],\n  declarations: [\n    Md2Datepicker,\n    Md2DatepickerContent,\n    Md2DatepickerToggle,\n    Md2Calendar,\n    Md2MonthView,\n    Md2YearView,\n    Md2CalendarBody,\n    Md2Clock,\n  ],\n  providers: [DateLocale, DateUtil],\n  entryComponents: [\n    Md2DatepickerContent\n  ]\n})\nexport class Md2DatepickerModule { }\n","/**\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\n * similar to Object.assign.\n *\n * @param dest The object which will have properties copied to it.\n * @param sources The source objects from which properties will be copied.\n */\nexport function extendObject(dest: any, ...sources: any[]): any {\n  if (dest == null) {\n    throw TypeError('Cannot convert undefined or null to object');\n  }\n\n  for (let source of sources) {\n    if (source != null) {\n      for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n          dest[key] = source[key];\n        }\n      }\n    }\n  }\n\n  return dest;\n}\n","import {\n  Component,\n  Output,\n  Input,\n  EventEmitter,\n  Optional,\n  SkipSelf,\n  ViewChild,\n  ViewEncapsulation,\n  OnDestroy,\n  Directive,\n  ViewContainerRef,\n  TemplateRef,\n} from '@angular/core';\nimport {\n  style,\n  trigger,\n  state,\n  transition,\n  animate,\n} from '@angular/animations';\nimport {\n  ESCAPE,\n  Overlay,\n  OverlayState,\n  OverlayRef,\n  TemplatePortalDirective\n} from '../core/index';\nimport { extendObject } from '../core/util/object-extend';\nimport { Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\n\nexport type DialogVisibility = 'initial' | 'visible' | 'hidden';\nexport type DialogRole = 'dialog' | 'alertdialog';\n\nexport class Md2DialogConfig {\n  role?: DialogRole = 'dialog';\n  disableClose?: boolean = false;\n}\n\n@Directive({ selector: '[md2DialogPortal]' })\nexport class Md2DialogPortal extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n/**\n * Title of a dialog element. Stays fixed to the top of the dialog when scrolling.\n */\n@Directive({ selector: 'md2-dialog-title' })\nexport class Md2DialogTitle { }\n\n/**\n * Scrollable content container of a dialog.\n */\n@Directive({ selector: 'md2-dialog-content' })\nexport class Md2DialogContent { }\n\n/**\n * Container for the bottom action buttons in a dialog.\n * Stays fixed to the bottom when scrolling.\n */\n@Directive({ selector: 'md2-dialog-footer, md2-dialog-actions' })\nexport class Md2DialogActions { }\n\n@Component({\n  \n  selector: 'md2-dialog',\n  templateUrl: 'dialog.html',\n  styleUrls: ['dialog.scss'],\n  host: {\n    'tabindex': '0',\n    '[attr.role]': 'config?.role',\n  },\n  animations: [\n    trigger('state', [\n      state('void', style({ transform: 'scale(0.3)' })),\n      state('initial', style({ transform: 'scale(0.3)' })),\n      state('visible', style({ transform: 'scale(1)' })),\n      state('hidden', style({ transform: 'scale(0.3)' })),\n      transition('* => visible', animate('150ms cubic-bezier(0.0, 0.0, 0.2, 1)')),\n      transition('* => hidden', animate('150ms cubic-bezier(0.4, 0.0, 1, 1)')),\n    ])\n  ],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'md2Dialog'\n})\nexport class Md2Dialog implements OnDestroy {\n\n  private _openDialogsAtThisLevel: Array<any> = [];\n  private _boundKeydown = this._handleKeydown.bind(this);\n  private _panelOpen = false;\n  private _overlayRef: OverlayRef = null;\n  private _backdropSubscription: Subscription;\n  config: Md2DialogConfig;\n\n  /** Property watched by the animation framework to show or hide the dialog */\n  _visibility: DialogVisibility = 'initial';\n\n  constructor(private _overlay: Overlay,\n    @Optional() @SkipSelf() private _parentDialog: Md2Dialog) { }\n\n  @Output() onOpen: EventEmitter<Md2Dialog> = new EventEmitter<Md2Dialog>();\n  @Output() onClose: EventEmitter<Md2Dialog> = new EventEmitter<Md2Dialog>();\n\n  /** The portal to send the dialog content through */\n  @ViewChild(Md2DialogPortal) _portal: Md2DialogPortal;\n\n  @Input('title') dialogTitle: string;\n\n  ngOnDestroy() { this.destroyPanel(); }\n\n  get _openDialogs(): Array<any> {\n    return this._parentDialog ? this._parentDialog._openDialogs : this._openDialogsAtThisLevel;\n  }\n\n  /** Open the dialog */\n  open(config?: Md2DialogConfig): Promise<Md2Dialog> {\n    this.config = _applyConfigDefaults(config);\n    if (this._panelOpen) {\n      return Promise.resolve<Md2Dialog>(this);\n    }\n    this._createOverlay();\n    this._overlayRef.attach(this._portal);\n    this._subscribeToBackdrop();\n\n    if (!this._openDialogs.length && !this._parentDialog) {\n      document.addEventListener('keydown', this._boundKeydown);\n    }\n\n    this._openDialogs.push(this);\n    this._panelOpen = true;\n    this._visibility = 'visible';\n    return Promise.resolve<Md2Dialog>(this);\n  }\n\n  /** Close the dialog */\n  close(): Promise<Md2Dialog> {\n    this._visibility = 'hidden';\n    this._panelOpen = false;\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      if (this._backdropSubscription) {\n        this._backdropSubscription.unsubscribe();\n      }\n    }\n\n    let index = this._openDialogs.indexOf(this);\n\n    if (index > -1) {\n      this._openDialogs.splice(index, 1);\n\n      // no open dialogs are left, call next on afterAllClosed Subject\n      if (!this._openDialogs.length) {\n        document.removeEventListener('keydown', this._boundKeydown);\n      }\n    }\n    return Promise.resolve<Md2Dialog>(this);\n  }\n\n  /** Removes the panel from the DOM. */\n  destroyPanel(): void {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n\n      this._cleanUpSubscriptions();\n    }\n  }\n\n  _onPanelDone(): void {\n    if (this._panelOpen) {\n      this.onOpen.emit(this);\n    } else {\n      this.onClose.emit(this);\n    }\n  }\n\n  _handleKeydown(event: KeyboardEvent) {\n    let topDialog = this._openDialogs[this._openDialogs.length - 1];\n\n    if (event.keyCode === ESCAPE && topDialog &&\n      !topDialog.config.disableClose) {\n      topDialog.close();\n    }\n  }\n\n  private _subscribeToBackdrop(): void {\n    if (!this.config.disableClose) {\n      this._backdropSubscription = this._overlayRef.backdropClick().pipe(first()).subscribe(() =>\n        this.close());\n    }\n  }\n\n  private _createOverlay(): void {\n    if (!this._overlayRef) {\n      let config = new OverlayState();\n      config.positionStrategy = this._overlay.position()\n        .global()\n        .centerHorizontally()\n        .centerVertically();\n      config.hasBackdrop = true;\n\n      this._overlayRef = this._overlay.create(config);\n    }\n  }\n\n  private _cleanUpSubscriptions(): void {\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n  }\n\n}\n\n/**\n * Applies default options to the dialog config.\n * @param dialogConfig Config to be modified.\n * @returns The new configuration object.\n */\nfunction _applyConfigDefaults(dialogConfig: Md2DialogConfig): Md2DialogConfig {\n  return extendObject(new Md2DialogConfig(), dialogConfig);\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule, MdCommonModule } from '../core/index';\nimport { PlatformModule } from '../core/platform/index';\nimport {\n  Md2Dialog,\n  Md2DialogTitle,\n  Md2DialogContent,\n  Md2DialogActions,\n  Md2DialogPortal\n} from './dialog';\n\n\n@NgModule({\n  imports: [CommonModule, OverlayModule, MdCommonModule, PlatformModule],\n  exports: [\n    Md2Dialog,\n    Md2DialogTitle,\n    Md2DialogContent,\n    Md2DialogActions,\n    Md2DialogPortal\n  ],\n  declarations: [\n    Md2Dialog,\n    Md2DialogTitle,\n    Md2DialogContent,\n    Md2DialogActions,\n    Md2DialogPortal\n  ]\n})\nexport class Md2DialogModule { }\n\n\nexport * from './dialog';\n","import {\n  Component,\n  ViewEncapsulation,\n} from '@angular/core';\n\n@Component({\n  selector: '[md2-menu-content]',\n  host: { 'role': 'menu' },\n  template: '<ng-content></ng-content>',\n  styleUrls: ['menu.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Md2MenuContent { }\n","import {\n  Component,\n} from '@angular/core';\n\n@Component({\n  selector: '[md2-menu-item]',\n  host: {\n    'role': 'menuitem'\n  },\n  template: '<ng-content></ng-content>'\n})\nexport class Md2MenuItem { }\n","import {\n  Directive,\n  ElementRef,\n  Renderer,\n} from '@angular/core';\n\n@Directive({\n  selector: '[md2-menu-trigger]',\n  host: {\n    'aria-haspopup': 'true',\n    '(click)': '_toggleMenu()',\n  },\n  exportAs: 'md2MenuTrigger'\n})\nexport class Md2MenuTrigger {\n\n  private _handleClick: any;\n\n  constructor(private _element: ElementRef, private _renderer: Renderer) { }\n\n  ngAfterViewInit() {\n    this._handleClick = this._renderer.listenGlobal('document', 'click', (event: Event) => {\n      if (!this._hasChildMenu(event)) {\n        this._closeMenu();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this._handleClick = null;\n  }\n\n  _toggleMenu() {\n    if (this._hasClass(this._getParentElement(), 'open')) {\n      this._closeMenu();\n    } else {\n      this._openMenu();\n    }\n  }\n\n  _openMenu() {\n    this._getParentElement().classList.add('open');\n    let siblingElements = this._getSiblingElements(this._getParentElement());\n    siblingElements.forEach((el: Element) => {\n      el.classList.remove('open');\n      this._closeChildrenMenu(el);\n    });\n  }\n\n  _closeMenu() {\n    this._getParentElement().classList.remove('open');\n    this._closeChildrenMenu(this._getParentElement());\n  }\n\n  _closeChildrenMenu(element: Element) {\n    [].forEach.call(element.querySelectorAll('.open'), (el: Element) => {\n      el.classList.remove('open');\n    });\n  }\n\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  _getParentElement(): HTMLElement {\n    return this._element.nativeElement.parentNode;\n  }\n\n  _getSiblingElements(element: Element) {\n    let siblingElements: Array<Node> = [];\n    let el = element.parentNode.firstChild;\n    for (; el; el = el.nextSibling) {\n      if (el.nodeType == 1 && el !== element) {\n        siblingElements.push(el);\n      }\n    }\n    return siblingElements;\n  }\n\n  _getClosestElement(element: Element, target: string): Element {\n    if (element.hasAttribute(target)) {\n      return element;\n    }\n\n    let parentEl: Element;\n    while (element) {\n      parentEl = element.parentElement;\n      if (parentEl && parentEl.hasAttribute(target)) {\n        return parentEl;\n      }\n      element = parentEl;\n    }\n    return null;\n  }\n\n  _hasClass(element: Element, className: string) {\n    return (' ' + element.className + ' ').indexOf(' ' + className + ' ') > -1;\n  }\n\n  _hasChildMenu(event: any) {\n    let el = this._getClosestElement(event.target, 'md2-menu-trigger');\n    if (el && el === this._getHostElement()) {\n      return true;\n    } else if (this._getParentElement().contains(event.target)) {\n      el = this._getClosestElement(event.target, 'md2-menu-item');\n      if (el && el.querySelectorAll('[md2-menu-content]').length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n}\n","import {\n  Component,\n  ViewEncapsulation,\n  NgModule,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Md2MenuContent } from './menu-content';\nimport { Md2MenuItem } from './menu-item';\nimport { Md2MenuTrigger } from './menu-trigger';\nexport { Md2MenuContent } from './menu-content';\nexport { Md2MenuItem } from './menu-item';\nexport { Md2MenuTrigger } from './menu-trigger';\n\n\n@Component({\n  selector: '[md2-menu]',\n  template: '<ng-content></ng-content>',\n  styleUrls: ['menu.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Md2Menu { }\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [Md2Menu, Md2MenuContent, Md2MenuItem, Md2MenuTrigger],\n  declarations: [Md2Menu, Md2MenuContent, Md2MenuItem, Md2MenuTrigger],\n})\nexport class Md2MenuModule { }\n","import {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  QueryList,\n  TemplateRef,\n  ViewContainerRef,\n  ViewEncapsulation,\n  NgModule,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/** Change event object that is emitted when the tab has changed. */\nexport class Md2TabChange {\n  constructor(public tab: Md2Tab, public index: number) { }\n}\n\n@Directive({ selector: '[md2Transclude]' })\nexport class Md2Transclude {\n\n  private _md2Transclude: TemplateRef<any>;\n\n  constructor(public viewRef: ViewContainerRef) { }\n\n  @Input()\n  get md2Transclude() { return this._md2Transclude; }\n  set md2Transclude(templateRef: TemplateRef<any>) {\n    this._md2Transclude = templateRef;\n    if (templateRef) {\n      this.viewRef.createEmbeddedView(templateRef);\n    }\n  }\n\n}\n\n@Component({\n  \n  selector: 'md2-tab',\n  template: `<ng-content></ng-content>`,\n  host: {\n    '[class]': 'class',\n    '[class.active]': 'active'\n  }\n})\nexport class Md2Tab {\n\n  @Input() label: string;\n\n  @Input() active: boolean;\n\n  @Input() disabled: boolean;\n\n  @Input() class: string;\n\n  labelRef: TemplateRef<any>;\n\n}\n\n@Directive({ selector: '[md2-tab-label]' })\nexport class Md2TabLabel {\n  constructor(public templateRef: TemplateRef<any>, tab: Md2Tab) {\n    tab.labelRef = templateRef;\n  }\n}\n\n@Component({\n  \n  selector: 'md2-tabs',\n  templateUrl: 'tabs.html',\n  styleUrls: ['tabs.scss'],\n  host: {\n    '[class]': 'class',\n    '(window:resize)': 'onWindowResize()'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2Tabs implements AfterContentInit {\n\n  @ContentChildren(Md2Tab) tabs: QueryList<Md2Tab>;\n\n  private _isInitialized: boolean = false;\n  private _focusIndex: number = 0;\n  private _selectedIndex: number = 0;\n  _shouldPaginate: boolean = false;\n  _offsetLeft: number = 0;\n  _inkBarLeft: string = '0';\n  _inkBarWidth: string = '0';\n\n  @Input() class: string;\n\n  @Input()\n  get selectedIndex() { return this._selectedIndex; }\n  set selectedIndex(value: any) {\n    if (typeof value === 'string') { value = parseInt(value); }\n    if (value !== this._selectedIndex) {\n      this._selectedIndex = value;\n      this.adjustOffset(value);\n      this._updateInkBar();\n      if (this.tabs) {\n        const tabs = this.tabs.toArray();\n        if (!tabs[value].disabled) {\n          tabs.forEach(tab => tab.active = false);\n          tabs[value].active = true;\n        }\n      }\n      if (this._isInitialized) {\n        this._emitChangeEvent();\n        this.selectedIndexChange.emit(value);\n      }\n    }\n  }\n\n  get focusIndex(): number { return this._focusIndex; }\n  set focusIndex(value: number) {\n    this._focusIndex = value;\n    this.adjustOffset(value);\n  }\n\n  get element() {\n    const elements: any = {\n      root: this.elementRef.nativeElement,\n      wrapper: null,\n      canvas: null,\n      paging: null,\n      tabs: null\n    };\n    elements.wrapper = elements.root.querySelector('.md2-tabs-header-wrapper');\n    elements.canvas = elements.wrapper.querySelector('.md2-tabs-canvas');\n    elements.paging = elements.canvas.querySelector('.md2-tabs-header');\n    elements.tabs = elements.paging.querySelectorAll('.md2-tab-label');\n    return elements;\n  }\n\n  @Output() change: EventEmitter<Md2TabChange> = new EventEmitter<Md2TabChange>();\n  @Output() selectedIndexChange: EventEmitter<number> = new EventEmitter<number>();\n\n  constructor(private elementRef: ElementRef) { }\n\n  /**\n   * After Content Init\n   */\n  ngAfterContentInit() {\n    setTimeout(() => {\n      this.updatePagination();\n    }, 0);\n    setTimeout(() => {\n      const tabs = this.tabs.toArray();\n      if (this.selectedIndex) {\n        if (this.selectedIndex >= tabs.length) {\n          this.selectedIndex = 0;\n        }\n        tabs.forEach(tab => tab.active = false);\n        tabs[this.selectedIndex].active = true;\n        this.adjustOffset(this.selectedIndex);\n      } else {\n        let index = tabs.findIndex((t: any) => t.active);\n        if (index < 0) {\n          tabs[0].active = true;\n        } else {\n          this.selectedIndex = index;\n        }\n      }\n      this._updateInkBar();\n    }, 0);\n    this._isInitialized = true;\n  }\n\n  /**\n   * Calculates the styles from the selected tab for the ink-bar.\n   */\n  private _updateInkBar(): void {\n    let elements = this.element;\n    if (!elements.tabs[this.selectedIndex]) { return; }\n    let tab = elements.tabs[this.selectedIndex];\n    this._inkBarLeft = tab.offsetLeft + 'px';\n    this._inkBarWidth = tab.offsetWidth + 'px';\n  }\n\n  /** Emits an event when the user selects an option. */\n  _emitChangeEvent(): void {\n    let index = this._selectedIndex;\n    this.change.emit(new Md2TabChange(this.tabs.toArray()[index], index));\n  }\n\n  /**\n   * Focus next Tab\n   */\n  focusNextTab() { this.incrementIndex(1); }\n\n  /**\n   * Focus previous Tab\n   */\n  focusPreviousTab() { this.incrementIndex(-1); }\n\n  /**\n   * Mouse Wheel scroll\n   * @param event\n   */\n  scroll(event: any) {\n    if (!this._shouldPaginate) { return; }\n    event.preventDefault();\n    this._offsetLeft = this.fixOffset(this._offsetLeft - event.wheelDelta);\n  }\n\n  /**\n   * Next Page\n   */\n  nextPage() {\n    let elements = this.element;\n    let viewportWidth = elements.canvas.clientWidth,\n      totalWidth = viewportWidth + this._offsetLeft,\n      i: number, tab: any;\n    for (i = 0; i < elements.tabs.length; i++) {\n      tab = elements.tabs[i];\n      if (tab.offsetLeft + tab.offsetWidth > totalWidth) { break; }\n    }\n    this._offsetLeft = this.fixOffset(tab.offsetLeft);\n  }\n\n  /**\n   * Previous Page\n   */\n  previousPage() {\n    let i: number, tab: any, elements = this.element;\n\n    for (i = 0; i < elements.tabs.length; i++) {\n      tab = elements.tabs[i];\n      if (tab.offsetLeft + tab.offsetWidth >= this._offsetLeft) { break; }\n    }\n    this._offsetLeft = this.fixOffset(tab.offsetLeft +\n      tab.offsetWidth - elements.canvas.clientWidth);\n  }\n\n  /**\n   * On Window Resize\n   * @param event\n   */\n  onWindowResize() {\n    this._offsetLeft = this.fixOffset(this._offsetLeft);\n    this.updatePagination();\n  }\n\n  /**\n   * Can page Back\n   */\n  canPageBack() { return this._offsetLeft > 0; }\n\n  /**\n   * Can page Previous\n   */\n  canPageForward() {\n    let elements = this.element;\n    let lastTab = elements.tabs[elements.tabs.length - 1];\n    return lastTab && lastTab.offsetLeft + lastTab.offsetWidth > elements.canvas.clientWidth +\n      this._offsetLeft;\n  }\n\n  /**\n   * Update Pagination\n   */\n  updatePagination() {\n    let canvasWidth = this.element.root.clientWidth;\n    let tabs: any[] = this.element.tabs ? this.element.tabs : [];\n    for (let i = 0; i < tabs.length; i++) {\n      canvasWidth -= tabs[i].offsetWidth;\n    }\n    this._shouldPaginate = canvasWidth < 0;\n  }\n\n  /**\n   * Increment Focus Tab\n   * @param inc\n   */\n  incrementIndex(inc: any) {\n    let newIndex: number,\n      index = this.focusIndex;\n    for (newIndex = index + inc;\n      this.tabs.toArray()[newIndex] && this.tabs.toArray()[newIndex].disabled;\n      newIndex += inc) { }\n    if (this.tabs.toArray()[newIndex]) {\n      this.focusIndex = newIndex;\n    }\n  }\n\n  /**\n   * Adjust Offset of Tab\n   * @param index\n   */\n  adjustOffset(index: number) {\n    let elements = this.element;\n    if (!elements.tabs[index]) { return; }\n    let tab = elements.tabs[index],\n      left = tab.offsetLeft,\n      right = tab.offsetWidth + left;\n    this._offsetLeft = Math.max(this._offsetLeft,\n      this.fixOffset(right - elements.canvas.clientWidth + 32 * 2));\n    this._offsetLeft = Math.min(this._offsetLeft, this.fixOffset(left));\n  }\n\n  /**\n   * Fix Offset of Tab\n   * @param value\n   * @return value\n   */\n  fixOffset(value: any) {\n    let elements = this.element;\n    if (!elements.tabs.length || !this._shouldPaginate) { return 0; }\n    let lastTab = elements.tabs[elements.tabs.length - 1],\n      totalWidth = lastTab.offsetLeft + lastTab.offsetWidth;\n    value = Math.min(totalWidth - elements.canvas.clientWidth, value);\n    value = Math.max(0, value);\n    return value;\n  }\n\n}\n\nexport const MD2_TABS_DIRECTIVES: any[] = [Md2TabLabel, Md2Tabs, Md2Tab];\n\n@NgModule({\n  imports: [CommonModule],\n  exports: MD2_TABS_DIRECTIVES,\n  declarations: [Md2Transclude, Md2TabLabel, Md2Tabs, Md2Tab],\n})\nexport class Md2TabsModule { }\n","import {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor,\n} from '@angular/forms';\nimport {\n  coerceBooleanProperty,\n  LEFT_ARROW,\n  RIGHT_ARROW,\n  BACKSPACE,\n  DELETE,\n  TAB,\n  ESCAPE\n} from '../core/core';\n\nconst noop = () => { };\n\nlet nextId = 0;\n\nexport class Tag {\n  text: string;\n  value: string;\n\n  constructor(source: any, textKey: string, valueKey: string) {\n    if (typeof source === 'string') {\n      this.text = this.value = source;\n    }\n    if (typeof source === 'object') {\n      this.text = source[textKey];\n      this.value = valueKey ? source[valueKey] : source;\n    }\n  }\n}\n\nexport const MD2_TAGS_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => Md2Tags),\n  multi: true\n};\n\n@Component({\n  \n  selector: 'md2-tags',\n  templateUrl: 'tags.html',\n  styleUrls: ['tags.scss'],\n  host: {\n    'role': 'tags',\n    '[id]': 'id',\n    '[class.focus]': '_inputFocused || _selectedTag >= 0',\n    '[class.md2-tags-disabled]': 'disabled',\n    '[tabindex]': 'disabled ? -1 : tabindex',\n    '[attr.aria-disabled]': 'disabled'\n  },\n  providers: [MD2_TAGS_CONTROL_VALUE_ACCESSOR],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'md2Tags'\n})\n\nexport class Md2Tags implements AfterContentInit, ControlValueAccessor {\n\n  constructor(private _element: ElementRef) { }\n\n  ngAfterContentInit() { this._isInitialized = true; }\n\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n\n  private _value: any = '';\n  private _disabled: boolean = false;\n  private _isInitialized: boolean = false;\n  private _onTouchedCallback: () => void = noop;\n  private _onChangeCallback: (_: any) => void = noop;\n\n  private _tags: Array<any> = [];\n  _list: Array<Tag> = [];\n  _items: Array<Tag> = [];\n\n  _focusedTag: number = 0;\n  _selectedTag: number = -1;\n  _inputValue: string = '';\n  _inputFocused: boolean = false;\n  private noBlur: boolean = true;\n\n  @Input() id: string = 'md2-tags-' + (++nextId);\n  @Input() tabindex: number = 0;\n  @Input() placeholder: string = '';\n  @Input('md2-tag-text') textKey: string = 'text';\n  @Input('md2-tag-value') valueKey: string = null;\n\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) { this._disabled = coerceBooleanProperty(value); }\n\n  @Input('md2-tags')\n  set tags(value: Array<any>) { this._tags = value; }\n\n  @Input()\n  get value(): any { return this._value; }\n  set value(value: any) { this.setValue(value); }\n\n  /**\n   * setup value\n   * @param value\n   */\n  private setValue(value: any) {\n    if (value !== this._value) {\n      this._value = value;\n      this._items = [];\n      if (value && value.length && typeof value === 'object' && Array.isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n          let selItm = this._tags.find((t: any) => this.equals(this.valueKey ?\n            t[this.valueKey] : t, value[i]));\n          if (selItm) { this._items.push(new Tag(selItm, this.textKey, this.valueKey)); }\n        }\n      }\n      if (this._isInitialized) {\n        this._onChangeCallback(value);\n        this.change.emit(this._value);\n      }\n    }\n  }\n\n  /**\n   * Compare two vars or objects\n   * @param o1 compare first object\n   * @param o2 compare second object\n   * @return boolean comparation result\n   */\n  private equals(o1: any, o2: any) {\n    if (o1 === o2) { return true; }\n    if (o1 === null || o2 === null) { return false; }\n    if (o1 !== o1 && o2 !== o2) { return true; }\n    let t1 = typeof o1, t2 = typeof o2, key: any, keySet: any;\n    if (t1 === t2 && t1 === 'object') {\n      keySet = Object.create(null);\n      for (key in o1) {\n        if (!this.equals(o1[key], o2[key])) { return false; }\n        keySet[key] = true;\n      }\n      for (key in o2) {\n        if (!(key in keySet) && key.charAt(0) !== '$' && o2[key]) { return false; }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  get isMenuVisible(): boolean {\n    return ((this._inputFocused || this.noBlur) && this._inputValue &&\n      this._list && this._list.length) ? true : false;\n  }\n\n  /**\n   * update scroll of tags suggestion menu\n   */\n  private updateScroll() {\n    if (this._focusedTag < 0) { return; }\n    let menuContainer = this._element.nativeElement.querySelector('.md2-tags-menu');\n    if (!menuContainer) { return; }\n\n    let choices = menuContainer.querySelectorAll('.md2-option');\n    if (choices.length < 1) { return; }\n\n    let highlighted: any = choices[this._focusedTag];\n    if (!highlighted) { return; }\n\n    let top: number = highlighted.offsetTop + highlighted.clientHeight - menuContainer.scrollTop;\n    let height: number = menuContainer.offsetHeight;\n\n    if (top > height) {\n      menuContainer.scrollTop += top - height;\n    } else if (top < highlighted.clientHeight) {\n      menuContainer.scrollTop -= highlighted.clientHeight - top;\n    }\n  }\n\n  /**\n   * input key listener\n   * @param event\n   */\n  _handleInputKeydown(event: KeyboardEvent) {\n    // Backspace\n    if (event.keyCode === 8 && !this._inputValue) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this._items.length && this._selectedTag < 0) {\n        this.selectAndFocusTagSafe(this._items.length - 1);\n      }\n      if (this._items.length && this._selectedTag > -1) {\n        this.removeAndSelectAdjacentTag(this._selectedTag);\n      }\n      return;\n    }\n    // Del Key\n    if (event.keyCode === 46 && !this._inputValue) { return; }\n    // Left / Right Arrow\n    if ((event.keyCode === 37 || event.keyCode === 39) && !this._inputValue) { return; }\n    // Down Arrow\n    if (event.keyCode === 40) {\n      if (!this.isMenuVisible) { return; }\n      event.stopPropagation();\n      event.preventDefault();\n      this._focusedTag = (this._focusedTag === this._list.length - 1) ?\n        0 : Math.min(this._focusedTag + 1, this._list.length - 1);\n      this.updateScroll();\n      return;\n    }\n    // Up Arrow\n    if (event.keyCode === 38) {\n      if (!this.isMenuVisible) { return; }\n      event.stopPropagation();\n      event.preventDefault();\n      this._focusedTag = (this._focusedTag === 0) ?\n        this._list.length - 1 : Math.max(0, this._focusedTag - 1);\n      this.updateScroll();\n      return;\n    }\n    // Tab Key\n    if (event.keyCode === 9) { return; }\n    // Enter / Space\n    if (event.keyCode === 13 || event.keyCode === 32) {\n      if (!this._inputValue || !this.isMenuVisible) { event.preventDefault(); return; }\n      event.preventDefault();\n      this._addTag(event, this._focusedTag);\n      return;\n    }\n    // Escape Key\n    if (event.keyCode === 27) {\n      event.stopPropagation();\n      event.preventDefault();\n      if (this._inputValue) { this._inputValue = ''; }\n      if (this._selectedTag >= 0) { this._handleFocus(); }\n      return;\n    }\n    // reset selected tag\n    if (this._selectedTag >= 0) { this.resetselectedTag(); }\n    // filter\n    setTimeout(() => {\n      this.filterMatches();\n    }, 10);\n  }\n\n  @HostListener('keydown', ['$event'])\n  _handleKeydown(event: KeyboardEvent) {\n    if (this.disabled || this._inputValue) { return; }\n    switch (event.keyCode) {\n      case BACKSPACE:\n      case DELETE:\n        if (this._selectedTag < 0) { return; }\n        event.preventDefault();\n        this.removeAndSelectAdjacentTag(this._selectedTag);\n        break;\n\n      case TAB:\n      case ESCAPE:\n        if (this._selectedTag < 0) { return; }\n        event.preventDefault();\n        this._handleFocus();\n        break;\n\n      case LEFT_ARROW:\n        event.preventDefault();\n        if (this._selectedTag < 0) { this._selectedTag = this._items.length; }\n        if (this._items.length) { this.selectAndFocusTagSafe(this._selectedTag - 1); }\n        break;\n      case RIGHT_ARROW:\n        event.preventDefault();\n        if (this._selectedTag >= this._items.length) { this._selectedTag = -1; }\n        this.selectAndFocusTagSafe(this._selectedTag + 1);\n        break;\n    }\n  }\n\n  private removeAndSelectAdjacentTag(index: number) {\n    let selIndex = this.getAdjacentTagIndex(index);\n    this.removeTag(index);\n    this.selectAndFocusTagSafe(selIndex);\n  }\n\n  private resetselectedTag() {\n    this._selectedTag = -1;\n  }\n\n  private getAdjacentTagIndex(index: number) {\n    let len = this._items.length - 1;\n    return (len === 0) ? -1 :\n      (index === len) ? index - 1 : index;\n  }\n\n  /**\n   * add tag\n   * @param event\n   * @param index index of the specific tag\n   */\n  _addTag(event: Event, index: number) {\n    event.preventDefault();\n    event.stopPropagation();\n    this._items.push(this._list[index]);\n    this._inputValue = '';\n    this.updateValue();\n  }\n\n  _removeTagAndFocusInput(index: number) {\n    this.removeTag(index);\n    this._handleFocus();\n  }\n\n  /**\n   * remove tag\n   * @param index\n   */\n  private removeTag(index: number) {\n    this._items.splice(index, 1);\n    this.updateValue();\n  }\n\n  /**\n   * update value\n   */\n  private updateValue() {\n    this._value = new Array<any>();\n    for (let i = 0; i < this._items.length; i++) {\n      this._value.push(this._items[i].value);\n    }\n    this._onChangeCallback(this._value);\n    this.change.emit(this._value);\n  }\n\n  private selectAndFocusTagSafe = function (index: number) {\n    if (!this._items.length) {\n      this._selectTag(-1);\n      this._handleFocus();\n      return;\n    }\n    if (index === this._items.length) { return this._handleFocus(); }\n    index = Math.max(index, 0);\n    index = Math.min(index, this._items.length - 1);\n    this._selectTag(index);\n  };\n\n  /**\n   * select tag\n   * @param index of select tag\n   */\n  _selectTag(index: number) {\n    if (index >= -1 && index <= this._items.length) {\n      this._selectedTag = index;\n    }\n  }\n\n  @HostListener('focus')\n  _handleFocus() {\n    this._element.nativeElement.querySelector('input').focus();\n    this.resetselectedTag();\n  }\n\n  _onInputFocus() {\n    this._inputFocused = true;\n    this.resetselectedTag();\n  }\n\n  _onInputBlur() {\n    this._inputFocused = false;\n  }\n\n  _listEnter() { this.noBlur = true; }\n\n  _listLeave() { this.noBlur = false; }\n\n  /**\n   * update suggestion menu with filter\n   * @param query\n   */\n  private filterMatches() {\n    let tempList = this._tags.map((tag: any) => new Tag(tag, this.textKey, this.valueKey));\n    this._list = tempList.filter((t: Tag) =>\n      (new RegExp(this._inputValue, 'ig').test(t.text) &&\n        !this._items.find((i: Tag) => t.text === i.text)));\n    if (this._list.length > 0) {\n      this._focusedTag = 0;\n    }\n  }\n\n  writeValue(value: any) {\n    if (value !== this._value) {\n      this._value = value;\n      this._items = [];\n      if (value && value.length && typeof value === 'object' && Array.isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n          let selItm = this._tags.find((t: any) => this.equals(this.valueKey ?\n            t[this.valueKey] : t, value[i]));\n          if (selItm) { this._items.push(new Tag(selItm, this.textKey, this.valueKey)); }\n        }\n      }\n    }\n  }\n\n  registerOnChange(fn: any) { this._onChangeCallback = fn; }\n\n  registerOnTouched(fn: any) { this._onTouchedCallback = fn; }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Md2AutocompleteModule } from '../autocomplete/index';\nimport { Md2Tags } from './tags';\n\nexport * from './tags';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, Md2AutocompleteModule],\n  exports: [Md2Tags],\n  declarations: [Md2Tags],\n})\nexport class Md2TagsModule { }\n","import {\n  Component,\n  Injectable,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  Overlay,\n  OverlayState,\n  OverlayRef,\n  ComponentPortal,\n} from '../core/index';\n\nexport class Toast {\n  id: number;\n  isVisible: boolean;\n  constructor(public message: string) { }\n}\n\nexport class Md2ToastConfig {\n  duration: number = 3000;\n  viewContainerRef?: ViewContainerRef = null;\n}\n\n@Injectable()\nexport class Md2Toast {\n  private index: number = 0;\n\n  _overlayRef: OverlayRef;\n  _toastInstance: Md2ToastComponent;\n\n  constructor(private _overlay: Overlay, private _config: Md2ToastConfig) { }\n\n  /**\n   * toast message\n   * @param toast string or object with message and other properties of toast\n   */\n  toast(message: string, duration?: number) {\n    this.show(message, duration);\n  }\n\n  /**\n   * show toast\n   * @param toastObj string or object with message and other properties of toast\n   */\n  show(message: string, duration?: number) {\n    if (!message || !message.trim()) { return; }\n\n    if (duration) { this._config.duration = duration; }\n\n    let toast: Toast;\n    toast = new Toast(message);\n\n    if (toast) {\n      if (!this._toastInstance) {\n        this._createToast();\n      }\n\n      this._setToastMessage(toast);\n    }\n  }\n\n  /** Create the toast to display */\n  private _createToast(): void {\n    this._createOverlay();\n    let portal = new ComponentPortal(Md2ToastComponent, this._config.viewContainerRef);\n    this._toastInstance = this._overlayRef.attach(portal).instance;\n  }\n\n  /** Create the overlay config and position strategy */\n  private _createOverlay(): void {\n    if (!this._overlayRef) {\n      let config = new OverlayState();\n      config.positionStrategy = this._overlay.position()\n        .global()\n        .top('0').right('0');\n\n      this._overlayRef = this._overlay.create(config);\n    }\n  }\n\n  /** Disposes the current toast and the overlay it is attached to */\n  private _disposeToast(): void {\n    this._overlayRef.dispose();\n    this._overlayRef = null;\n    this._toastInstance = null;\n  }\n\n  /** Updates the toast message and repositions the overlay according to the new message length */\n  private _setToastMessage(toast: Toast) {\n    toast.id = ++this.index;\n    this._toastInstance.addToast(toast);\n    setTimeout(() => {\n      this.clearToast(toast.id);\n    }, this._config.duration);\n  }\n\n  /**\n   * clear specific toast\n   * @param toastId\n   */\n  private clearToast(toastId: number) {\n    if (this._toastInstance) {\n      this._toastInstance.removeToast(toastId);\n      setTimeout(() => {\n        if (!this._toastInstance.hasToast()) { this._disposeToast(); }\n      }, 250);\n\n    }\n  }\n\n  /**\n   * clear all toasts\n   */\n  clearAllToasts() {\n    if (this._toastInstance) {\n      this._toastInstance.removeAllToasts();\n      setTimeout(() => {\n        if (!this._toastInstance.hasToast()) { this._disposeToast(); }\n      }, 250);\n\n    }\n  }\n\n}\n\n@Component({\n  selector: 'md2-toast',\n  templateUrl: 'toast.html',\n  styleUrls: ['toast.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Md2ToastComponent {\n  toasts: Toast[] = [];\n  maxShown = 5;\n\n  /**\n   * add toast\n   * @param toast toast object with all parameters\n   */\n  addToast(toast: Toast) {\n    setTimeout(() => {\n      toast.isVisible = true;\n    }, 1);\n    this.toasts.push(toast);\n    if (this.toasts.length > this.maxShown) {\n      this.toasts[0].isVisible = false;\n      setTimeout(() => {\n        this.toasts.splice(0, (this.toasts.length - this.maxShown));\n      }, 250);\n    }\n  }\n\n  /**\n   * remove toast\n   * @param toastId number of toast id\n   */\n  removeToast(toastId: number) {\n    this.toasts.forEach((t: any) => { if (t.id === toastId) { t.isVisible = false; } });\n    setTimeout(() => {\n      this.toasts = this.toasts.filter((toast) => { return toast.id !== toastId; });\n    }, 250);\n  }\n\n  /**\n   * remove all toasts\n   * @param toastId number of toast id\n   */\n  removeAllToasts() {\n    this.toasts.forEach((t: any) => { t.isVisible = false; });\n    setTimeout(() => {\n      this.toasts = [];\n    }, 250);\n  }\n\n  /**\n   * check has any toast\n   * @return boolean\n   */\n  hasToast(): boolean { return this.toasts.length > 0; }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule, MdCommonModule } from '../core/index';\nimport { PlatformModule } from '../core/platform/index';\nimport { Md2Toast, Md2ToastConfig, Md2ToastComponent } from './toast';\n\nexport * from './toast';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OverlayModule,\n    MdCommonModule,\n    PlatformModule\n  ],\n  exports: [Md2ToastComponent, MdCommonModule],\n  declarations: [Md2ToastComponent],\n  entryComponents: [Md2ToastComponent],\n  providers: [Md2Toast, Md2ToastConfig],\n})\nexport class Md2ToastModule { }\n","import {\n  Component,\n  Directive,\n  Input,\n  ElementRef,\n  ViewContainerRef,\n  NgZone,\n  Optional,\n  OnDestroy,\n  Renderer2,\n  ChangeDetectorRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  style,\n  trigger,\n  state,\n  transition,\n  animate,\n  AnimationEvent,\n} from '@angular/animations';\nimport {\n  Overlay,\n  OverlayState,\n  OverlayRef,\n  ComponentPortal,\n  OverlayConnectionPosition,\n  OriginConnectionPosition,\n} from '../core/index';\nimport { Observable, Subject } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { Dir } from '../core/rtl/dir';\nimport { Platform } from '../core/platform/index';\nimport { ScrollDispatcher } from '../core/overlay/scroll/scroll-dispatcher';\nimport { coerceBooleanProperty } from '../core/coercion/boolean-property';\n\nexport type TooltipPosition = 'left' | 'right' | 'above' | 'below' | 'before' | 'after';\n\n/** Time in ms to delay before changing the tooltip visibility to hidden */\nexport const TOUCHEND_HIDE_DELAY = 1500;\n\n/** Time in ms to throttle repositioning after scroll events. */\nexport const SCROLL_THROTTLE_MS = 20;\n\n/** Throws an error if the user supplied an invalid tooltip position. */\nexport function throwMd2TooltipInvalidPositionError(position: string) {\n  throw new Error(`Tooltip position \"${position}\" is invalid.`);\n}\n\n/**\n * Directive that attaches a material design tooltip to the host element. Animates the showing and\n * hiding of a tooltip provided position (defaults to below the element).\n *\n * https://material.google.com/components/tooltips.html\n */\n@Directive({\n  selector: '[tooltip]',\n  host: {\n    '(longpress)': 'show()',\n    '(touchend)': 'hide(' + TOUCHEND_HIDE_DELAY + ')',\n  },\n  exportAs: 'md2Tooltip',\n})\nexport class Md2Tooltip implements OnDestroy {\n  _overlayRef: OverlayRef;\n  _tooltipInstance: Md2TooltipComponent;\n\n  private _position: TooltipPosition = 'below';\n  private _disabled: boolean = false;\n\n  /** Allows the user to define the position of the tooltip relative to the parent element */\n  @Input('tooltip-position')\n  get position(): TooltipPosition { return this._position; }\n  set position(value: TooltipPosition) {\n    if (value !== this._position) {\n      this._position = value;\n\n      // TODO(andrewjs): When the overlay's position can be dynamically changed, do not destroy\n      // the tooltip.\n      if (this._tooltipInstance) {\n        this._disposeTooltip();\n      }\n    }\n  }\n\n  /** Disables the display of the tooltip. */\n  @Input('tooltipDisabled')\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) {\n    this._disabled = coerceBooleanProperty(value);\n\n    // If tooltip is disabled, hide immediately.\n    if (this._disabled) {\n      this.hide(0);\n    }\n  }\n\n  /** The default delay in ms before showing the tooltip after show is called */\n  @Input('tooltip-delay') showDelay = 0;\n\n  /** The default delay in ms before hiding the tooltip after hide is called */\n  @Input('tooltip-hide-delay') hideDelay = 0;\n\n  private _message: string;\n\n  /** The message to be displayed in the tooltip */\n  @Input('tooltip') get message() { return this._message; }\n  set message(value: string) {\n    this._message = value;\n    if (this._tooltipInstance) {\n      this._setTooltipMessage(this._message);\n    }\n  }\n\n  constructor(private _overlay: Overlay,\n    private _elementRef: ElementRef,\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewContainerRef: ViewContainerRef,\n    private _ngZone: NgZone,\n    private _renderer: Renderer2,\n    private _platform: Platform,\n    @Optional() private _dir: Dir) {\n\n    // The mouse events shouldn't be bound on iOS devices, because\n    // they can prevent the first tap from firing its click event.\n    if (!_platform.IOS) {\n      _renderer.listen(_elementRef.nativeElement, 'mouseenter', () => this.show());\n      _renderer.listen(_elementRef.nativeElement, 'mouseleave', () => this.hide());\n    }\n  }\n\n  /**\n   * Dispose the tooltip when destroyed.\n   */\n  ngOnDestroy() {\n    if (this._tooltipInstance) {\n      this._disposeTooltip();\n    }\n  }\n\n  /** Shows the tooltip after the delay in ms, defaults to tooltip-delay-show or 0ms if no input */\n  show(delay: number = this.showDelay): void {\n    if (this.disabled || !this._message || !this._message.trim()) { return; }\n\n    if (!this._tooltipInstance) {\n      this._createTooltip();\n    }\n\n    this._setTooltipMessage(this._message);\n    this._tooltipInstance.show(this._position, delay);\n  }\n\n  /** Hides the tooltip after the delay in ms, defaults to tooltip-delay-hide or 0ms if no input */\n  hide(delay: number = this.hideDelay): void {\n    if (this._tooltipInstance) {\n      this._tooltipInstance.hide(delay);\n    }\n  }\n\n  /** Shows/hides the tooltip */\n  toggle(): void {\n    this._isTooltipVisible() ? this.hide() : this.show();\n  }\n\n  /** Returns true if the tooltip is currently visible to the user */\n  _isTooltipVisible(): boolean {\n    return !!this._tooltipInstance && this._tooltipInstance.isVisible();\n  }\n\n  /** Create the tooltip to display */\n  private _createTooltip(): void {\n    this._createOverlay();\n    let portal = new ComponentPortal(Md2TooltipComponent, this._viewContainerRef);\n    this._tooltipInstance = this._overlayRef.attach(portal).instance;\n\n    // Dispose the overlay when finished the shown tooltip.\n    this._tooltipInstance.afterHidden().subscribe(() => {\n      // Check first if the tooltip has already been removed through this components destroy.\n      if (this._tooltipInstance) {\n        this._disposeTooltip();\n      }\n    });\n  }\n\n  /** Create the overlay config and position strategy */\n  private _createOverlay(): void {\n    let origin = this._getOrigin();\n    let position = this._getOverlayPosition();\n\n    // Create connected position strategy that listens for scroll events to reposition.\n    // After position changes occur and the overlay is clipped by a parent scrollable then\n    // close the tooltip.\n    let strategy = this._overlay.position().connectedTo(this._elementRef, origin, position);\n    strategy.withScrollableContainers(this._scrollDispatcher.getScrollContainers(this._elementRef));\n    strategy.onPositionChange.subscribe((change: any) => {\n      if (change.scrollableViewProperties.isOverlayClipped &&\n        this._tooltipInstance && this._tooltipInstance.isVisible()) {\n        this.hide(0);\n      }\n    });\n\n    let config = new OverlayState();\n\n    config.direction = this._dir ? this._dir.value : 'ltr';\n    config.positionStrategy = strategy;\n    config.scrollStrategy = this._overlay.scrollStrategies.reposition({\n      scrollThrottle: SCROLL_THROTTLE_MS\n    });\n\n    this._overlayRef = this._overlay.create(config);\n  }\n\n  /** Disposes the current tooltip and the overlay it is attached to */\n  private _disposeTooltip(): void {\n    this._overlayRef.dispose();\n    this._overlayRef = null;\n    this._tooltipInstance = null;\n  }\n\n  /** Returns the origin position based on the user's position preference */\n  _getOrigin(): OriginConnectionPosition {\n    if (this.position == 'above' || this.position == 'below') {\n      return { originX: 'center', originY: this.position == 'above' ? 'top' : 'bottom' };\n    }\n\n    const isDirectionLtr = !this._dir || this._dir.value == 'ltr';\n    if (this.position == 'left' ||\n      this.position == 'before' && isDirectionLtr ||\n      this.position == 'after' && !isDirectionLtr) {\n      return { originX: 'start', originY: 'center' };\n    }\n\n    if (this.position == 'right' ||\n      this.position == 'after' && isDirectionLtr ||\n      this.position == 'before' && !isDirectionLtr) {\n      return { originX: 'end', originY: 'center' };\n    }\n\n    throwMd2TooltipInvalidPositionError(this.position);\n  }\n\n  /** Returns the overlay position based on the user's preference */\n  _getOverlayPosition(): OverlayConnectionPosition {\n    if (this.position == 'above') {\n      return { overlayX: 'center', overlayY: 'bottom' };\n    }\n\n    if (this.position == 'below') {\n      return { overlayX: 'center', overlayY: 'top' };\n    }\n\n    const isLtr = !this._dir || this._dir.value == 'ltr';\n    if (this.position == 'left' ||\n      this.position == 'before' && isLtr ||\n      this.position == 'after' && !isLtr) {\n      return { overlayX: 'end', overlayY: 'center' };\n    }\n\n    if (this.position == 'right' ||\n      this.position == 'after' && isLtr ||\n      this.position == 'before' && !isLtr) {\n      return { overlayX: 'start', overlayY: 'center' };\n    }\n\n    throwMd2TooltipInvalidPositionError(this.position);\n  }\n\n  /** Updates the tooltip message and repositions the overlay according to the new message length */\n  private _setTooltipMessage(message: string) {\n    // Must wait for the message to be painted to the tooltip so that the overlay can properly\n    // calculate the correct positioning based on the size of the text.\n    this._tooltipInstance.message = message;\n    this._tooltipInstance._markForCheck();\n\n    this._ngZone.onMicrotaskEmpty.pipe(first()).subscribe(() => {\n      if (this._tooltipInstance) {\n        this._overlayRef.updatePosition();\n      }\n    });\n  }\n}\n\nexport type TooltipVisibility = 'initial' | 'visible' | 'hidden';\n\n/**\n * Internal component that wraps the tooltip's content.\n * @docs-private\n */\n@Component({\n  \n  selector: 'md2-tooltip',\n  templateUrl: 'tooltip.html',\n  styleUrls: ['tooltip.scss'],\n  animations: [\n    trigger('state', [\n      state('void', style({ transform: 'scale(0)' })),\n      state('initial', style({ transform: 'scale(0)' })),\n      state('visible', style({ transform: 'scale(1)' })),\n      state('hidden', style({ transform: 'scale(0)' })),\n      transition('* => visible', animate('150ms cubic-bezier(0.0, 0.0, 0.2, 1)')),\n      transition('* => hidden', animate('150ms cubic-bezier(0.4, 0.0, 1, 1)')),\n    ])\n  ],\n  host: {\n    '[style.zoom]': '_visibility === \"visible\" ? 1 : null',\n    '(body:click)': 'this._handleBodyInteraction()'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class Md2TooltipComponent {\n  /** Message to display in the tooltip */\n  message: string;\n\n  /** The timeout ID of any current timer set to show the tooltip */\n  _showTimeoutId: number;\n\n  /** The timeout ID of any current timer set to hide the tooltip */\n  _hideTimeoutId: number;\n\n  /** Property watched by the animation framework to show or hide the tooltip */\n  _visibility: TooltipVisibility = 'initial';\n\n  /** Whether interactions on the page should close the tooltip */\n  _closeOnInteraction: boolean = false;\n\n  /** The transform origin used in the animation for showing and hiding the tooltip */\n  _transformOrigin: string = 'bottom';\n\n  /** Subject for notifying that the tooltip has been hidden from the view */\n  private _onHide: Subject<any> = new Subject();\n\n  constructor( @Optional() private _dir: Dir, private _changeDetectorRef: ChangeDetectorRef) { }\n\n  /**\n   * Shows the tooltip with an animation originating from the provided origin\n   * @param position Position of the tooltip.\n   * @param delay Amount of milliseconds to the delay showing the tooltip.\n   */\n  show(position: TooltipPosition, delay: number): void {\n    // Cancel the delayed hide if it is scheduled\n    if (this._hideTimeoutId) {\n      clearTimeout(this._hideTimeoutId);\n    }\n\n    // Body interactions should cancel the tooltip if there is a delay in showing.\n    this._closeOnInteraction = true;\n\n    this._setTransformOrigin(position);\n    this._showTimeoutId = setTimeout(() => {\n      this._visibility = 'visible';\n\n      // If this was set to true immediately, then a body click that triggers show() would\n      // trigger interaction and close the tooltip right after it was displayed.\n      this._closeOnInteraction = false;\n\n      // Mark for check so if any parent component has set the\n      // ChangeDetectionStrategy to OnPush it will be checked anyways\n      this._markForCheck();\n      setTimeout(() => this._closeOnInteraction = true, 0);\n    }, delay);\n  }\n\n  /**\n   * Begins the animation to hide the tooltip after the provided delay in ms.\n   * @param delay Amount of milliseconds to delay showing the tooltip.\n   */\n  hide(delay: number): void {\n    // Cancel the delayed show if it is scheduled\n    if (this._showTimeoutId) {\n      clearTimeout(this._showTimeoutId);\n    }\n\n    this._hideTimeoutId = setTimeout(() => {\n      this._visibility = 'hidden';\n      this._closeOnInteraction = false;\n\n      // Mark for check so if any parent component has set the\n      // ChangeDetectionStrategy to OnPush it will be checked anyways\n      this._markForCheck();\n    }, delay);\n  }\n\n  /**\n   * Returns an observable that notifies when the tooltip has been hidden from view\n   */\n  afterHidden(): Observable<void> {\n    return this._onHide.asObservable();\n  }\n\n  /**\n   * Whether the tooltip is being displayed\n   */\n  isVisible(): boolean {\n    return this._visibility === 'visible';\n  }\n\n  /** Sets the tooltip transform origin according to the tooltip position */\n  _setTransformOrigin(value: TooltipPosition) {\n    const isLtr = !this._dir || this._dir.value == 'ltr';\n    switch (value) {\n      case 'before': this._transformOrigin = isLtr ? 'right' : 'left'; break;\n      case 'after': this._transformOrigin = isLtr ? 'left' : 'right'; break;\n      case 'left': this._transformOrigin = 'right'; break;\n      case 'right': this._transformOrigin = 'left'; break;\n      case 'above': this._transformOrigin = 'bottom'; break;\n      case 'below': this._transformOrigin = 'top'; break;\n      default: throwMd2TooltipInvalidPositionError(value);\n    }\n  }\n\n  _afterVisibilityAnimation(e: AnimationEvent): void {\n    if (e.toState === 'hidden' && !this.isVisible()) {\n      this._onHide.next();\n    }\n  }\n\n  /**\n   * Interactions on the HTML body should close the tooltip immediately as defined in the\n   * material design spec.\n   * https://material.google.com/components/tooltips.html#tooltips-interaction\n   */\n  _handleBodyInteraction(): void {\n    if (this._closeOnInteraction) {\n      this.hide(0);\n    }\n  }\n\n  /**\n   * Marks that the tooltip needs to be checked in the next change detection run.\n   * Mainly used for rendering the initial text before positioning a tooltip, which\n   * can be problematic in components with OnPush change detection.\n   */\n  _markForCheck(): void {\n    this._changeDetectorRef.markForCheck();\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {OverlayModule, MdCommonModule, PlatformModule} from '../core/index';\nimport {Md2Tooltip, Md2TooltipComponent} from './tooltip';\n\n\n@NgModule({\n  imports: [OverlayModule, MdCommonModule, PlatformModule],\n  exports: [Md2Tooltip, Md2TooltipComponent, MdCommonModule],\n  declarations: [Md2Tooltip, Md2TooltipComponent],\n  entryComponents: [Md2TooltipComponent],\n})\nexport class Md2TooltipModule {}\n\n\nexport * from './tooltip';\n","import { NgModule } from '@angular/core';\n\nimport {\n  MdRippleModule,\n  RtlModule,\n  PortalModule,\n  OverlayModule,\n  A11yModule,\n  CompatibilityModule,\n  MdNativeDateModule,\n} from './core/index';\n\nimport { Md2AccordionModule } from './accordion/index';\nimport { Md2AutocompleteModule } from './autocomplete/index';\nimport { Md2ChipsModule } from './chips/chips';\nimport { Md2CollapseModule } from './collapse/index';\nimport { Md2ColorpickerModule } from './colorpicker/index';\nimport { Md2DataTableModule } from './data-table/data-table';\nimport { Md2DatepickerModule } from './datepicker/index';\nimport { Md2DialogModule } from './dialog/index';\nimport { Md2MenuModule } from './menu/menu';\nimport { Md2SelectModule } from './select/index';\nimport { Md2TabsModule } from './tabs/tabs';\nimport { Md2TagsModule } from './tags/index';\nimport { Md2ToastModule } from './toast/index';\nimport { Md2TooltipModule } from './tooltip/index';\n\nimport { PlatformModule } from './core/platform/index';\nimport { StyleModule } from './core/style/index';\n\nconst MD2_MODULES = [\n  Md2AccordionModule,\n  Md2AutocompleteModule,\n  Md2ChipsModule,\n  Md2CollapseModule,\n  Md2ColorpickerModule,\n  Md2DataTableModule,\n  Md2DatepickerModule,\n  Md2DialogModule,\n  Md2MenuModule,\n  MdRippleModule,\n  Md2SelectModule,\n  Md2TabsModule,\n  Md2TagsModule,\n  Md2ToastModule,\n  Md2TooltipModule,\n  OverlayModule,\n  PortalModule,\n  RtlModule,\n  StyleModule,\n  A11yModule,\n  PlatformModule,\n  CompatibilityModule,\n  MdNativeDateModule,\n];\n\n@NgModule({\n  imports: MD2_MODULES,\n  exports: MD2_MODULES,\n})\nexport class Md2Module { }\n"],"names":["tslib_1.__extends","tslib_1.__values","state","first","style","nextId","_uniqueIdCounter","DEFAULT_MONTH_NAMES","DEFAULT_DATE_NAMES","range","DEFAULT_DAY_OF_WEEK_NAMES","fadeInContent","filter","trigger"],"mappings":"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"}
